"use strict";(self.webpackChunkclips_angular=self.webpackChunkclips_angular||[]).push([[179],{2011:(ut,be,O)=>{O.d(be,{Dh:()=>he,GT:()=>de,cc:()=>Ae,hO:()=>Le,on:()=>B,pX:()=>oe,xv:()=>fe});var c=O(4650),J=O(127),R=O(5813);ut=O.hmd(ut);const se=["ngOnDestroy"],oe=(pe,Je,ot,Se={})=>new Proxy(pe,{get:(_e,Ie)=>ot.runOutsideAngular(()=>{var Be;if(pe[Ie])return!(null===(Be=Se?.spy)||void 0===Be)&&Be.get&&Se.spy.get(Ie,pe[Ie]),pe[Ie];if(se.indexOf(Ie)>-1)return()=>{};const je=Je.toPromise().then(U=>{const ge=U&&U[Ie];return"function"==typeof ge?ge.bind(U):ge&&ge.then?ge.then(Z=>ot.run(()=>Z)):ot.run(()=>ge)});return new Proxy(()=>{},{get:(U,ge)=>je[ge],apply:(U,ge,Z)=>je.then(Q=>{var re;const ne=Q&&Q(...Z);return!(null===(re=Se?.spy)||void 0===re)&&re.apply&&Se.spy.apply(Ie,Z,ne),ne})})})}),de=(pe,Je)=>{Je.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Se=>{Object.defineProperty(pe.prototype,Se,Object.getOwnPropertyDescriptor(ot.prototype||ot,Se))})})};class ue{constructor(Je){return Je}}const he=new c.OlP("angularfire2.app.options"),fe=new c.OlP("angularfire2.app.name");function B(pe,Je,ot){const _e="object"==typeof ot&&ot||{};_e.name=_e.name||"string"==typeof ot&&ot||"[DEFAULT]";const Be=J.Z.apps.filter(je=>je&&je.name===_e.name)[0]||Je.runOutsideAngular(()=>J.Z.initializeApp(pe,_e));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&j("error",`${Be.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Be)}const j=(pe,...Je)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...Je)},W={provide:ue,useFactory:B,deps:[he,c.R0b,[new c.FiY,fe]]};let Le=(()=>{class pe{constructor(ot){J.Z.registerVersion("angularfire",R.q4.full,"core"),J.Z.registerVersion("angularfire",R.q4.full,"app-compat"),J.Z.registerVersion("angular",c.q4F.full,ot.toString())}static initializeApp(ot,Se){return{ngModule:pe,providers:[{provide:he,useValue:ot},{provide:fe,useValue:Se}]}}}return pe.\u0275fac=function(ot){return new(ot||pe)(c.LFG(c.Lbi))},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({providers:[W]}),pe})();function Ae(pe,Je,ot,Se,_e){const[,Ie,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(Ie)return function we(pe,Je){try{return pe.toString()===Je.toString()}catch{return pe===Je}}(_e,Be)||(me("error",`${Je} was already initialized on the ${ot} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:_e,was:Be})),Ie;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,_e]),je}}const tt=!!ut.hot,me=(pe,...Je)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,be,O)=>{O.d(be,{q4:()=>it,iC:()=>ts,HU:()=>Ro,vb:()=>Xi,JM:()=>Ca});var c=O(4650),J=O(5867),R=O(5861),se=O(9681),oe=O(2090),de=O(4859),ue=O(1877),he=O(8766);const fe="@firebase/installations",B="0.5.16",W=`w:${B}`,Le="FIS_v2",Je=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Se({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function _e(C){return{token:C.token,requestStatus:2,expiresIn:Q(C.expiresIn),creationTime:Date.now()}}function Ie(C,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(C,D){const F=(yield D.json()).error;return Je.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function U(C,{refreshToken:D}){const x=je(C);return x.append("Authorization",function re(C){return`${Le} ${C}`}(D)),x}function ge(C){return Z.apply(this,arguments)}function Z(){return(Z=(0,R.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function Q(C){return Number(C.replace("s","000"))}function ne(C,D){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:x}){const F=Se(C),K=je(C),te=D.getImmediate({optional:!0});if(te){const vt=yield te.getHeartbeatsHeader();vt&&K.append("x-firebase-client",vt)}const Ne={method:"POST",headers:K,body:JSON.stringify({fid:x,authVersion:Le,appId:C.appId,sdkVersion:W})},nt=yield ge(()=>fetch(F,Ne));if(nt.ok){const vt=yield nt.json();return{fid:vt.fid||x,registrationStatus:2,refreshToken:vt.refreshToken,authToken:_e(vt.authToken)}}throw yield Ie("Create Installation",nt)})).apply(this,arguments)}function Oe(C){return new Promise(D=>{setTimeout(D,C)})}const Kt=/^[cdef][\w-]{21}$/;function We(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function on(C){return function pt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Kt.test(x)?x:""}catch{return""}}function pn(C){return`${C.appName}!${C.appId}`}const zt=new Map;function Yt(C,D){const x=pn(C);un(x,D),function Hi(C,D){const x=function Ar(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=C=>{un(C.data.key,C.data.fid)}),di}();x&&x.postMessage({key:C,fid:D}),function Br(){0===zt.size&&di&&(di.close(),di=null)}()}(x,D)}function un(C,D){const x=zt.get(C);if(x)for(const F of x)F(D)}let di=null;const Qr="firebase-installations-store";let Jr=null;function ea(){return Jr||(Jr=(0,he.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Qr)}})),Jr}function Ke(C,D){return wr.apply(this,arguments)}function wr(){return(wr=(0,R.Z)(function*(C,D){const x=pn(C),K=(yield ea()).transaction(Qr,"readwrite"),te=K.objectStore(Qr),Ee=yield te.get(x);return yield te.put(D,x),yield K.done,(!Ee||Ee.fid!==D.fid)&&Yt(C,D.fid),D})).apply(this,arguments)}function fs(C){return zn.apply(this,arguments)}function zn(){return(zn=(0,R.Z)(function*(C){const D=pn(C),F=(yield ea()).transaction(Qr,"readwrite");yield F.objectStore(Qr).delete(D),yield F.done})).apply(this,arguments)}function Xr(C,D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,R.Z)(function*(C,D){const x=pn(C),K=(yield ea()).transaction(Qr,"readwrite"),te=K.objectStore(Qr),Ee=yield te.get(x),Ne=D(Ee);return void 0===Ne?yield te.delete(x):yield te.put(Ne,x),yield K.done,Ne&&(!Ee||Ee.fid!==Ne.fid)&&Yt(C,Ne.fid),Ne})).apply(this,arguments)}function Mn(C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,R.Z)(function*(C){let D;const x=yield Xr(C.appConfig,F=>{const K=hn(F),te=gt(C,K);return D=te.registrationPromise,te.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function hn(C){return At(C||{fid:We(),registrationStatus:0})}function gt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Je.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function lt(C,D){return sn.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:lr(C)}:{installationEntry:D}}function sn(){return(sn=(0,R.Z)(function*(C,D){try{const x=yield ne(C,D);return Ke(C.appConfig,x)}catch(x){throw ot(x)&&409===x.customData.serverCode?yield fs(C.appConfig):yield Ke(C.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function lr(C){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,R.Z)(function*(C){let D=yield jr(C.appConfig);for(;1===D.registrationStatus;)yield Oe(100),D=yield jr(C.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Mn(C);return F||x}return D})).apply(this,arguments)}function jr(C){return Xr(C,D=>{if(!D)throw Je.create("installation-not-found");return At(D)})}function At(C){return function ps(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Jt(C,D){return Di.apply(this,arguments)}function Di(){return(Di=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:D},x){const F=Xt(C,x),K=U(C,x),te=D.getImmediate({optional:!0});if(te){const vt=yield te.getHeartbeatsHeader();vt&&K.append("x-firebase-client",vt)}const Ne={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:W,appId:C.appId}})},nt=yield ge(()=>fetch(F,Ne));if(nt.ok)return _e(yield nt.json());throw yield Ie("Generate Auth Token",nt)})).apply(this,arguments)}function Xt(C,{fid:D}){return`${Se(C)}/${D}/authTokens:generate`}function Wn(C){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(C,D=!1){let x;const F=yield Xr(C.appConfig,te=>{if(!Ft(te))throw Je.create("not-registered");const Ee=te.authToken;if(!D&&$(Ee))return te;if(1===Ee.requestStatus)return x=et(C,D),te;{if(!navigator.onLine)throw Je.create("app-offline");const Ne=q(te);return x=Et(C,Ne),Ne}});return x?yield x:F.authToken})).apply(this,arguments)}function et(C,D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,R.Z)(function*(C,D){let x=yield Xe(C.appConfig);for(;1===x.authToken.requestStatus;)yield Oe(100),x=yield Xe(C.appConfig);const F=x.authToken;return 0===F.requestStatus?Wn(C,D):F})).apply(this,arguments)}function Xe(C){return Xr(C,D=>{if(!Ft(D))throw Je.create("not-registered");return function ve(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Et(C,D){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(C,D){try{const x=yield Jt(C,D),F=Object.assign(Object.assign({},D),{authToken:x});return yield Ke(C.appConfig,F),x}catch(x){if(!ot(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ke(C.appConfig,F)}else yield fs(C.appConfig);throw x}})).apply(this,arguments)}function Ft(C){return void 0!==C&&2===C.registrationStatus}function $(C){return 2===C.requestStatus&&!function L(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function q(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function He(){return(He=(0,R.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:F}=yield Mn(D);return F?F.catch(console.error):Wn(D).catch(console.error),x.fid})).apply(this,arguments)}function Wt(){return(Wt=(0,R.Z)(function*(C,D=!1){const x=C;return yield cn(x),(yield Wn(x,D)).token})).apply(this,arguments)}function cn(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,R.Z)(function*(C){const{registrationPromise:D}=yield Mn(C);D&&(yield D)})).apply(this,arguments)}function gs(C){return Je.create("missing-app-config-values",{valueName:C})}const mo="installations",yn=C=>{const D=C.getProvider("app").getImmediate(),x=function gn(C){if(!C||!C.options)throw gs("App Configuration");if(!C.name)throw gs("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw gs(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=C=>{const D=C.getProvider("app").getImmediate(),x=(0,se._getProvider)(D,mo).getImmediate();return{getId:()=>function Y(C){return He.apply(this,arguments)}(x),getToken:K=>function ct(C){return Wt.apply(this,arguments)}(x,K)}};(function Xa(){(0,se._registerComponent)(new de.wA(mo,yn,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",Gs,"PRIVATE"))})(),(0,se.registerVersion)(fe,B),(0,se.registerVersion)(fe,B,"esm2017");const Ti="@firebase/remote-config",Bn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jh{constructor(D,x,F,K){this.client=D,this.storage=x,this.storageCache=F,this.logger=K}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,K=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var x=this;return(0,R.Z)(function*(){const[F,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(D.cacheMaxAgeMillis,F))return K;D.eTag=K&&K.eTag;const te=yield x.client.fetch(D),Ee=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Ee.push(x.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Ee),te})()}}function Il(C=navigator){return C.languages&&C.languages[0]||C.language}class El{constructor(D,x,F,K,te,Ee){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=F,this.projectId=K,this.apiKey=te,this.appId=Ee}fetch(D){var x=this;return(0,R.Z)(function*(){var F,K,te;const[Ee,Ne]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ht={sdk_version:x.sdkVersion,app_instance_id:Ee,app_instance_id_token:Ne,app_id:x.appId,language_code:Il()},vn={method:"POST",headers:xt,body:JSON.stringify(ht)},fr=fetch(vt,vn),so=new Promise((Oo,oo)=>{D.signal.addEventListener(()=>{const vi=new Error("The operation was aborted.");vi.name="AbortError",oo(vi)})});let Ns;try{yield Promise.race([fr,so]),Ns=yield fr}catch(Oo){let oo="fetch-client-network";throw"AbortError"===(null===(F=Oo)||void 0===F?void 0:F.name)&&(oo="fetch-timeout"),Bn.create(oo,{originalErrorMessage:null===(K=Oo)||void 0===K?void 0:K.message})}let Mt=Ns.status;const ki=Ns.headers.get("ETag")||void 0;let Rs,ii;if(200===Ns.status){let Oo;try{Oo=yield Ns.json()}catch(oo){throw Bn.create("fetch-client-parse",{originalErrorMessage:null===(te=oo)||void 0===te?void 0:te.message})}Rs=Oo.entries,ii=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===ii?Mt=500:"NO_CHANGE"===ii?Mt=304:("NO_TEMPLATE"===ii||"EMPTY_CONFIG"===ii)&&(Rs={}),304!==Mt&&200!==Mt)throw Bn.create("fetch-status",{httpStatus:Mt});return{status:Mt,eTag:ki,config:Rs}})()}}class Sp{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,R.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:F}){var K=this;return(0,R.Z)(function*(){yield function Yn(C,D){return new Promise((x,F)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(x,K);C.addEventListener(()=>{clearTimeout(te),F(Bn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const te=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),te}catch(te){if(!function Qc(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(te))throw te;const Ee={throttleEndTimeMillis:Date.now()+(0,oe.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Ee),K.attemptFetch(D,Ee)}})()}}class nu{constructor(D,x,F,K,te){this.app=D,this._client=x,this._storageCache=F,this._storage=K,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bl(C,D){var x;const F=C.target.error||void 0;return Bn.create(D,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const vs="app_namespace_store";class kp{constructor(D,x,F,K=function Mp(){return new Promise((C,D)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=K=>{D(bl(K,"storage-open"))},F.onsuccess=K=>{C(K.target.result)},F.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(vs,{keyPath:"compositeKey"})}}catch(F){D(Bn.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=D,this.appName=x,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((K,te)=>{var Ee;const nt=F.transaction([vs],"readonly").objectStore(vs),vt=x.createCompositeKey(D);try{const xt=nt.get(vt);xt.onerror=ht=>{te(bl(ht,"storage-get"))},xt.onsuccess=ht=>{const vn=ht.target.result;K(vn?vn.value:void 0)}}catch(xt){te(Bn.create("storage-get",{originalErrorMessage:null===(Ee=xt)||void 0===Ee?void 0:Ee.message}))}})})()}set(D,x){var F=this;return(0,R.Z)(function*(){const K=yield F.openDbPromise;return new Promise((te,Ee)=>{var Ne;const vt=K.transaction([vs],"readwrite").objectStore(vs),xt=F.createCompositeKey(D);try{const ht=vt.put({compositeKey:xt,value:x});ht.onerror=vn=>{Ee(bl(vn,"storage-set"))},ht.onsuccess=()=>{te()}}catch(ht){Ee(Bn.create("storage-set",{originalErrorMessage:null===(Ne=ht)||void 0===Ne?void 0:Ne.message}))}})})()}delete(D){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((K,te)=>{var Ee;const nt=F.transaction([vs],"readwrite").objectStore(vs),vt=x.createCompositeKey(D);try{const xt=nt.delete(vt);xt.onerror=ht=>{te(bl(ht,"storage-delete"))},xt.onsuccess=()=>{K()}}catch(xt){te(Bn.create("storage-delete",{originalErrorMessage:null===(Ee=xt)||void 0===Ee?void 0:Ee.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Xc{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const x=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),te=yield x;te&&(D.lastFetchStatus=te);const Ee=yield F;Ee&&(D.lastSuccessfulFetchTimestampMillis=Ee);const Ne=yield K;Ne&&(D.activeConfig=Ne)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ru(){return $h.apply(this,arguments)}function $h(){return($h=(0,R.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function ws(){(0,se._registerComponent)(new de.wA("remote-config",function C(D,{instanceIdentifier:x}){const F=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!(0,oe.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:te,apiKey:Ee,appId:Ne}=F.options;if(!te)throw Bn.create("registration-project-id");if(!Ee)throw Bn.create("registration-api-key");if(!Ne)throw Bn.create("registration-app-id");const nt=new kp(Ne,F.name,x=x||"firebase"),vt=new Xc(nt),xt=new ue.Yd(Ti);xt.logLevel=ue.in.ERROR;const ht=new El(K,se.SDK_VERSION,x,te,Ee,Ne),vn=new Sp(ht,nt),fr=new jh(vn,nt,vt,xt),so=new nu(F,fr,vt,nt,xt);return function Cn(C){const D=(0,oe.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(so),so},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ti,"0.3.15"),(0,se.registerVersion)(Ti,"0.3.15","esm2017")}();const Si="/firebase-messaging-sw.js",Zi="/firebase-cloud-messaging-push-scope",qi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ra="google.c.a.c_id",iu="google.c.a.c_l",Cl="google.c.a.ts",Hh="google.c.a.e";var zi=(()=>{return(C=zi||(zi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",zi;var C})();function ei(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hr(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),K=new Uint8Array(F.length);for(let te=0;te<F.length;++te)K[te]=F.charCodeAt(te);return K}const yo="fcm_token_details_db",dr="fcm_token_object_Store";function Gh(C){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(yo))return null;let D=null;return(yield(0,he.X3)(yo,5,{upgrade:(F=(0,R.Z)(function*(K,te,Ee,Ne){var nt;if(te<2||!K.objectStoreNames.contains(dr))return;const vt=Ne.objectStore(dr),xt=yield vt.index("fcmSenderId").get(C);if(yield vt.clear(),xt)if(2===te){const ht=xt;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;D={token:ht.fcmToken,createTime:null!==(nt=ht.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:ei(ht.vapidKey)}}}else if(3===te){const ht=xt;D={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:ei(ht.auth),p256dh:ei(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:ei(ht.vapidKey)}}}else if(4===te){const ht=xt;D={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:ei(ht.auth),p256dh:ei(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:ei(ht.vapidKey)}}}}),function(te,Ee,Ne,nt){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(yo),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Dn(D)?D:null;var F}),Zh.apply(this,arguments)}function Dn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const ti="firebase-messaging-store";let kr=null;function ou(){return kr||(kr=(0,he.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(ti)}})),kr}function _o(C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,R.Z)(function*(C){const D=pi(C),F=yield(yield ou()).transaction(ti).objectStore(ti).get(D);if(F)return F;{const K=yield Gh(C.appConfig.senderId);if(K)return yield qt(C,K),K}})).apply(this,arguments)}function qt(C,D){return au.apply(this,arguments)}function au(){return(au=(0,R.Z)(function*(C,D){const x=pi(C),K=(yield ou()).transaction(ti,"readwrite");return yield K.objectStore(ti).put(D,x),yield K.done,D})).apply(this,arguments)}function Ws(C){return uu.apply(this,arguments)}function uu(){return(uu=(0,R.Z)(function*(C){const D=pi(C),F=(yield ou()).transaction(ti,"readwrite");yield F.objectStore(ti).delete(D),yield F.done})).apply(this,arguments)}function pi({appConfig:C}){return C.appId}const En=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(C,D){return cu.apply(this,arguments)}function cu(){return(cu=(0,R.Z)(function*(C,D){var x;const F=yield Tl(C),K=De(D),te={method:"POST",headers:F,body:JSON.stringify(K)};let Ee;try{Ee=yield(yield fetch(Ki(C.appConfig),te)).json()}catch(Ne){throw En.create("token-subscribe-failed",{errorInfo:null===(x=Ne)||void 0===x?void 0:x.toString()})}if(Ee.error)throw En.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw En.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function zh(C,D){return du.apply(this,arguments)}function du(){return(du=(0,R.Z)(function*(C,D){var x;const F=yield Tl(C),K=De(D.subscriptionOptions),te={method:"PATCH",headers:F,body:JSON.stringify(K)};let Ee;try{Ee=yield(yield fetch(`${Ki(C.appConfig)}/${D.token}`,te)).json()}catch(Ne){throw En.create("token-update-failed",{errorInfo:null===(x=Ne)||void 0===x?void 0:x.toString()})}if(Ee.error)throw En.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw En.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function hu(C,D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,R.Z)(function*(C,D){var x;const K={method:"DELETE",headers:yield Tl(C)};try{const Ee=yield(yield fetch(`${Ki(C.appConfig)}/${D}`,K)).json();if(Ee.error)throw En.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(te){throw En.create("token-unsubscribe-failed",{errorInfo:null===(x=te)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Ki({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Tl(C){return ia.apply(this,arguments)}function ia(){return(ia=(0,R.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function De({p256dh:C,auth:D,endpoint:x,vapidKey:F}){const K={web:{endpoint:x,auth:D,p256dh:C}};return F!==qi&&(K.web.applicationPubKey=F),K}const Ht=6048e5;function fu(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,R.Z)(function*(C){const D=yield Sl(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:ei(D.getKey("auth")),p256dh:ei(D.getKey("p256dh"))},F=yield _o(C.firebaseDependencies);if(F){if(rd(F.subscriptionOptions,x))return Date.now()>=F.createTime+Ht?vo(C,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield hu(C.firebaseDependencies,F.token)}catch(K){console.warn(K)}return sa(C.firebaseDependencies,x)}return sa(C.firebaseDependencies,x)})).apply(this,arguments)}function Tn(C){return gu.apply(this,arguments)}function gu(){return(gu=(0,R.Z)(function*(C){const D=yield _o(C.firebaseDependencies);D&&(yield hu(C.firebaseDependencies,D.token),yield Ws(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function vo(C,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,R.Z)(function*(C,D){try{const x=yield zh(C.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield qt(C.firebaseDependencies,F),x}catch(x){throw yield Tn(C),x}})).apply(this,arguments)}function sa(C,D){return oa.apply(this,arguments)}function oa(){return(oa=(0,R.Z)(function*(C,D){const F={token:yield Dt(C,D),createTime:Date.now(),subscriptionOptions:D};return yield qt(C,F),F.token})).apply(this,arguments)}function Sl(C,D){return Al.apply(this,arguments)}function Al(){return(Al=(0,R.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hr(D)})})).apply(this,arguments)}function rd(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function aa(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Sn(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const F=D.notification.body;F&&(C.notification.body=F);const K=D.notification.image;K&&(C.notification.image=K);const te=D.notification.icon;te&&(C.notification.icon=te)}(D,C),function Ai(C,D){!D.data||(C.data=D.data)}(D,C),function xl(C,D){var x,F,K,te,Ee;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const Ne=null!==(K=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==K?K:null===(te=D.notification)||void 0===te?void 0:te.click_action;Ne&&(C.fcmOptions.link=Ne);const nt=null===(Ee=D.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;nt&&(C.fcmOptions.analyticsLabel=nt)}(D,C),D}function Ks(C){return"object"==typeof C&&!!C&&ra in C}function Yi(C,D){const x=[];for(let F=0;F<C.length;F++)x.push(C.charAt(F)),F<D.length&&x.push(D.charAt(F));return x.join("")}function ua(C){return En.create("missing-app-config-values",{valueName:C})}Yi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rp{constructor(D,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Np(C){if(!C||!C.options)throw ua("App Configuration Object");if(!C.name)throw ua("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const F of D)if(!x[F])throw ua(F);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Ml(C){return mu.apply(this,arguments)}function mu(){return(mu=(0,R.Z)(function*(C){var D;try{C.swRegistration=yield navigator.serviceWorker.register(Si,{scope:Zi}),C.swRegistration.update().catch(()=>{})}catch(x){throw En.create("failed-service-worker-registration",{browserErrorMessage:null===(D=x)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function la(C,D){return kl.apply(this,arguments)}function kl(){return(kl=(0,R.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Ml(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function ca(C,D){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,R.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=qi)})).apply(this,arguments)}function _u(){return(_u=(0,R.Z)(function*(C,D){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield ca(C,D?.vapidKey),yield la(C,D?.serviceWorkerRegistration),fu(C)})).apply(this,arguments)}function Rl(C,D,x){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,R.Z)(function*(C,D,x){const F=Pl(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[ra],message_name:x[iu],message_time:x[Cl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pl(C){switch(C){case zi.NOTIFICATION_CLICKED:return"notification_open";case zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ys(){return(Ys=(0,R.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===zi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(aa(x)):C.onMessageHandler.next(aa(x)));const F=x.data;Ks(F)&&"1"===F[Hh]&&(yield Rl(C,x.messageType,F))})).apply(this,arguments)}const Qs="@firebase/messaging",Qn=C=>{const D=new Rp(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function id(C,D){return Ys.apply(this,arguments)}(D,x)),D},Gr=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:F=>function yu(C,D){return _u.apply(this,arguments)}(D,F)}};function Fl(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,R.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mn(){(0,se._registerComponent)(new de.wA("messaging",Qn,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Gr,"PRIVATE")),(0,se.registerVersion)(Qs,"0.10.0"),(0,se.registerVersion)(Qs,"0.10.0","esm2017")}();const Io="analytics",ud="firebase_id",Xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eu="https://www.googletagmanager.com/gtag/js",An=new ue.Yd("@firebase/analytics");function bu(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function Cu(C,D){const x=document.createElement("script");x.src=`${Eu}?l=${C}&id=${D}`,x.async=!0,document.head.appendChild(x)}function Wh(C,D,x,F,K,te){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,R.Z)(function*(C,D,x,F,K,te){const Ee=F[K];try{if(Ee)yield D[Ee];else{const nt=(yield bu(x)).find(vt=>vt.measurementId===K);nt&&(yield D[nt.appId])}}catch(Ne){An.error(Ne)}C("config",K,te)})).apply(this,arguments)}function bo(C,D,x,F,K){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.Z)(function*(C,D,x,F,K){try{let te=[];if(K&&K.send_to){let Ee=K.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Ne=yield bu(x);for(const nt of Ee){const vt=Ne.find(ht=>ht.measurementId===nt),xt=vt&&D[vt.appId];if(!xt){te=[];break}te.push(xt)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),C("event",F,K||{})}catch(te){An.error(te)}})).apply(this,arguments)}function cd(C){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Eu)&&x.src.includes(C))return x;return null}const sr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pa=new class xi{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function hd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ga(C){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,R.Z)(function*(C){var D;const{appId:x,apiKey:F}=C,K={method:"GET",headers:hd(F)},te=Xs.replace("{app-id}",x),Ee=yield fetch(te,K);if(200!==Ee.status&&304!==Ee.status){let Ne="";try{const nt=yield Ee.json();null!==(D=nt.error)&&void 0!==D&&D.message&&(Ne=nt.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Ne})}return Ee.json()})).apply(this,arguments)}function kn(C){return gi.apply(this,arguments)}function gi(){return(gi=(0,R.Z)(function*(C,D=pa,x){const{appId:F,apiKey:K,measurementId:te}=C.options;if(!F)throw sr.create("no-app-id");if(!K){if(te)return{measurementId:te,appId:F};throw sr.create("no-api-key")}const Ee=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ne=new Au;return setTimeout((0,R.Z)(function*(){Ne.abort()}),void 0!==x?x:6e4),Tu({appId:F,apiKey:K,measurementId:te},Ee,Ne,D)})).apply(this,arguments)}function Tu(C,D,x){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},F,K=pa){var te,Ee;const{appId:Ne,measurementId:nt}=C;try{yield ma(F,D)}catch(vt){if(nt)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${null===(te=vt)||void 0===te?void 0:te.message}]`),{appId:Ne,measurementId:nt};throw vt}try{const vt=yield ga(C);return K.deleteThrottleMetadata(Ne),vt}catch(vt){const xt=vt;if(!Su(xt)){if(K.deleteThrottleMetadata(Ne),nt)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:Ne,measurementId:nt};throw vt}const ht=503===Number(null===(Ee=xt?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,oe.$s)(x,K.intervalMillis,30):(0,oe.$s)(x,K.intervalMillis),vn={throttleEndTimeMillis:Date.now()+ht,backoffCount:x+1};return K.setThrottleMetadata(Ne,vn),An.debug(`Calling attemptFetch again in ${ht} millis`),Tu(C,vn,F,K)}})).apply(this,arguments)}function ma(C,D){return new Promise((x,F)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(x,K);C.addEventListener(()=>{clearTimeout(te),F(sr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Su(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Au{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Cs,_a;function Ds(){return(Ds=(0,R.Z)(function*(C,D,x,F,K){if(K&&K.global)C("event",x,F);else{const te=yield D;C("event",x,Object.assign(Object.assign({},F),{send_to:te}))}})).apply(this,arguments)}function ro(C){_a=C}function $l(C){Cs=C}function Ji(){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,R.Z)(function*(){var C;if(!(0,oe.hl)())return An.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return An.warn(sr.create("indexeddb-unavailable",{errorInfo:null===(C=D)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function To(){return(To=(0,R.Z)(function*(C,D,x,F,K,te,Ee){var Ne;const nt=kn(C);nt.then(fr=>{x[fr.measurementId]=fr.appId,C.options.measurementId&&fr.measurementId!==C.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${fr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fr=>An.error(fr)),D.push(nt);const vt=Ji().then(fr=>{if(fr)return F.getId()}),[xt,ht]=yield Promise.all([nt,vt]);cd(te)||Cu(te,xt.measurementId),_a&&(K("consent","default",_a),ro(void 0)),K("js",new Date);const vn=null!==(Ne=Ee?.config)&&void 0!==Ne?Ne:{};return vn.origin="firebase",vn.update=!0,null!=ht&&(vn[ud]=ht),K("config",xt.measurementId,vn),Cs&&(K("set",Cs),$l(void 0)),xt.measurementId})).apply(this,arguments)}class ku{constructor(D){this.app=D}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},Ts=[];const So={};let xo,io,Ao="dataLayer",va=!1;function wy(C,D,x){!function Op(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((F,K)=>`(${K+1}) ${F}`).join(" "),x=sr.create("invalid-analytics-context",{errorInfo:D});An.warn(x.message)}}();const F=C.options.appId;if(!F)throw sr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw sr.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[F])throw sr.create("already-exists",{id:F});if(!va){!function ld(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(Ao);const{wrappedGtag:te,gtagCore:Ee}=function da(C,D,x,F,K){let te=function(...Ee){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(te=window[K]),window[K]=function Du(C,D,x,F){function te(){return(te=(0,R.Z)(function*(Ee,Ne,nt){try{"event"===Ee?yield bo(C,D,x,Ne,nt):"config"===Ee?yield Wh(C,D,x,F,Ne,nt):"consent"===Ee?C("consent","update",nt):C("set",Ne)}catch(vt){An.error(vt)}})).apply(this,arguments)}return function K(Ee,Ne,nt){return te.apply(this,arguments)}}(te,C,D,x),{gtagCore:te,wrappedGtag:window[K]}}(Zr,Ts,So,Ao,"gtag");io=te,xo=Ee,va=!0}return Zr[F]=function Do(C,D,x,F,K,te,Ee){return To.apply(this,arguments)}(C,Ts,So,D,xo,Ao,x),new ku(C)}function Ey(){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,R.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const at="@firebase/analytics";!function _n(){(0,se._registerComponent)(new de.wA(Io,(D,{options:x})=>wy(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function C(D){try{const x=D.getProvider(Io).getImmediate();return{logEvent:(F,K,te)=>function ln(C,D,x,F){C=(0,oe.m9)(C),function fd(C,D,x,F,K){return Ds.apply(this,arguments)}(io,Zr[C.app.options.appId],D,x,F).catch(K=>An.error(K))}(x,F,K,te)}}catch(x){throw sr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,se.registerVersion)(at,"0.8.4"),(0,se.registerVersion)(at,"0.8.4","esm2017")}();var yi=O(4408),Er=O(7565);const Ru=new class Ss extends Er.v{}(class wa extends yi.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,x,F):(D.flush(this),0)}});var Gl=O(4986),Ia=O(8505),Mo=O(9468),As=O(5363);const it=new c.GfV("7.4.1"),Ea="__angularfire_symbol__analyticsIsSupportedValue",xs="__angularfire_symbol__analyticsIsSupported",ba="__angularfire_symbol__remoteConfigIsSupportedValue",ko="__angularfire_symbol__remoteConfigIsSupported",jn="__angularfire_symbol__messagingIsSupportedValue",Zl="__angularfire_symbol__messagingIsSupported";function Ca(C,D,x){if(D){if(1===D.length)return D[0];const te=D.filter(Ee=>Ee.app===x);if(1===te.length)return te[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[xs]||(globalThis[xs]=Ey().then(C=>globalThis[Ea]=C).catch(()=>globalThis[Ea]=!1)),globalThis[Zl]||(globalThis[Zl]=Fl().then(C=>globalThis[jn]=C).catch(()=>globalThis[jn]=!1)),globalThis[ko]||(globalThis[ko]=ru().then(C=>globalThis[ba]=C).catch(()=>globalThis[ba]=!1));const Xi=(C,D)=>{const x=D?[D]:(0,J.C6)(),F=[];return x.forEach(K=>{K.container.getProvider(C).instances.forEach(Ee=>{F.includes(Ee)||F.push(Ee)})}),F};function Ms(){}class _i{constructor(D,x=Ru){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,F){const K=this.zone;return this.delegate.schedule(function(Ee){K.runGuarded(()=>{D.apply(this,[Ee])})},x,F)}}class zl{constructor(D){this.zone=D,this.task=null}call(D,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),x.pipe((0,Ia.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ro=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new _i(Zone.current)),this.insideAngular=x.run(()=>new _i(Zone.current,Gl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function qr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ts(C){return qr(),function Nn(C){return function(x){return(x=x.lift(new zl(C.ngZone))).pipe((0,Mo.R)(C.outsideAngular),(0,As.Q)(C.insideAngular))}}(qr())(C)}},2090:(ut,be,O)=>{O.d(be,{$s:()=>Xe,BH:()=>Bt,G6:()=>Ie,L:()=>he,LL:()=>zt,Pz:()=>Kt,Sg:()=>We,UG:()=>we,US:()=>de,ZB:()=>j,ZR:()=>pn,aH:()=>pt,b$:()=>pe,eu:()=>je,hl:()=>Be,jU:()=>tt,m9:()=>Ft,ne:()=>Ln,pd:()=>Ci,r3:()=>hi,ru:()=>me,tV:()=>fe,uI:()=>Ae,vZ:()=>Ke,w1:()=>ot,xO:()=>zn,xb:()=>Jr,z$:()=>Le,zI:()=>U,zd:()=>Xr});const se=function($){const L=[];let q=0;for(let ve=0;ve<$.length;ve++){let Y=$.charCodeAt(ve);Y<128?L[q++]=Y:Y<2048?(L[q++]=Y>>6|192,L[q++]=63&Y|128):55296==(64512&Y)&&ve+1<$.length&&56320==(64512&$.charCodeAt(ve+1))?(Y=65536+((1023&Y)<<10)+(1023&$.charCodeAt(++ve)),L[q++]=Y>>18|240,L[q++]=Y>>12&63|128,L[q++]=Y>>6&63|128,L[q++]=63&Y|128):(L[q++]=Y>>12|224,L[q++]=Y>>6&63|128,L[q++]=63&Y|128)}return L},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,L){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let Y=0;Y<$.length;Y+=3){const He=$[Y],ct=Y+1<$.length,Wt=ct?$[Y+1]:0,cn=Y+2<$.length,Zt=cn?$[Y+2]:0;let Ut=(15&Wt)<<2|Zt>>6,rr=63&Zt;cn||(rr=64,ct||(Ut=64)),ve.push(q[He>>2],q[(3&He)<<4|Wt>>4],q[Ut],q[rr])}return ve.join("")},encodeString($,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa($):this.encodeByteArray(se($),L)},decodeString($,L){return this.HAS_NATIVE_SUPPORT&&!L?atob($):function($){const L=[];let q=0,ve=0;for(;q<$.length;){const Y=$[q++];if(Y<128)L[ve++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const He=$[q++];L[ve++]=String.fromCharCode((31&Y)<<6|63&He)}else if(Y>239&&Y<365){const cn=((7&Y)<<18|(63&$[q++])<<12|(63&$[q++])<<6|63&$[q++])-65536;L[ve++]=String.fromCharCode(55296+(cn>>10)),L[ve++]=String.fromCharCode(56320+(1023&cn))}else{const He=$[q++],ct=$[q++];L[ve++]=String.fromCharCode((15&Y)<<12|(63&He)<<6|63&ct)}}return L.join("")}(this.decodeStringToByteArray($,L))},decodeStringToByteArray($,L){this.init_();const q=L?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let Y=0;Y<$.length;){const He=q[$.charAt(Y++)],Wt=Y<$.length?q[$.charAt(Y)]:0;++Y;const Zt=Y<$.length?q[$.charAt(Y)]:64;++Y;const $e=Y<$.length?q[$.charAt(Y)]:64;if(++Y,null==He||null==Wt||null==Zt||null==$e)throw Error();ve.push(He<<2|Wt>>4),64!==Zt&&(ve.push(Wt<<4&240|Zt>>2),64!==$e&&ve.push(Zt<<6&192|$e))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},he=function($){return function($){const L=se($);return de.encodeByteArray(L,!0)}($).replace(/\./g,"")},fe=function($){try{return de.decodeString($,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function j($,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return L}for(const q in L)!L.hasOwnProperty(q)||!W(q)||($[q]=j($[q],L[q]));return $}function W($){return"__proto__"!==$}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const $=Le();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ie(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"object"==typeof indexedDB}function je(){return new Promise(($,L)=>{try{let q=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ve);Y.onsuccess=()=>{Y.result.close(),q||self.indexedDB.deleteDatabase(ve),$(!0)},Y.onupgradeneeded=()=>{q=!1},Y.onerror=()=>{var He;L((null===(He=Y.error)||void 0===He?void 0:He.message)||"")}}catch(q){L(q)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ne=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=$&&fe($[1]);return L&&JSON.parse(L)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},pt=()=>{var $;return null===($=ne())||void 0===$?void 0:$.config},Kt=$=>{var L;return null===(L=ne())||void 0===L?void 0:L[`_${$}`]};class Bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,q)=>{this.resolve=L,this.reject=q})}wrapCallback(L){return(q,ve)=>{q?this.reject(q):this.resolve(ve),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(q):L(q,ve))}}}function We($,L){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=L||"demo-project",Y=$.iat||0,He=$.sub||$.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:Y,exp:Y+3600,auth_time:Y,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(ct)),""].join(".")}class pn extends Error{constructor(L,q,ve){super(q),this.code=L,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(L,q,ve){this.service=L,this.serviceName=q,this.errors=ve}create(L,...q){const ve=q[0]||{},Y=`${this.service}/${L}`,He=this.errors[L],ct=He?function Yt($,L){return $.replace(Sr,(q,ve)=>{const Y=L[ve];return null!=Y?String(Y):`<${ve}?>`})}(He,ve):"Error";return new pn(Y,`${this.serviceName}: ${ct} (${Y}).`,ve)}}const Sr=/\{\$([^}]+)}/g;function hi($,L){return Object.prototype.hasOwnProperty.call($,L)}function Jr($){for(const L in $)if(Object.prototype.hasOwnProperty.call($,L))return!1;return!0}function Ke($,L){if($===L)return!0;const q=Object.keys($),ve=Object.keys(L);for(const Y of q){if(!ve.includes(Y))return!1;const He=$[Y],ct=L[Y];if(wr(He)&&wr(ct)){if(!Ke(He,ct))return!1}else if(He!==ct)return!1}for(const Y of ve)if(!q.includes(Y))return!1;return!0}function wr($){return null!==$&&"object"==typeof $}function zn($){const L=[];for(const[q,ve]of Object.entries($))Array.isArray(ve)?ve.forEach(Y=>{L.push(encodeURIComponent(q)+"="+encodeURIComponent(Y))}):L.push(encodeURIComponent(q)+"="+encodeURIComponent(ve));return L.length?"&"+L.join("&"):""}function Xr($){const L={};return $.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[Y,He]=ve.split("=");L[decodeURIComponent(Y)]=decodeURIComponent(He)}}),L}function Ci($){const L=$.indexOf("?");if(!L)return"";const q=$.indexOf("#",L);return $.substring(L,q>0?q:void 0)}function Ln($,L){const q=new hn($,L);return q.subscribe.bind(q)}class hn{constructor(L,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{L(this)}).catch(ve=>{this.error(ve)})}next(L){this.forEachObserver(q=>{q.next(L)})}error(L){this.forEachObserver(q=>{q.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,q,ve){let Y;if(void 0===L&&void 0===q&&void 0===ve)throw new Error("Missing Observer.");Y=function lt($,L){if("object"!=typeof $||null===$)return!1;for(const q of L)if(q in $&&"function"==typeof $[q])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:q,complete:ve},void 0===Y.next&&(Y.next=sn),void 0===Y.error&&(Y.error=sn),void 0===Y.complete&&(Y.complete=sn);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),He}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,L)}sendOne(L,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{q(this.observers[L])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}function Xe($,L=1e3,q=2){const ve=L*Math.pow(q,$),Y=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+Y)}function Ft($){return $&&$._delegate?$._delegate:$}},2194:(ut,be,O)=>{var c=O(4650);let J=null;function R(){return J}const ue=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const B=new c.OlP("Location Initialized");let j=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){W()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){W()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Le(){return new j((0,c.LFG)(ue))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Je)},providedIn:"root"}),n})();const pe=new c.OlP("appBaseHref");let Je=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+tt(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+tt(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ot=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+tt(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+tt(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(Be(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Ae,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function _e(){return new Se((0,c.LFG)(me))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}let en=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ta{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qs=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ta(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),_s(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{_s(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _s(n,e){n.context.$implicit=e.item}let Cn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ir("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ir("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class vl{constructor(){this.$implicit=null,this.ngIf=null}}function ir(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Qc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Sp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Gi=new Sp,Ap=new Qc;let nu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Gi;if((0,c.F4k)(t))return Ap;throw function Yn(n,e){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Is=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function dr(n){return"server"===n}let su=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new qh((0,c.LFG)(ue),window)}),n})();class qh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function kr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ti(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ys extends class id extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){J||(J=n)}(new Ys)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vu(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}();return null==t?null:function Gr(n){Qn=Qn||document.createElement("a"),Qn.setAttribute("href",n);const e=Qn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function eu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Qn,Qs=null;const mn=new c.OlP("TRANSITION_ID"),Ll=[{provide:c.ip1,useFactory:function Fl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[mn,ue,c.zs3],multi:!0}];let Vl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wu=new c.OlP("EventManagerPlugins");let od=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wu),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Iu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Js=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),wo=(()=>{class n extends Js{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ad),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ad))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ad(n){R().remove(n)}const Io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ud=/%COMP%/g;function Cu(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Cu(n,o,t):(o=o.replace(ud,n),t.push(o))}return t}function ld(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Eo=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new bo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new cd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case c.ifc.ShadowDom:return new dd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Cu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(od),c.LFG(wo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class bo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Io[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(da(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(da(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Io[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Io[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ld(r)):this.eventManager.addEventListener(e,t,ld(r))}}function da(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class cd extends bo{constructor(e,t,r,o){super(e),this.component=r;const u=Cu(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function An(n){return"_ngcontent-%COMP%".replace(ud,n)}(o+"-"+r.id),this.hostAttr=function bu(n){return"_nghost-%COMP%".replace(ud,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class dd extends bo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Cu(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sr=(()=>{class n extends Iu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ha=["alt","control","meta","shift"],fa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pa=(()=>{class n extends Iu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),ha.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),d+=b+".")}),d+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=o,v.fullKey=d,v}static matchEventFullKeyCode(t,r){let o=fa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ha.forEach(d=>{d!==o&&(0,xi[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Tu(){Ys.makeCurrent()},multi:!0},{provide:ue,useFactory:function ma(){return(0,c.RDi)(document),document},deps:[]}]),Cs=new c.OlP(""),fd=[{provide:c.rWj,useClass:class sd{addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(v){d=d||v,u--,0==u&&r(d)};o.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ds=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function to(){return new c.qLn},deps:[]},{provide:wu,useClass:sr,multi:!0,deps:[ue,c.R0b,c.Lbi]},{provide:wu,useClass:pa,multi:!0,deps:[ue]},{provide:Eo,useClass:Eo,deps:[od,wo,c.AFp]},{provide:c.FYo,useExisting:Eo},{provide:Js,useExisting:wo},{provide:wo,useClass:wo,deps:[ue]},{provide:od,useClass:od,deps:[wu,c.R0b]},{provide:class _o{},useClass:Vl,deps:[]},[]];let Bl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:mn,useExisting:c.AFp},Ll]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cs,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Ds,...fd],imports:[Is,c.hGG]}),n})(),Qi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Co(){return new Qi((0,c.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ln=O(8996),mi=O(3269);function at(...n){const e=(0,mi.yG)(n);return(0,ln.D)(n,e)}var ri=O(7579);class _n extends ri.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const wa=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Er=O(9751);const{isArray:Ss}=Array,{getPrototypeOf:Ru,prototype:Fp,keys:Gl}=Object;function Ia(n){if(1===n.length){const e=n[0];if(Ss(e))return{args:e,keys:null};if(function Mo(n){return n&&"object"==typeof n&&Ru(n)===Fp}(e)){const t=Gl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var As=O(4671),it=O(4004);const{isArray:Ea}=Array;function ba(n){return(0,it.U)(e=>function xs(n,e){return Ea(e)?n(...e):n(e)}(n,e))}function ko(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var jn=O(5403),Zl=O(9672);function No(...n){const e=(0,mi.yG)(n),t=(0,mi.jO)(n),{args:r,keys:o}=Ia(n);if(0===r.length)return(0,ln.D)([],e);const u=new Er.y(function Lp(n,e,t=As.y){return r=>{ql(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let v=0;v<o;v++)ql(e,()=>{const b=(0,ln.D)(n[v],e);let A=!1;b.subscribe((0,jn.x)(r,k=>{u[v]=k,A||(A=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>ko(o,d):As.y));return t?u.pipe(ba(t)):u}function ql(n,e,t){n?(0,Zl.f)(t,n,e):e()}var Ou=O(8189);function Xi(...n){return function Ca(){return(0,Ou.J)(1)}()((0,ln.D)(n,(0,mi.yG)(n)))}var Ms=O(8421);function _i(n){return new Er.y(e=>{(0,Ms.Xf)(n()).subscribe(e)})}var zl=O(9635),Ro=O(576);function qr(n,e){const t=(0,Ro.m)(n)?n:()=>n,r=o=>o.error(t());return new Er.y(e?o=>e.schedule(r,0,o):r)}var es=O(515),Mi=O(727),hr=O(4482);function ks(){return(0,hr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ts extends Er.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,hr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mi.w0.EMPTY)}return e}refCount(){return ks()(this)}}function Nn(n,e){return(0,hr.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,jn.x)(r,v=>{o?.unsubscribe();let b=0;const A=u++;(0,Ms.Xf)(n(v,A)).subscribe(o=(0,jn.x)(r,k=>r.next(e?e(v,k,A,b++):k),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function dn(n){return n<=0?()=>es.E:(0,hr.e)((e,t)=>{let r=0;e.subscribe((0,jn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Pu(...n){const e=(0,mi.yG)(n);return(0,hr.e)((t,r)=>{(e?Xi(n,t,e):Xi(n,t)).subscribe(r)})}function C(n,e){return(0,hr.e)((t,r)=>{let o=0;t.subscribe((0,jn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var D=O(5577);function x(n){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function F(n=K){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function K(){return new wa}function te(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((o,u)=>n(o,u,r)):As.y,dn(1),t?x(e):F(()=>new wa))}function Ee(n,e){return(0,Ro.m)(e)?(0,D.z)(n,e,1):(0,D.z)(n,1)}var Ne=O(8505);function nt(n){return(0,hr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,jn.x)(t,void 0,void 0,d=>{u=(0,Ms.Xf)(n(d,nt(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function vt(n,e,t,r,o){return(u,d)=>{let m=t,v=e,b=0;u.subscribe((0,jn.x)(d,A=>{const k=b++;v=m?n(v,A,k):(m=!0,A),r&&d.next(v)},o&&(()=>{m&&d.next(v),d.complete()})))}}function xt(n,e){return(0,hr.e)(vt(n,e,arguments.length>=2,!0))}function ht(n){return n<=0?()=>es.E:(0,hr.e)((e,t)=>{let r=[];e.subscribe((0,jn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function vn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((o,u)=>n(o,u,r)):As.y,ht(1),t?x(e):F(()=>new wa))}function so(n){return(0,it.U)(()=>n)}function Ns(n){return(0,hr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Mt="primary",ki=Symbol("RouteTitle");class Rs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ii(n){return new Rs(n)}function Oo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function vi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Yh(n[o],e[o]))return!1;return!0}function Yh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Vp(n){return Array.prototype.concat.apply([],n)}function Up(n){return n.length>0?n[n.length-1]:null}function Jn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ni(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,ln.D)(Promise.resolve(n)):at(n)}const L0={exact:function jp(n,e,t){if(!uo(n.segments,e.segments)||!ao(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jp(n.children[r],e.children[r],t))return!1;return!0},subset:Da},Jh={exact:function Xh(n,e){return vi(n,e)},subset:function $p(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yh(n[t],e[t]))},ignored:()=>!0};function Ty(n,e,t){return L0[t.paths](n.root,e.root,t.matrixParams)&&Jh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Da(n,e,t){return gd(n,e,e.segments,t)}function gd(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!uo(o,t)||e.hasChildren()||!ao(o,t,r))}if(n.segments.length===t.length){if(!uo(n.segments,t)||!ao(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Da(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(uo(n.segments,o)&&ao(n.segments,o,r)&&n.children[Mt])&&gd(n.children[Mt],e,u,r)}}function ao(n,e,t){return e.every((r,o)=>Jh[t](n[o].parameters,r.parameters))}class Ta{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ii(this.queryParams)),this._queryParamMap}toString(){return _d.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}}class md{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ii(this.parameters)),this._parameterMap}toString(){return Zp(this)}}function uo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ef=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new yd},providedIn:"root"}),n})();class yd{parse(e){const t=new Aa(e);return new Ta(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sa(e.root,!0)}`,r=function U0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Kl(t)}=${Kl(o)}`).join("&"):`${Kl(t)}=${Kl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _d=new yd;function vd(n){return n.segments.map(e=>Zp(e)).join("/")}function Sa(n,e){if(!n.hasChildren())return vd(n);if(e){const t=n.children[Mt]?Sa(n.children[Mt],!1):"",r=[];return Jn(n.children,(o,u)=>{u!==Mt&&r.push(`${u}:${Sa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Hp(n,e){let t=[];return Jn(n.children,(r,o)=>{o===Mt&&(t=t.concat(e(r,o)))}),Jn(n.children,(r,o)=>{o!==Mt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Mt?[Sa(n.children[Mt],!1)]:[`${o}:${Sa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${vd(n)}/${t[0]}`:`${vd(n)}/(${t.join("//")})`}}function Gp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(n){return Gp(n).replace(/%3B/gi,";")}function Ri(n){return Gp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Po(n){return decodeURIComponent(n)}function tf(n){return Po(n.replace(/\+/g,"%20"))}function Zp(n){return`${Ri(n.path)}${function V0(n){return Object.keys(n).map(e=>`;${Ri(e)}=${Ri(n[e])}`).join("")}(n.parameters)}`}const B0=/^[^\/()?;=#]+/;function nf(n){const e=n.match(B0);return e?e[0]:""}const qp=/^[^=?&#]+/,Ay=/^[^&#]+/;class Aa{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Mt]=new Gt(e,t)),r}parseSegment(){const e=nf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new md(Po(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=nf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=nf(this.remaining);o&&(r=o,this.capture(r))}e[Po(t)]=Po(r)}parseQueryParam(e){const t=function zp(n){const e=n.match(qp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function j0(n){const e=n.match(Ay);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=tf(t),u=tf(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=nf(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Mt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Mt]:new Gt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Yl(n){return n.segments.length>0?new Gt([],{[Mt]:n}):n}function Oi(n){const e={};for(const r of Object.keys(n.children)){const u=Oi(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function xa(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}function Fo(n){return n instanceof Ta}function H0(n,e,t,r,o){if(0===t.length)return Ql(e.root,e.root,e.root,r,o);const u=function Kp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rf(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Jn(u.outlets,(v,b)=>{m[b]="string"==typeof v?v.split("/"):v}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new rf(t,e,r)}(t);return u.toRoot()?Ql(e.root,e.root,new Gt([],{}),r,o):function d(v){const b=function sf(n,e,t,r){if(n.isAbsolute)return new Lu(e.root,!0,0);if(-1===r)return new Lu(t,t===e.root,0);return function af(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new c.vHH(4005,!1);o=r.segments.length}return new Lu(r,!1,o-u)}(t,r+(Ma(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),A=b.processChildren?co(b.segmentGroup,b.index,u.commands):Jl(b.segmentGroup,b.index,u.commands);return Ql(e.root,b.segmentGroup,A,r,o)}(n.snapshot?._lastPathIndex)}function Ma(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lo(n){return"object"==typeof n&&null!=n&&n.outlets}function Ql(n,e,t,r,o){let d,u={};r&&Jn(r,(v,b)=>{u[b]=Array.isArray(v)?v.map(A=>`${A}`):`${v}`}),d=n===e?t:My(n,e,t);const m=Yl(Oi(d));return new Ta(m,u,o)}function My(n,e,t){const r={};return Jn(n.children,(o,u)=>{r[u]=o===e?t:My(o,e,t)}),new Gt(n.segments,r)}class rf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ma(r[0]))throw new c.vHH(4003,!1);const o=r.find(lo);if(o&&o!==Up(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jl(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return co(n,e,t);const r=function ky(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(lo(m))break;const v=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ed(v,b,d))return u;r+=2}else{if(!Ed(v,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Gt(n.segments.slice(0,r.pathIndex),{});return u.children[Mt]=new Gt(n.segments.slice(r.pathIndex),n.children),co(u,0,o)}return r.match&&0===o.length?new Gt(n.segments,{}):r.match&&!n.hasChildren()?Rn(n,e,t):r.match?co(n,0,o):Rn(n,e,t)}function co(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const r=function wd(n){return lo(n[0])?n[0].outlets:{[Mt]:n}}(t),o={};return Jn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Jl(n.children[d],e,u))}),Jn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Gt(n.segments,o)}}function Rn(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(lo(u)){const v=Id(u.outlets);return new Gt(r,v)}if(0===o&&Ma(t[0])){r.push(new md(n.segments[e].path,Qp(t[0]))),o++;continue}const d=lo(u)?u.outlets[Mt]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Ma(m)?(r.push(new md(d,Qp(m))),o+=2):(r.push(new md(d,{})),o++)}return new Gt(r,{})}function Id(n){const e={};return Jn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Rn(new Gt([],{}),0,t))}),e}function Qp(n){const e={};return Jn(n,(t,r)=>e[r]=`${t}`),e}function Ed(n,e,t){return n==t.path&&vi(e,t.parameters)}class Os{constructor(e,t){this.id=e,this.url=t}}class bd extends Os{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends Os{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cd extends Os{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jp extends Os{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ny extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dd extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G0 extends Os{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vu extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uf extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ng{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Td{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sd{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ad{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ec(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ec(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Nr(e,this._root).map(t=>t.value)}}function ec(n,e){if(n===e.value)return e;for(const t of e.children){const r=ec(n,t);if(r)return r}return null}function Nr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Nr(n,t);if(r.length)return r.unshift(e),r}return[]}class si{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rg extends Ad{constructor(e,t){super(e),this.snapshot=t,nc(this,e)}toString(){return this.snapshot.toString()}}function Uu(n,e){const t=function Bu(n,e){const d=new br([],{},{},"",{},Mt,e,null,n.root,-1,{});return new Md("",new si(d,[]))}(n,e),r=new _n([new md("",{})]),o=new _n({}),u=new _n({}),d=new _n({}),m=new _n(""),v=new Ps(r,o,d,m,u,Mt,e,t.root);return v.snapshot=t.root,new rg(new si(v,[]),t)}class Ps{constructor(e,t,r,o,u,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,it.U)(b=>b[ki]))??at(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>ii(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>ii(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function xd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class br{constructor(e,t,r,o,u,d,m,v,b,A,k,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.[ki],this.routeConfig=v,this._urlSegment=b,this._lastPathIndex=A,this._correctedLastPathIndex=V??A,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ii(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ii(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Md extends Ad{constructor(e,t){super(t),this.url=e,nc(this,t)}toString(){return ig(this._root)}}function nc(n,e){e.value._routerState=n,e.children.forEach(t=>nc(n,t))}function ig(n){const e=n.children.length>0?` { ${n.children.map(ig).join(", ")} } `:"";return`${n.value}${e}`}function lf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vi(e.params,t.params)||n.params.next(t.params),function oo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function rc(n,e){const t=vi(n.params,e.params)&&function Wl(n,e){return uo(n,e)&&n.every((t,r)=>vi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||rc(n.parent,e.parent))}function ka(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function cf(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ka(n,r,o);return ka(n,r)})}(n,e,t);return new si(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>ka(n,m)),d}}const r=function Ry(n){return new Ps(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>ka(n,u));return new si(r,o)}}const ns="ngNavigationCancelingError";function Vo(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=df(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function df(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ns]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kd(n){return sg(n)&&Fo(n.url)}function sg(n){return n&&n[ns]}class Nd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rd,this.attachRef=null}}let Rd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nd,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Od=!1;let Na=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=o||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Od);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Od);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Od);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,Od);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new Oy(t,m,o.injector);if(r&&function y(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(d);this.activated=o.createComponent(b,o.length,v)}else this.activated=o.createComponent(d,{index:o.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rd),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Oy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ps?this.route:e===Rd?this.childContexts:this.parent.get(e,t)}}let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Na],encapsulation:2}),n})();function g(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ft(n){const e=n.children&&n.children.map(ft),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=f),t}function an(n){return n.outlet||Mt}function oi(n,e){const t=n.filter(r=>an(r)===e);return t.push(...n.filter(r=>an(r)!==e)),t}function Ra(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ic{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=wi(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Jn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=wi(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=wi(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=wi(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Sd(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ng(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(lf(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),lf(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Ra(o.snapshot),v=m?.get(c._Vd)??null;d.attachRef=null,d.route=o,d.resolver=v,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class og{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pd{constructor(e,t){this.component=e,this.route=t}}function ag(n,e,t){const r=n._root;return Oa(r,e?e._root:null,t,[r.value])}function ju(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Oa(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=wi(e);return n.children.forEach(d=>{(function hf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function ff(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(n.url,e.url)||!vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rc(n,e)||!vi(n.queryParams,e.queryParams);default:return!rc(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new og(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Oa(n,e,u.component?m?m.children:null:t,r,o),v&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Pd(m.outlet.component,d))}else d&&Uo(e,m,o),o.canActivateChecks.push(new og(r)),Oa(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Jn(u,(d,m)=>Uo(d,t.getContext(m),o)),o}function Uo(n,e,t){const r=wi(n),o=n.value;Jn(r,(u,d)=>{Uo(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Pd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function $u(n){return"function"==typeof n}function ug(n){return n instanceof wa||"EmptyError"===n?.name}const lg=Symbol("INITIAL_VALUE");function Fd(){return Nn(n=>No(n.map(e=>e.pipe(dn(1),Pu(lg)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===lg)return lg;if(!1===t||t instanceof Ta)return t}return!0}),C(e=>e!==lg),dn(1)))}function ai(n){return(0,zl.z)((0,Ne.b)(e=>{if(Fo(e))throw Vo(0,e)}),(0,it.U)(e=>!0===e))}const cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dg(n,e,t,r,o){const u=Rr(n,e,t);return u.matched?function By(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?at(o.map(d=>{const m=ju(d,n);return Ni(function Fb(n){return n&&$u(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Fd(),ai()):at(!0)}(r=g(e,r),e,t).pipe((0,it.U)(d=>!0===d?u:{...cg})):at(u)}function Rr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Oo)(t,n,e);if(!o)return{...cg};const u={};Jn(o.posParams,(m,v)=>{u[v]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Hu(n,e,t,r,o="corrected"){if(t.length>0&&function qb(n,e,t){return t.some(r=>hg(n,e,r)&&an(r)!==Mt)}(n,t,r)){const d=new Gt(e,function Zb(n,e,t,r){const o={};o[Mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&an(u)!==Mt){const d=new Gt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[an(u)]=d}return o}(n,e,r,new Gt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function K0(n,e,t){return t.some(r=>hg(n,e,r))}(n,t,r)){const d=new Gt(n.segments,function W0(n,e,t,r,o,u){const d={};for(const m of r)if(hg(n,t,m)&&!o[an(m)]){const v=new Gt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[an(m)]=v}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Gt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function hg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function jy(n,e,t,r){return!!(an(n)===r||r!==Mt&&hg(e,t,n))&&("**"===n.path||Rr(e,n,t).matched)}function Y0(n,e,t){return 0===e.length&&!n.children[t]}const gf=!1;class fg{constructor(e){this.segmentGroup=e||null}}class Q0{constructor(e){this.urlTree=e}}function mf(n){return qr(new fg(n))}function J0(n){return qr(new Q0(n))}class Wb{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Hu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Mt).pipe((0,it.U)(u=>this.createUrlTree(Oi(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nt(u=>{if(u instanceof Q0)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof fg?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Mt).pipe((0,it.U)(o=>this.createUrlTree(Oi(o),e.queryParams,e.fragment))).pipe(nt(o=>{throw o instanceof fg?this.noMatchError(o):o}))}noMatchError(e){return new c.vHH(4002,gf)}createUrlTree(e,t,r){const o=Yl(e);return new Ta(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(u=>new Gt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,ln.D)(o).pipe(Ee(u=>{const d=r.children[u],m=oi(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,it.U)(v=>({segment:v,outlet:u})))}),xt((u,d)=>(u[d.outlet]=d.segment,u),{}),vn())}expandSegment(e,t,r,o,u,d){return(0,ln.D)(r).pipe(Ee(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(nt(b=>{if(b instanceof fg)return at(null);throw b}))),te(m=>!!m),nt((m,v)=>{if(ug(m))return Y0(t,o,u)?at(new Gt([],{})):mf(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return jy(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):mf(t):mf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?J0(u):this.lineralizeSegments(r,u).pipe((0,D.z)(d=>{const m=new Gt(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:v,remainingSegments:b,positionalParamSegments:A}=Rr(t,o,u);if(!m)return mf(t);const k=this.applyRedirectCommands(v,o.redirectTo,A);return o.redirectTo.startsWith("/")?J0(k):this.lineralizeSegments(o,k).pipe((0,D.z)(V=>this.expandSegment(e,t,r,V.concat(b),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=g(r,e),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Gt(o,{})))):at(new Gt(o,{}))):dg(t,r,o,e).pipe(Nn(({matched:d,consumedSegments:m,remainingSegments:v})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,D.z)(A=>{const k=A.injector??e,V=A.routes,{segmentGroup:z,slicedSegments:ee}=Hu(t,m,v,V),Me=new Gt(z.segments,z.children);if(0===ee.length&&Me.hasChildren())return this.expandChildren(k,V,Me).pipe((0,it.U)(kt=>new Gt(m,kt)));if(0===V.length&&0===ee.length)return at(new Gt(m,{}));const ke=an(r)===u;return this.expandSegment(k,Me,V,ee,ke?Mt:u,!0).pipe((0,it.U)(St=>new Gt(m.concat(St.segments),St.children)))})):mf(t)))}getChildConfig(e,t,r){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function Gb(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?at(!0):at(o.map(d=>{const m=ju(d,n);return Ni(function Ly(n){return n&&$u(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Fd(),ai())}(e,t,r).pipe((0,D.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Ne.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Ld(n){return qr(df(gf,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return at(r);if(o.numberOfChildren>1||!o.children[Mt])return qr(new c.vHH(4e3,gf));o=o.children[Mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Ta(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Jn(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,o)}),new Gt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new c.vHH(4001,gf);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class aA{}class Bo{constructor(e,t,r,o,u,d,m,v){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=v}recognize(){const e=Hu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Mt).pipe((0,it.U)(t=>{if(null===t)return null;const r=new br([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new si(r,t),u=new Md(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=tc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,ln.D)(Object.keys(r.children)).pipe(Ee(o=>{const u=r.children[o],d=oi(t,o);return this.processSegmentGroup(e,d,u,o)}),xt((o,u)=>o&&u?(o.push(...u),o):null),function fr(n,e=!1){return(0,hr.e)((t,r)=>{let o=0;t.subscribe((0,jn.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),x(null),vn(),(0,it.U)(o=>{if(null===o)return null;const u=Zy(o);return function Hy(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,ln.D)(t).pipe(Ee(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),te(d=>!!d),nt(d=>{if(ug(d))return Y0(r,o,u)?at([]):at(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!jy(t,r,o,u))return at(null);let d;if("**"===t.path){const m=o.length>0?Up(o).parameters:{},v=ew(r)+o.length;d=at({snapshot:new br(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pg(t),an(t),t.component??t._loadedComponent??null,t,Vd(r),v,gg(t),v),consumedSegments:[],remainingSegments:[]})}else d=dg(r,t,o,e).pipe((0,it.U)(({matched:m,consumedSegments:v,remainingSegments:b,parameters:A})=>{if(!m)return null;const k=ew(r)+v.length;return{snapshot:new br(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pg(t),an(t),t.component??t._loadedComponent??null,t,Vd(r),k,gg(t),k),consumedSegments:v,remainingSegments:b}}));return d.pipe(Nn(m=>{if(null===m)return at(null);const{snapshot:v,consumedSegments:b,remainingSegments:A}=m;e=t._injector??e;const k=t._loadedInjector??e,V=function Gy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:ee}=Hu(r,b,A,V.filter(ke=>void 0===ke.redirectTo),this.relativeLinkResolution);if(0===ee.length&&z.hasChildren())return this.processChildren(k,V,z).pipe((0,it.U)(ke=>null===ke?null:[new si(v,ke)]));if(0===V.length&&0===ee.length)return at([new si(v,[])]);const Me=an(t)===u;return this.processSegment(k,V,z,ee,Me?Mt:u).pipe((0,it.U)(ke=>null===ke?null:[new si(v,ke)]))}))}}function Yb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Zy(n){const e=[],t=new Set;for(const r of n){if(!Yb(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Zy(r.children);e.push(new si(r.value,o))}return e.filter(r=>!t.has(r))}function Vd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ew(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function pg(n){return n.data||{}}function gg(n){return n.resolve||{}}function mg(n){return"string"==typeof n.title||null===n.title}function zy(n){return Nn(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,it.U)(()=>e)):at(e)})}let iw=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Mt);return r}getResolvedTitleForRoute(t){return t.data[ki]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(sw)},providedIn:"root"}),n})(),sw=(()=>{class n extends iw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xb{}class ow extends class eC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yf=new c.OlP("",{providedIn:"root",factory:()=>({})}),Ky=new c.OlP("ROUTES");let Yy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ni(t.loadComponent()).pipe((0,Ne.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ns(()=>{this.componentLoaders.delete(t)})),o=new ts(r,()=>new ri.x).pipe(ks());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,b,A=!1;Array.isArray(m)?b=m:(v=m.create(t).injector,b=Vp(v.get(Ky,[],c.XFs.Self|c.XFs.Optional)));return{routes:b.map(ft),injector:v}}),Ns(()=>{this.childrenLoaders.delete(r)})),d=new ts(u,()=>new ri.x).pipe(ks());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Ni(t()).pipe((0,D.z)(r=>r instanceof c.YKP||Array.isArray(r)?at(r):(0,ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aw{}class uw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lw(n){throw n}function cw(n,e,t){return e.parse("/")}const tC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function dw(){const n=(0,c.f3M)(ef),e=(0,c.f3M)(Rd),t=(0,c.f3M)(Se),r=(0,c.f3M)(c.zs3),o=(0,c.f3M)(c.Sil),u=(0,c.f3M)(Ky,{optional:!0})??[],d=(0,c.f3M)(yf,{optional:!0})??{},m=(0,c.f3M)(sw),v=(0,c.f3M)(iw,{optional:!0}),b=(0,c.f3M)(aw,{optional:!0}),A=(0,c.f3M)(Xb,{optional:!0}),k=new pr(null,n,e,t,r,o,Vp(u));return b&&(k.urlHandlingStrategy=b),A&&(k.routeReuseStrategy=A),k.titleStrategy=v??m,function _g(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,k),k}let pr=(()=>{class n{constructor(t,r,o,u,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ri.x,this.errorHandler=lw,this.malformedUriErrorHandler=cw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>at(void 0),this.urlHandlingStrategy=new uw,this.routeReuseStrategy=new ow,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Yy),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new eg(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new Xp(V)),this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const k=d.get(c.R0b);this.isNgZoneEnabled=k instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Bp(){return new Ta(new Gt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Uu(this.currentUrlTree,this.rootComponentType),this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(C(o=>0!==o.id),(0,it.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nn(o=>{let u=!1,d=!1;return at(o).pipe((0,Ne.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nn(m=>{const v=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Qy(m.source)&&(this.browserUrlTree=m.extractedUrl),at(m).pipe(Nn(k=>{const V=this.transitions.getValue();return r.next(new bd(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),V!==this.transitions.getValue()?es.E:Promise.resolve(k)}),function Kb(n,e,t,r){return Nn(o=>function Pa(n,e,t,r,o){return new Wb(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,it.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ne.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},o.urlAfterRedirects=k.urlAfterRedirects}),function nw(n,e,t,r,o,u){return(0,D.z)(d=>function uA(n,e,t,r,o,u,d="emptyOnly",m="legacy"){return new Bo(n,e,t,r,o,d,m,u).recognize().pipe(Nn(v=>null===v?function X0(n){return new Er.y(e=>e.error(n))}(new aA):at(v)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,it.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ne.b)(k=>{if(o.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(z,k)}this.browserUrlTree=k.urlAfterRedirects}const V=new Ny(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next(V)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:z,source:ee,restoredState:Me,extras:ke}=m,It=new bd(V,this.serializeUrl(z),ee,Me);r.next(It);const St=Uu(z,this.rootComponentType).snapshot;return at(o={...m,targetSnapshot:St,urlAfterRedirects:z,extras:{...ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),es.E}),(0,Ne.b)(m=>{const v=new Dd(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,it.U)(m=>o={...m,guards:ag(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function Vb(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?at({...t,guardsResult:!0}):function Ub(n,e,t,r){return(0,ln.D)(n).pipe((0,D.z)(o=>function Hb(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?at(u.map(m=>{const v=Ra(e)??o,b=ju(m,v);return Ni(function pf(n){return n&&$u(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):v.runInContext(()=>b(n,e,t,r))).pipe(te())})).pipe(Fd()):at(!0)}(o.component,o.route,t,e,r)),te(o=>!0!==o,!0))}(d,r,o,n).pipe((0,D.z)(m=>m&&function q0(n){return"boolean"==typeof n}(m)?function Uy(n,e,t,r){return(0,ln.D)(e).pipe(Ee(o=>Xi(function jb(n,e){return null!==n&&e&&e(new tg(n)),at(!0)}(o.route.parent,r),function Bb(n,e){return null!==n&&e&&e(new Td(n)),at(!0)}(o.route,r),function z0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Fy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>_i(()=>at(d.guards.map(v=>{const b=Ra(d.node)??t,A=ju(v,b);return Ni(function Vy(n){return n&&$u(n.canActivateChild)}(A)?A.canActivateChild(r,n):b.runInContext(()=>A(r,n))).pipe(te())})).pipe(Fd())));return at(u).pipe(Fd())}(n,o.path,t),function $b(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const o=r.map(u=>_i(()=>{const d=Ra(e)??t,m=ju(u,d);return Ni(function Pb(n){return n&&$u(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(te())}));return at(o).pipe(Fd())}(n,o.route,t))),te(o=>!0!==o,!0))}(r,u,n,e):at(m)),(0,it.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Ne.b)(m=>{if(o.guardsResult=m.guardsResult,Fo(m.guardsResult))throw Vo(0,m.guardsResult);const v=new G0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),C(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),zy(m=>{if(m.guards.canActivateChecks.length)return at(m).pipe((0,Ne.b)(v=>{const b=new Vu(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),Nn(v=>{let b=!1;return at(v).pipe(function lA(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return at(t);let u=0;return(0,ln.D)(o).pipe(Ee(d=>function Ud(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!mg(o)&&(u[ki]=o.title),function qy(n,e,t,r){const o=function rw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return at({});const u={};return(0,ln.D)(o).pipe((0,D.z)(d=>function Jb(n,e,t,r){const o=Ra(e)??r,u=ju(n,o);return Ni(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(te(),(0,Ne.b)(m=>{u[d]=m}))),ht(1),so(u),nt(d=>ug(d)?es.E:qr(d)))}(u,n,e,r).pipe((0,it.U)(d=>(n._resolvedData=d,n.data=tc(n,t).resolve,o&&mg(o)&&(n.data[ki]=o.title),null)))}(d.route,r,n,e)),(0,Ne.b)(()=>u++),ht(1),(0,D.z)(d=>u===o.length?at(t):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ne.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,Ne.b)(v=>{const b=new uf(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}))}),zy(m=>{const v=b=>{const A=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Ne.b)(k=>{b.component=k}),(0,it.U)(()=>{})));for(const k of b.children)A.push(...v(k));return A};return No(v(m.targetSnapshot.root)).pipe(x(),dn(1))}),zy(()=>this.afterPreactivation()),(0,it.U)(m=>{const v=function ar(n,e,t){const r=ka(n,e._root,t?t._root:void 0);return new rg(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:v}}),(0,Ne.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new ic(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Ne.b)({next(){u=!0},complete(){u=!0}}),Ns(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),nt(m=>{if(d=!0,sg(m)){kd(m)||(this.navigated=!0,this.restoreHistory(o,!0));const v=new Cd(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(v),kd(m)){const b=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qy(o.source)};this.scheduleNavigation(b,"imperative",null,A,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new Jp(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(v);try{o.resolve(this.errorHandler(m))}catch(b){o.reject(b)}}return es.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ft),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,b=o||this.routerState.root,A=v?this.currentUrlTree.fragment:d;let k=null;switch(m){case"merge":k={...this.currentUrlTree.queryParams,...u};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=u||null}return null!==k&&(k=this.removeEmptyProps(k)),H0(b,this.currentUrlTree,t,k,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Fo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function hw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...tC}:!1===r?{...dA}:r,Fo(t))return Ty(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ty(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Lo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,v,b;d?(m=d.resolve,v=d.reject,b=d.promise):b=new Promise((V,z)=>{m=V,v=z});const A=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),k=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:A,targetPageId:k,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new Cd(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return dw()},providedIn:"root"}),n})();function Qy(n){return"imperative"!==n}let _f=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ri.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pr),c.Y36(Ps),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),sc=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ri.x,this.subscription=t.events.subscribe(u=>{u instanceof Lo&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){return!!(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pr),c.Y36(Ps),c.Y36(me))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),vf=(()=>{class n{constructor(t,r,o,u,d,m){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=d,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(v=>{v instanceof Lo&&this.update()})}ngAfterContentInit(){at(this.links.changes,this.linksWithHrefs.changes,at(null)).pipe((0,Ou.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,ln.D)(t).pipe((0,Ou.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function vg(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pr),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(_f,8),c.Y36(sc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(c.Suo(o,_f,5),c.Suo(o,sc,5)),2&t){let u;c.iGM(u=c.CRH())&&(r.links=u),c.iGM(u=c.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),n})();class Jy{}let Xy=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(C(t=>t instanceof Lo),Ee(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,ln.D)(o).pipe((0,Ou.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const u=o.pipe((0,D.z)(d=>null===d?at(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,ln.D)([u,d]).pipe((0,Ou.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Jy),c.LFG(Yy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oc=new c.OlP("");let pw=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Xl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ac(n,e){return{\u0275kind:n,\u0275providers:e}}function If(n){return[{provide:Ky,multi:!0,useValue:n}]}function iC(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(pr),o=n.get(e_);1===n.get(t_)&&r.initialNavigation(),n.get(Fs,null,c.XFs.Optional)?.setUpPreloading(),n.get(oc,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const e_=new c.OlP("",{factory:()=>new ri.x}),t_=new c.OlP("",{providedIn:"root",factory:()=>1});const Fs=new c.OlP("");function aC(n){return ac(0,[{provide:Fs,useExisting:Xy},{provide:Jy,useExisting:n}])}const yw=new c.OlP("ROUTER_FORROOT_GUARD"),lC=[Se,{provide:ef,useClass:yd},{provide:pr,useFactory:dw},Rd,{provide:Ps,useFactory:function gw(n){return n.routerState.root},deps:[pr]},Yy];function _w(){return new c.PXZ("Router",pr)}let Ig=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lC,[],If(t),{provide:yw,useFactory:vw,deps:[[pr,new c.FiY,new c.tp0]]},{provide:yf,useValue:r||{}},r?.useHash?{provide:me,useClass:ot}:{provide:me,useClass:Je},{provide:oc,useFactory:()=>{const n=(0,c.f3M)(pr),e=(0,c.f3M)(su),t=(0,c.f3M)(yf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new pw(n,e,t)}},r?.preloadingStrategy?aC(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:_w},r?.initialNavigation?ww(r):[],[{provide:n_,useFactory:iC},{provide:c.tb,multi:!0,useExisting:n_}]]}}static forChild(t){return{ngModule:n,providers:[If(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yw,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[f]}),n})();function vw(n){return"guarded"}function ww(n){return["disabled"===n.initialNavigation?ac(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(pr);return()=>{e.setUpLocationChangeListener()}}},{provide:t_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ac(2,[{provide:t_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(B,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(pr),m=e.get(e_);(function o(u){e.get(pr).events.pipe(C(m=>m instanceof Lo||m instanceof Cd||m instanceof Jp),(0,it.U)(m=>m instanceof Lo||m instanceof Cd&&(0===m.code||1===m.code)&&null),C(m=>null!==m),dn(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||m.closed?at(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const n_=new c.OlP(""),gC=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:104,vars:0,consts:[[1,"relative","mb-2","overflow-hidden"],["autoplay","","muted","","loop","",1,"absolute","z-0","object-cover","w-full","h-full"],["src","assets/video/hero.webm","type","video/webm"],[1,"absolute","z-40","w-full","h-full","bg-gradient","opacity-60"],[1,"absolute","z-40","w-full","h-full"],[1,"cube"],[1,"container","relative","z-50","mx-auto"],[1,"w-full","px-20","mx-auto","text-center","py-60","md:w-8/12"],[1,"mb-2","font-bold","uppercase","text-7xl"],[1,"container","mx-auto"],[1,"grid","items-center","gap-8","mt-20","mb-12","text-4xl","tracking-widest","text-center","uppercase","latest"],[1,"grid","grid-cols-1","gap-4","lg:grid-cols-3"],["href","#",1,"mt-6","transition","duration-300","transform","shadow-xl","rounded-tl-2xl","rounded-br-2xl","bg-secondary","hover:-translate-y-2","hover:shadow-2xl"],["src","assets/img/1.jpg",1,"w-full","card-img-top","rounded-tl-2xl"],[1,"relative"],[1,"absolute","w-full","text-white","pointer-events-none","bottom-full","bg-secondary"],[1,"absolute","w-full","pb-5","overflow-hidden","bottom-full"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"mb-2","text-3xl"],[1,"mb-0"],[1,"text-gray-400"],["src","assets/img/2.jpg",1,"w-full","card-img-top","rounded-tl-2xl"],["src","assets/img/3.jpg",1,"w-full","card-img-top","rounded-tl-2xl"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"video",1),c._UZ(2,"source",2),c.qZA(),c._UZ(3,"div",3),c.TgZ(4,"div",4),c._UZ(5,"div",5)(6,"div",5)(7,"div",5)(8,"div",5)(9,"div",5),c.qZA(),c.TgZ(10,"div",6)(11,"div",7)(12,"h1",8),c._uU(13,"Clip it and ship it!"),c.qZA(),c.TgZ(14,"p"),c._uU(15," The #1 app to watch, clip, and share your awesome gaming moments with your friends and the world! With our world-class tools, we make it incredibly easy to share your videos. Get started today! "),c.qZA()()()(),c.TgZ(16,"section",9)(17,"h1",10),c._uU(18," Latest "),c.qZA(),c.TgZ(19,"div",11)(20,"a",12),c._UZ(21,"img",13),c.TgZ(22,"div",14)(23,"div",15)(24,"div",16),c.O4$(),c.TgZ(25,"svg",17),c._UZ(26,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(27,"div",19)(28,"h2",20),c._uU(29,"Game Highlighting Clip"),c.qZA(),c.TgZ(30,"p",21),c._uU(31," Luis Ramirez \xb7 "),c.TgZ(32,"span",22),c._uU(33,"March 31, 2020"),c.qZA()()()(),c.TgZ(34,"a",12),c._UZ(35,"img",23),c.TgZ(36,"div",14)(37,"div",15)(38,"div",16),c.O4$(),c.TgZ(39,"svg",17),c._UZ(40,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(41,"div",19)(42,"h2",20),c._uU(43,"Game Highlighting Clip"),c.qZA(),c.TgZ(44,"p",21),c._uU(45," Luis Ramirez \xb7 "),c.TgZ(46,"span",22),c._uU(47,"March 31, 2020"),c.qZA()()()(),c.TgZ(48,"a",12),c._UZ(49,"img",24),c.TgZ(50,"div",14)(51,"div",15)(52,"div",16),c.O4$(),c.TgZ(53,"svg",17),c._UZ(54,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(55,"div",19)(56,"h2",20),c._uU(57,"Game Highlighting Clip"),c.qZA(),c.TgZ(58,"p",21),c._uU(59," Luis Ramirez \xb7 "),c.TgZ(60,"span",22),c._uU(61,"March 31, 2020"),c.qZA()()()(),c.TgZ(62,"a",12),c._UZ(63,"img",23),c.TgZ(64,"div",14)(65,"div",15)(66,"div",16),c.O4$(),c.TgZ(67,"svg",17),c._UZ(68,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(69,"div",19)(70,"h2",20),c._uU(71,"Game Highlighting Clip"),c.qZA(),c.TgZ(72,"p",21),c._uU(73," Luis Ramirez \xb7 "),c.TgZ(74,"span",22),c._uU(75,"March 31, 2020"),c.qZA()()()(),c.TgZ(76,"a",12),c._UZ(77,"img",24),c.TgZ(78,"div",14)(79,"div",15)(80,"div",16),c.O4$(),c.TgZ(81,"svg",17),c._UZ(82,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(83,"div",19)(84,"h2",20),c._uU(85,"Game Highlighting Clip"),c.qZA(),c.TgZ(86,"p",21),c._uU(87," Luis Ramirez \xb7 "),c.TgZ(88,"span",22),c._uU(89,"March 31, 2020"),c.qZA()()()(),c.TgZ(90,"a",12),c._UZ(91,"img",13),c.TgZ(92,"div",14)(93,"div",15)(94,"div",16),c.O4$(),c.TgZ(95,"svg",17),c._UZ(96,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(97,"div",19)(98,"h2",20),c._uU(99,"Game Highlighting Clip"),c.qZA(),c.TgZ(100,"p",21),c._uU(101," Luis Ramirez \xb7 "),c.TgZ(102,"span",22),c._uU(103,"March 31, 2020"),c.qZA()()()()()())}}),n})()},{path:"about",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:3,vars:0,consts:[[1,"text-gray-200","bg-main"],[1,"container","mx-auto","mt-4"]],template:function(t,r){1&t&&(c.TgZ(0,"body",0)(1,"p",1),c._uU(2," This is a basic about page to demonstrate basic routing capabilities. "),c.qZA()())}}),n})()},{path:"clip/:id",component:(()=>{class n{constructor(t){this.route=t,this.id=""}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ps))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clip"]],decls:57,vars:1,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-2","text-3xl"],[1,"text-gray-400","mb-6"],[1,"relative"],["controls","","data-setup","{}",1,"video-js","vjs-theme-forest","mx-auto"],["src","assets/video/hero.webm","type","video/webm"],[1,"container","mx-auto","my-8"],[1,"mt-6","text-2xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["routerLink","/clip/b",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/2.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],["src","assets/img/3.jpg",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),c._uU(3),c.qZA(),c.TgZ(4,"div",3),c._uU(5," Uploaded By Luis on "),c.TgZ(6,"span"),c._uU(7,"March 25, 2022"),c.qZA()(),c.TgZ(8,"div",4)(9,"video",5),c._UZ(10,"source",6),c.qZA()()()(),c.TgZ(11,"div",7)(12,"h2",8),c._uU(13,"More Clips"),c.qZA(),c.TgZ(14,"div",9)(15,"a",10),c._UZ(16,"img",11),c.TgZ(17,"div",4)(18,"div",12)(19,"div",13),c.O4$(),c.TgZ(20,"svg",14),c._UZ(21,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(22,"div",16)(23,"h2",17),c._uU(24,"Game Highlighting Clip"),c.qZA(),c.TgZ(25,"p",18),c._uU(26," Luis Ramirez \xb7 "),c.TgZ(27,"span",19),c._uU(28,"March 31, 2020"),c.qZA()()()(),c.TgZ(29,"a",20),c._UZ(30,"img",21),c.TgZ(31,"div",4)(32,"div",12)(33,"div",13),c.O4$(),c.TgZ(34,"svg",14),c._UZ(35,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(36,"div",16)(37,"h2",17),c._uU(38,"Game Highlighting Clip"),c.qZA(),c.TgZ(39,"p",18),c._uU(40," Luis Ramirez \xb7 "),c.TgZ(41,"span",19),c._uU(42,"March 31, 2020"),c.qZA()()()(),c.TgZ(43,"a",20),c._UZ(44,"img",22),c.TgZ(45,"div",4)(46,"div",12)(47,"div",13),c.O4$(),c.TgZ(48,"svg",14),c._UZ(49,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(50,"div",16)(51,"h2",17),c._uU(52,"Game Highlighting Clip"),c.qZA(),c.TgZ(53,"p",18),c._uU(54," Luis Ramirez \xb7 "),c.TgZ(55,"span",19),c._uU(56,"March 31, 2020"),c.qZA()()()()()()),2&t&&(c.xp6(3),c.hij("",r.id," Video Title"))},dependencies:[sc]}),n})()}];let mC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ig.forRoot(gC),Ig]}),n})();var ye=O(5861),Eg=O(4986),Iw=O(5032);function Ew(n,e){return e?t=>Xi(e.pipe(dn(1),function uc(){return(0,hr.e)((n,e)=>{n.subscribe((0,jn.x)(e,Iw.Z))})}()),t.pipe(Ew(n))):(0,D.z)((t,r)=>n(t,r).pipe(dn(1),so(t)))}var r_=O(3532);var yA=O(6451),s_=O(5363),_C=O(6063);class bw extends ri.x{constructor(e=1/0,t=1/0,r=_C.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var _A=O(3099);function Cw(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,_A.B)({connector:()=>new bw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function lc(n,e){return(0,Ro.m)(e)?Nn(()=>n,e):Nn(()=>n)}var o_=O(9468),Cr=O(5813),Pi=O(2011);O(5867);var Gu=O(9681),cc=O(4859),jt=O(2090),Fa=O(1877);const xw=new Map,u_={activated:!1,tokenObservers:[]},La={initialized:!1,enabled:!1};function gr(n){return xw.get(n)||u_}function rs(n,e){xw.set(n,e)}function Bd(){return La}class c_{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new jt.BH,yield function d_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ii=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nw(n){if(!gr(n).activated)throw Ii.create("use-before-activation",{appName:n.name})}function Rw(n,e){return f_.apply(this,arguments)}function f_(){return(f_=(0,ye.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const z=yield d.getHeartbeatsHeader();z&&(u["X-Firebase-Client"]=z)}const m={method:"POST",body:JSON.stringify(e),headers:u};let v,b;try{v=yield fetch(n,m)}catch(z){throw Ii.create("fetch-network-error",{originalErrorMessage:null===(r=z)||void 0===r?void 0:r.message})}if(200!==v.status)throw Ii.create("fetch-status-error",{httpStatus:v.status});try{b=yield v.json()}catch(z){throw Ii.create("fetch-parse-error",{originalErrorMessage:null===(o=z)||void 0===o?void 0:o.message})}const A=b.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const k=1e3*Number(A[1]),V=Date.now();return{token:b.token,expireTimeMillis:V+k,issuedAtTimeMillis:V}})).apply(this,arguments)}function Pw(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Dg="firebase-app-check-store";let g_=null;function SC(){return g_||(g_=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(Ii.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Dg,{keyPath:"compositeKey"})}}catch(r){e(Ii.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),g_)}function Fw(){return(Fw=(0,ye.Z)(function*(n,e){const r=(yield SC()).transaction(Dg,"readwrite"),u=r.objectStore(Dg).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=v=>{d()},r.onerror=v=>{var b;m(Ii.create("storage-set",{originalErrorMessage:null===(b=v.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const jd=new Fa.Yd("@firebase/app-check");function Sf(n,e){return(0,jt.hl)()?function TA(n,e){return function AC(n,e){return Fw.apply(this,arguments)}(function Lw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{jd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function y_(){return Bd().enabled}function Vw(){return __.apply(this,arguments)}function __(){return(__=(0,ye.Z)(function*(){const n=Bd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MC={error:"UNKNOWN_ERROR"};function kC(n){return jt.US.encodeString(JSON.stringify(n),!1)}function dc(n){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,ye.Z)(function*(n,e=!1){const t=n.app;Nw(t);const r=gr(t);let u,o=r.token;if(o&&!hc(o)&&(rs(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const v=yield r.cachedTokenPromise;v&&(hc(v)?o=v:yield Sf(t,void 0))}if(!e&&o&&hc(o))return{token:o.token};let m,d=!1;if(y_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Rw(Pw(t,yield Vw()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const v=yield r.exchangeTokenPromise;return yield Sf(t,v),rs(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?jd.warn(v.message):jd.error(v),u=v}return o?u?m=hc(o)?{token:o.token,internalError:u}:xg(u):(m={token:o.token},rs(t,Object.assign(Object.assign({},r),{token:o})),yield Sf(t,o)):m=xg(u),d&&v_(t,m),m})).apply(this,arguments)}function qu(n,e){const t=gr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),rs(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Sg(n){const{app:e}=n,t=gr(e);let r=t.tokenRefresher;r||(r=function Ag(n){const{app:e}=n;return new c_((0,ye.Z)(function*(){let r;if(r=gr(e).token?yield dc(n,!0):yield dc(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),rs(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function v_(n,e){const t=gr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function hc(n){return n.expireTimeMillis-Date.now()>0}function xg(n){return{token:kC(MC),error:n}}class w_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gr(this.app);for(const t of e)qu(this.app,t.next);return Promise.resolve()}}const Ww="app-check-internal";!function Ho(){(0,Gu._registerComponent)(new cc.wA("app-check",n=>function Bw(n,e){return new w_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ww).initialize()})),(0,Gu._registerComponent)(new cc.wA(Ww,n=>function I_(n){return{getToken:e=>dc(n,e),addTokenListener:e=>function Af(n,e,t,r){const{app:o}=n,u=gr(o),d={next:t,error:r,type:e};if(rs(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&hc(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Sg(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Sg(n))}(n,"INTERNAL",e),removeTokenListener:e=>qu(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gu.registerVersion)("@firebase/app-check","0.5.16")}();class D_{constructor(){return(0,Cr.vb)("app-check")}}typeof window<"u"&&window;var Mf=O(127);const M_=new c.OlP("angularfire2.auth.use-emulator"),Og=new c.OlP("angularfire2.auth.settings"),Go=new c.OlP("angularfire2.auth.tenant-id"),kf=new c.OlP("angularfire2.auth.langugage-code"),Nf=new c.OlP("angularfire2.auth.use-device-language"),$d=new c.OlP("angularfire.auth.persistence"),Qw=(n,e,t,r,o,u,d,m)=>(0,Pi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,u&&v.useDeviceLanguage(),d)for(const[b,A]of Object.entries(d))v.settings[b]=A;return m&&v.setPersistence(m),v},[t,r,o,u,d,m]);let zu=(()=>{class n{constructor(t,r,o,u,d,m,v,b,A,k,V,z){const ee=new ri.x,Me=at(void 0).pipe((0,s_.Q)(d.outsideAngular),Nn(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,1277)))),(0,it.U)(()=>(0,Pi.on)(t,u,r)),(0,it.U)(ke=>Qw(ke,u,m,b,A,k,v,V)),Cw({bufferSize:1,refCount:!1}));if(dr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{Me.pipe(te()).subscribe();const It=Me.pipe(Nn(Ye=>Ye.getRedirectResult().then(Ge=>Ge,()=>null)),Cr.iC,Cw({bufferSize:1,refCount:!1})),St=Me.pipe(Nn(Ye=>new Er.y(Ge=>({unsubscribe:u.runOutsideAngular(()=>Ye.onAuthStateChanged(Nt=>Ge.next(Nt),Nt=>Ge.error(Nt),()=>Ge.complete()))})))),kt=Me.pipe(Nn(Ye=>new Er.y(Ge=>({unsubscribe:u.runOutsideAngular(()=>Ye.onIdTokenChanged(Nt=>Ge.next(Nt),Nt=>Ge.error(Nt),()=>Ge.complete()))}))));this.authState=It.pipe(lc(St),(0,o_.R)(d.outsideAngular),(0,s_.Q)(d.insideAngular)),this.user=It.pipe(lc(kt),(0,o_.R)(d.outsideAngular),(0,s_.Q)(d.insideAngular)),this.idToken=this.user.pipe(Nn(Ye=>Ye?(0,ln.D)(Ye.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Nn(Ye=>Ye?(0,ln.D)(Ye.getIdTokenResult()):at(null))),this.credential=(0,yA.T)(It,ee,this.authState.pipe(C(Ye=>!Ye))).pipe((0,it.U)(Ye=>Ye?.user?Ye:null),(0,o_.R)(d.outsideAngular),(0,s_.Q)(d.insideAngular))}return(0,Pi.pX)(this,Me,u,{spy:{apply:(ke,It,St)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&St.then(kt=>ee.next(kt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pi.Dh),c.LFG(Pi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Cr.HU),c.LFG(M_,8),c.LFG(Og,8),c.LFG(Go,8),c.LFG(kf,8),c.LFG(Nf,8),c.LFG($d,8),c.LFG(D_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jw=(()=>{class n{constructor(){Mf.Z.registerVersion("angularfire",Cr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[zu]}),n})();function k_(){return(0,hr.e)((n,e)=>{let t,r=!1;n.subscribe((0,jn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function Rf(n,e){return n===e}O(1277);var dt,FA=O(3942),ZC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wu={},N_=N_||{},Ot=ZC||self;function Of(){}function Hd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var O_="closure_uid_"+(1e9*Math.random()>>>0),qC=0;function zC(n,e,t){return n.call.apply(n.bind,arguments)}function WC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ui(n,e,t){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zC:WC).apply(null,arguments)}function Pg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function mr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Li(){this.s=this.s,this.o=this.o}Li.prototype.s=!1,Li.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function R_(n){Object.prototype.hasOwnProperty.call(n,O_)&&n[O_]||(n[O_]=++qC)}(this)},Li.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gd=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function P_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Xw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Hd(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function Or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Or.prototype.h=function(){this.defaultPrevented=!0};var KC=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Of,e),Ot.removeEventListener("test",Of,e)}catch{}return n}();function is(n){return/^[\s\xa0]*$/.test(n)}var Zd=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pr(n,e){return n<e?-1:n>e?1:0}function Zo(){var n=Ot.navigator;return n&&(n=n.userAgent)?n:""}function ss(n){return-1!=Zo().indexOf(n)}function Vi(n){return Vi[" "](n),n}Vi[" "]=Of;var Ua,n,qd=ss("Opera"),ho=ss("Trident")||ss("MSIE"),fc=ss("Edge"),Ku=fc||ho,pc=ss("Gecko")&&!(-1!=Zo().toLowerCase().indexOf("webkit")&&!ss("Edge"))&&!(ss("Trident")||ss("MSIE"))&&!ss("Edge"),zd=-1!=Zo().toLowerCase().indexOf("webkit")&&!ss("Edge");function gc(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Yu="",Fg=(n=Zo(),pc?/rv:([^\);]+)(\)|;)/.exec(n):fc?/Edge\/([\d\.]+)/.exec(n):ho?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zd?/WebKit\/(\S+)/.exec(n):qd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Fg&&(Yu=Fg?Fg[1]:""),ho){var Lg=gc();if(null!=Lg&&Lg>parseFloat(Yu)){Ua=String(Lg);break e}}Ua=Yu}var eI={};var nI=Ot.document&&ho&&(gc()||parseInt(Ua,10))||void 0;function Wd(n,e){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pc){e:{try{Vi(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wd.X.h.call(this)}}mr(Wd,Or);var rI={2:"touch",3:"pen",4:"mouse"};Wd.prototype.h=function(){Wd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ff="closure_listenable_"+(1e6*Math.random()|0),YC=0;function iI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++YC,this.ba=this.ea=!1}function Ug(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Bg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jg(n){const e={};for(const t in n)e[t]=n[t];return e}const $g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<$g.length;u++)t=$g[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mc(n){this.src=n,this.g={},this.h=0}function Kd(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Gd(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Ug(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lf(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}mc.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Lf(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new iI(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var V_="closure_lm_"+(1e6*Math.random()|0),Yd={};function Vf(n,e,t,r,o){if(r&&r.once)return Hg(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Vf(n,e[u],t,r,o);return null}return t=zg(t),n&&n[Ff]?n.N(e,t,Pf(r)?!!r.capture:!!r,o):U_(n,e,t,!1,r,o)}function U_(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Pf(o)?!!o.capture:!!o,m=j_(n);if(m||(n[V_]=m=new mc(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function oI(){const e=aI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)KC||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Zg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Hg(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Hg(n,e[u],t,r,o);return null}return t=zg(t),n&&n[Ff]?n.O(e,t,Pf(r)?!!r.capture:!!r,o):U_(n,e,t,!0,r,o)}function B_(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)B_(n,e[u],t,r,o);else r=Pf(r)?!!r.capture:!!r,t=zg(t),n&&n[Ff]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lf(u=n.g[e],t,r,o))&&(Ug(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=j_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lf(e,t,r,o)),(t=-1<n?e[n]:null)&&Gg(t))}function Gg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ff])Kd(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Zg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=j_(e))?(Kd(t,n),0==t.h&&(t.src=null,e[V_]=null)):Ug(n)}}}function Zg(n){return n in Yd?Yd[n]:Yd[n]="on"+n}function aI(n,e){if(n.ba)n=!0;else{e=new Wd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Gg(n),n=t.call(r,e)}return n}function j_(n){return(n=n[V_])instanceof mc?n:null}var qg="__closure_events_fn_"+(1e9*Math.random()>>>0);function zg(n){return"function"==typeof n?n:(n[qg]||(n[qg]=function(e){return n.handleEvent(e)}),n[qg])}function Dr(){Li.call(this),this.i=new mc(this),this.P=this,this.I=null}function Fr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Or(e,n);else if(e instanceof Or)e.target=e.target||n;else{var o=e;sI(e=new Or(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Wg(d,r,!0,e)&&o}if(o=Wg(d=e.g=n,r,!0,e)&&o,o=Wg(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Wg(d=e.g=t[u],r,!1,e)&&o}function Wg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,v=d.ha||d.src;d.ea&&Kd(n.i,d),o=!1!==m.call(v,r)&&o}}return o&&!r.defaultPrevented}mr(Dr,Li),Dr.prototype[Ff]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){B_(this,n,e,t,r)},Dr.prototype.M=function(){if(Dr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ug(t[r]);delete n.g[e],n.h--}}this.I=null},Dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Kg=Ot.JSON.stringify;function uI(){var n=H_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Qg,Yg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cI,n=>n.reset());class cI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dI(n){Ot.setTimeout(()=>{throw n},0)}function $_(n,e){Qg||function hI(){var n=Ot.Promise.resolve(void 0);Qg=function(){n.then(fI)}}(),Jg||(Qg(),Jg=!0),H_.add(n,e)}var Jg=!1,H_=new class lI{constructor(){this.h=this.g=null}add(e,t){const r=Yg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function fI(){for(var n;n=uI();){try{n.h.call(n.g)}catch(t){dI(t)}var e=Yg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jg=!1}function G_(n,e){Dr.call(this),this.h=n||1,this.g=e||Ot,this.j=ui(this.lb,this),this.l=Date.now()}function Z_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function q_(n,e,t){if("function"==typeof n)t&&(n=ui(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ui(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function z_(n){n.g=q_(()=>{n.g=null,n.i&&(n.i=!1,z_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}mr(G_,Dr),(dt=G_.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fr(this,"tick"),this.ca&&(Z_(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){G_.X.M.call(this),Z_(this),delete this.g};class QC extends Li{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:z_(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(n){Li.call(this),this.h=n,this.g={}}mr($n,Li);var W_=[];function pI(n,e,t,r){Array.isArray(t)||(t&&(W_[0]=t.toString()),t=W_);for(var o=0;o<t.length;o++){var u=Vf(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function gI(n){Bg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Gg(e)},n),n.g={}}function Uf(){this.g=!0}function yc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function XC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Kg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}$n.prototype.M=function(){$n.X.M.call(this),gI(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uf.prototype.Aa=function(){this.g=!1},Uf.prototype.info=function(){};var _c={},K_=null;function Xg(){return K_=K_||new Dr}function Y_(n){Or.call(this,_c.Pa,n)}function em(n){const e=Xg();Fr(e,new Y_(e))}function Q_(n,e){Or.call(this,_c.STAT_EVENT,n),this.stat=e}function zr(n){const e=Xg();Fr(e,new Q_(e,n))}function fo(n,e){Or.call(this,_c.Qa,n),this.size=e}function Bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}_c.Pa="serverreachability",mr(Y_,Or),_c.STAT_EVENT="statevent",mr(Q_,Or),_c.Qa="timingevent",mr(fo,Or);var tm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},po={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function os(){}function J_(){}os.prototype.h=null;var tv,Jd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function X_(){Or.call(this,"d")}function ev(){Or.call(this,"c")}function nm(){}function vc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new $n(this),this.O=eD,this.T=new G_(n=Ku?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Xd}function Xd(){this.i=null,this.g="",this.h=!1}mr(X_,Or),mr(ev,Or),mr(nm,os),nm.prototype.g=function(){return new XMLHttpRequest},nm.prototype.i=function(){return{}},tv=new nm;var eD=45e3,rm={},im={};function sm(n,e,t){n.K=1,n.v=cm(Ba(e)),n.s=t,n.P=!0,nv(n,null)}function nv(n,e){n.F=Date.now(),eh(n),n.A=Ba(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ov(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Xd,n.g=bv(n.l,t?e:null,!n.s),0<n.N&&(n.L=new QC(ui(n.La,n,n.g),n.N)),pI(n.S,n.g,"readystatechange",n.ib),e=n.H?jg(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),em(),function JC(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),v=0;v<m.length;v++){var b=m[v].split("=");if(1<b.length){var A=b[0];b=b[1];var k=A.split("_");d=2<=k.length&&"type"==k[1]?d+(A+"=")+b+"&":d+(A+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function jf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function yI(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=_I(n,t),o==im){4==e&&(n.o=4,zr(14),r=!1),yc(n.j,n.m,null,"[Incomplete Response]");break}if(o==rm){n.o=4,zr(15),yc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yc(n.j,n.m,o,null),am(n,o)}jf(n)&&o!=im&&o!=rm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,zr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Tc(e),e.K=!0,zr(11))):(yc(n.j,n.m,t,"[Invalid Chunked Response]"),Qu(n),Ic(n))}function _I(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?im:(t=Number(e.substring(t,r)),isNaN(t)?rm:(r+=1)+t>e.length?im:(e=e.substr(r,t),n.C=r+t,e))}function eh(n){n.V=Date.now()+n.O,om(n,n.O)}function om(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bf(ui(n.gb,n),e)}function wc(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Ic(n){0==n.l.G||n.I||PI(n.l,n)}function Qu(n){wc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Z_(n.T),gI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function am(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||dm(t.h,n)))if(!n.J&&dm(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;vm(t),mm(t)}Dc(t),zr(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Bf(ui(t.cb,t),6e3));if(1>=lv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else el(t,11)}else if((n.J||t.g==n)&&vm(t),!is(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const A=b[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const k=b[4];null!=k&&(t.Ca=k,t.j.info("SVER="+t.Ca));const V=b[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const ee=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var u=r.h;u.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(hm(u,u.h),u.h=null))}if(r.D){const Me=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.za=Me,On(r.F,r.D,Me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=FI(r,r.H?r.ka:null,r.V),d.J){Xu(r.h,d);var m=d,v=r.J;v&&m.setTimeout(v),m.B&&(wc(m),eh(m)),r.g=d}else RI(r);0<t.i.length&&ym(t)}else"stop"!=b[0]&&"close"!=b[0]||el(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?el(t,7):Cc(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}em()}catch{}}function rv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wI(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function vI(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(dt=vc.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==qo(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const A=qo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>A)&&(3!=A||Ku||this.g&&(this.h.h||this.g.fa()||mv(this.g)))){this.I||4!=A||7==e||em(),wc(this);var t=this.g.aa();this.Y=t;t:if(jf(this)){var r=mv(this.g);n="";var o=r.length,u=4==qo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qu(this),Ic(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function mI(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!is(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,zr(12),Qu(this),Ic(this);break e}yc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,am(this,t)}this.P?(yI(this,A,d),Ku&&this.i&&3==A&&(pI(this.S,this.T,"tick",this.hb),this.T.start())):(yc(this.j,this.m,d,null),am(this,d)),4==A&&Qu(this),this.i&&!this.I&&(4==A?PI(this.l,this):(this.i=!1,eh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),Qu(this),Ic(this)}}}catch{}},dt.hb=function(){if(this.g){var n=qo(this.g),e=this.g.fa();this.C<e.length&&(wc(this),yI(this,n,e),this.i&&4!=n&&eh(this))}},dt.cancel=function(){this.I=!0,Qu(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Qd(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(em(),zr(17)),Qu(this),this.o=2,Ic(this)):om(this,this.V-n)};var iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ec){this.h=void 0!==e?e:n.h,um(this,n.j),this.s=n.s,this.g=n.g,lm(this,n.m),this.l=n.l,e=n.i;var t=new Gf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),EI(this,t),this.o=n.o}else n&&(t=String(n).match(iv))?(this.h=!!e,um(this,t[1]||"",!0),this.s=$f(t[2]||""),this.g=$f(t[3]||"",!0),lm(this,t[4]),this.l=$f(t[5]||"",!0),EI(this,t[6]||"",!0),this.o=$f(t[7]||"")):(this.h=!!e,this.i=new Gf(null,this.h))}function Ba(n){return new Ec(n)}function um(n,e,t){n.j=t?$f(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function lm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function EI(n,e,t){e instanceof Gf?(n.i=e,function DI(n,e){e&&!n.j&&(Ju(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(CI(this,r),ov(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Hf(e,iD)),n.i=new Gf(e,n.h))}function On(n,e,t){n.i.set(e,t)}function cm(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $f(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hf(e,bI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hf(e,bI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hf(t,"/"==t.charAt(0)?rD:nD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hf(t,sD)),n.join("")};var bI=/[#\/\?@]/g,nD=/[#\?:]/g,rD=/[#\?]/g,iD=/[#\?@]/g,sD=/#/g;function Gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ju(n){n.g||(n.g=new Map,n.h=0,n.i&&function II(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function CI(n,e){Ju(n),e=bc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sv(n,e){return Ju(n),e=bc(n,e),n.g.has(e)}function ov(n,e,t){CI(n,e),0<t.length&&(n.i=null,n.g.set(bc(n,e),P_(t)),n.h+=t.length)}function bc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function av(n){this.l=n||SI,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ga&&Ot.g.Ga()&&Ot.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Gf.prototype).add=function(n,e){Ju(this),this.i=null,n=bc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Ju(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},dt.oa=function(){Ju(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},dt.W=function(n){Ju(this);let e=[];if("string"==typeof n)sv(this,n)&&(e=e.concat(this.g.get(bc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Ju(this),this.i=null,sv(this,n=bc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var SI=10;function uv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function lv(n){return n.h?1:n.g?n.g.size:0}function dm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hm(n,e){n.g?n.g.add(e):n.h=e}function Xu(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return P_(n.i)}function cv(){}function th(){this.g=new cv}function VA(n,e,t){const r=t||"";try{rv(n,function(o,u){let d=o;Pf(o)&&(d=Kg(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function hv(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function nh(n){this.l=n.ac||null,this.j=n.jb||!1}function Zf(n,e){Dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=xI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}av.prototype.cancel=function(){if(this.i=AI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cv.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},cv.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},mr(nh,os),nh.prototype.g=function(){return new Zf(this.l,this.j)},nh.prototype.i=function(n){return function(){return n}}({}),mr(Zf,Dr);var xI=0;function wt(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function qf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zf(n)}function zf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Zf.prototype).open=function(n,e){if(this.readyState!=xI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zf(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=xI},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zf(this)),this.g&&(this.readyState=3,zf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wt(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qf(this):zf(this),3==this.readyState&&wt(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,qf(this))},dt.Ua=function(n){this.g&&(this.response=n,qf(this))},dt.ga=function(){this.g&&qf(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oD=Ot.JSON.parse;function wn(n){Dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=MI,this.K=this.L=!1}mr(wn,Dr);var MI="",fm=/^https?$/i,pm=["POST","PUT"];function aD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fv(n),gm(n)}function fv(n){n.D||(n.D=!0,Fr(n,"complete"),Fr(n,"error"))}function pv(n){if(n.h&&typeof N_<"u"&&(!n.C[1]||4!=qo(n)||2!=n.aa()))if(n.v&&4==qo(n))q_(n.Ha,0,n);else if(Fr(n,"readystatechange"),4==qo(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(iv)[1]||null;if(!o&&Ot.self&&Ot.self.location){var u=Ot.self.location.protocol;o=u.substr(0,u.length-1)}r=!fm.test(o?o.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var d=2<qo(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",fv(n)}}finally{gm(n)}}}function gm(n,e){if(n.g){gv(n);const t=n.g,r=n.C[0]?Of:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch{}}}function gv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function qo(n){return n.g?n.g.readyState:0}function mv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case MI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yv(n){let e="";return Bg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _v(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=yv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):On(n,e,t))}function Wf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kI(n){this.Ca=0,this.i=[],this.j=new Uf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wf("baseRetryDelayMs",5e3,n),this.bb=Wf("retryDelaySeedMs",1e4,n),this.$a=Wf("forwardChannelMaxRetries",2,n),this.ta=Wf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new av(n&&n.concurrentRequestLimit),this.Fa=new th,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cc(n){if(NI(n),3==n.G){var e=n.U++,t=Ba(n.F);On(t,"SID",n.I),On(t,"RID",e),On(t,"TYPE","terminate"),rh(n,t),(e=new vc(n,n.j,e,void 0)).K=2,e.v=cm(Ba(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=bv(e.l,null),e.g.da(e.v)),e.F=Date.now(),eh(e)}Ev(n)}function mm(n){n.g&&(Tc(n),n.g.cancel(),n.g=null)}function NI(n){mm(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),vm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function ym(n){uv(n.h)||n.m||(n.m=!0,$_(n.Ja,n),n.C=0)}function vv(n,e){var t;t=e?e.m:n.U++;const r=Ba(n.F);On(r,"SID",n.I),On(r,"RID",t),On(r,"AID",n.T),rh(n,r),n.o&&n.s&&_v(r,n.o,n.s),t=new vc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=wv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),hm(n.h,t),sm(t,r,e)}function rh(n,e){n.ia&&Bg(n.ia,function(t,r){On(e,r,t)}),n.l&&rv({},function(t,r){On(e,r,t)})}function wv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ui(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let b=o[v].h;const A=o[v].g;if(b-=u,0>b)u=Math.max(0,o[v].h-100),m=!1;else try{VA(A,d,"req"+b+"_")}catch{r&&r(A)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function RI(n){n.g||n.u||(n.Z=1,$_(n.Ia,n),n.A=0)}function Dc(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Bf(ui(n.Ia,n),Iv(n,n.A)),n.A++,0))}function Tc(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function OI(n){n.g=new vc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ba(n.sa);On(e,"RID","rpc"),On(e,"SID",n.I),On(e,"CI",n.L?"0":"1"),On(e,"AID",n.T),On(e,"TYPE","xmlhttp"),rh(n,e),n.o&&n.s&&_v(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=cm(Ba(e)),t.s=null,t.P=!0,nv(t,n)}function vm(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function PI(n,e){var t=null;if(n.g==e){vm(n),Tc(n),n.g=null;var r=2}else{if(!dm(n.h,e))return;t=e.D,Xu(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Fr(r=Xg(),new fo(r,t)),ym(n)}else RI(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function _m(n,e){return!(lv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Bf(ui(n.Ja,n,e),Iv(n,n.C)),n.C++,0)))}(n,e)||2==r&&Dc(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:el(n,5);break;case 4:el(n,10);break;case 3:el(n,6);break;default:el(n,2)}}function Iv(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function el(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ui(n.kb,n);t||(t=new Ec("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||um(t,"https"),cm(t)),function dv(n,e){const t=new Uf;if(Ot.Image){const r=new Image;r.onload=Pg(hv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pg(hv,t,r,"TestLoadImage: error",!1,e),r.onabort=Pg(hv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pg(hv,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else zr(2);n.G=0,n.l&&n.l.va(e),Ev(n),NI(n)}function Ev(n){if(n.G=0,n.la=[],n.l){const e=AI(n.h);(0!=e.length||0!=n.i.length)&&(Xw(n.la,e),Xw(n.la,n.i),n.h.i.length=0,P_(n.i),n.i.length=0),n.l.ua()}}function FI(n,e,t){var r=t instanceof Ec?Ba(t):new Ec(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),lm(r,r.m);else{var o=Ot.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Ec(null,void 0);r&&um(u,r),e&&(u.g=e),o&&lm(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&On(r,t,e),On(r,"VER",n.ma),rh(n,r),r}function bv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wn(t&&n.Da&&!n.ra?new nh({jb:!0}):n.ra)).Ka(n.H),e}function LI(){}function wm(){if(ho&&!(10<=Number(nI)))throw Error("Environmental error: no available transport.")}function Vs(n,e){Dr.call(this),this.g=new kI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!is(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!is(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kf(this)}function uD(n){X_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lD(){ev.call(this),this.status=1}function Kf(n){this.g=n}(dt=wn.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tv.g(),this.C=function Ls(n){return n.h||(n.h=n.i())}(this.u?this.u:tv),this.g.onreadystatechange=ui(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void aD(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Ot.FormData&&n instanceof Ot.FormData,!(0<=Gd(pm,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gv(this),0<this.B&&((this.K=function Xn(n){return ho&&function tI(){return function F_(n){var e=eI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Zd(String(Ua)).split("."),t=Zd("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Pr(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Pr(0==o[2].length,0==u[2].length)||Pr(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.qa,this)):this.A=q_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){aD(this,u)}},dt.qa=function(){typeof N_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),gm(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gm(this,!0)),wn.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?pv(this):this.fb())},dt.fb=function(){pv(this)},dt.aa=function(){try{return 2<qo(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oD(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=kI.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new vc(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=jg(u),sI(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wv(this,o,e),On(t=Ba(this.F),"RID",n),On(t,"CVER",22),this.D&&On(t,"X-HTTP-Session-Id",this.D),rh(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(yv(u)))+"&"+e:this.o&&_v(t,this.o,u)),hm(this.h,o),this.Ya&&On(t,"TYPE","init"),this.O?(On(t,"$req",e),On(t,"SID","null"),o.Z=!0,sm(o,t,null)):sm(o,t,e),this.G=2}}else 3==this.G&&(n?vv(this,n):0==this.i.length||uv(this.h)||vv(this))},dt.Ia=function(){if(this.u=null,OI(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Bf(ui(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zr(10),mm(this),OI(this))},dt.cb=function(){null!=this.v&&(this.v=null,mm(this),Dc(this),zr(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),zr(2)):(this.j.info("Failed to ping google.com"),zr(1))},(dt=LI.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},wm.prototype.g=function(n,e){return new Vs(n,e)},mr(Vs,Dr),Vs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;zr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=FI(n,null,n.V),ym(n)},Vs.prototype.close=function(){Cc(this.g)},Vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Kg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ym(e)},Vs.prototype.M=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,Vs.X.M.call(this)},mr(uD,X_),mr(lD,ev),mr(Kf,LI),Kf.prototype.xa=function(){Fr(this.g,"a")},Kf.prototype.wa=function(n){Fr(this.g,new uD(n))},Kf.prototype.va=function(n){Fr(this.g,new lD)},Kf.prototype.ua=function(){Fr(this.g,"b")},wm.prototype.createWebChannel=wm.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,tm.NO_ERROR=0,tm.TIMEOUT=8,tm.HTTP_ERROR=6,po.COMPLETE="complete",J_.EventType=Jd,Jd.OPEN="a",Jd.CLOSE="b",Jd.ERROR="c",Jd.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,wn.prototype.listenOnce=wn.prototype.O,wn.prototype.getLastError=wn.prototype.Oa,wn.prototype.getLastErrorCode=wn.prototype.Ea,wn.prototype.getStatus=wn.prototype.aa,wn.prototype.getResponseJson=wn.prototype.Sa,wn.prototype.getResponseText=wn.prototype.fa,wn.prototype.send=wn.prototype.da,wn.prototype.setWithCredentials=wn.prototype.Ka;var VI=Wu.createWebChannelTransport=function(){return new wm},Im=Wu.getStatEventTarget=function(){return Xg()},Cv=Wu.ErrorCode=tm,cD=Wu.EventType=po,UI=Wu.Event=_c,ih=Wu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dD=Wu.FetchXmlHttpFactory=nh,Em=Wu.WebChannel=J_,hD=Wu.XhrIo=wn;const BI="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Sc="9.13.0";const tl=new Fa.Yd("@firebase/firestore");function Dv(){return tl.logLevel}function Re(n,...e){if(tl.logLevel<=Fa.in.DEBUG){const t=e.map(bm);tl.debug(`Firestore (${Sc}): ${n}`,...t)}}function er(n,...e){if(tl.logLevel<=Fa.in.ERROR){const t=e.map(bm);tl.error(`Firestore (${Sc}): ${n}`,...t)}}function Ac(n,...e){if(tl.logLevel<=Fa.in.WARN){const t=e.map(bm);tl.warn(`Firestore (${Sc}): ${n}`,...t)}}function bm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function bt(n,e){n||rt()}function qe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tv{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let d=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new yr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=d;e.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},v=b=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>v(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?v(b):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new yr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new jI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new Lr(e)}}class mD{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $I{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new mD(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.A=t.token,new HI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _D(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class GI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=_D(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function sh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function ZI(n){return n+"\0"}class xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new xn(0,0))}static max(){return new Ct(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qf{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends Qf{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Qf{construct(e,t,r){return new tr(e,t,r)}static isValidIdentifier(e){return qI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(tn.fromString(e))}static fromName(e){return new ze(tn.fromString(e).popFirst(5))}static empty(){return new ze(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new tn(e.slice()))}}class Cm{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Jf(n){return n.fields.find(e=>2===e.kind)}function ja(n){return n.fields.filter(e=>2!==e.kind)}Cm.UNKNOWN_ID=-1;class oh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xf(0,Ui.min())}}function Dm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(1e9===r?new xn(t+1,0):new xn(t,r));return new Ui(o,ze.empty(),e)}function WI(n){return new Ui(n.readTime,n.key,-1)}class Ui{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ui(Ct.min(),ze.empty(),-1)}static max(){return new Ui(Ct.max(),ze.empty(),-1)}}function nl(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const Sv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(n){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ye.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Sv)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),Tm.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},v=>r(v))}),d=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(o=>o?ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let v=0;v<u;v++){const b=v;t(e[b]).next(A=>{d[b]=A,++m,m===u&&r(d)},A=>o(A))}})}static doWhile(e,t){return new ie((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Sm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new yr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ah(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=Am(r.target.error);this.P.reject(new ah(e,o))}}static open(e,t,r,o){try{return new Sm(t,e.transaction(o,r))}catch(u){throw new ah(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new YI(t)}}class as{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===as.D((0,jt.z$)())&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),rl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,jt.hl)())return!1;if(as.N())return!0;const e=(0,jt.z$)(),t=as.D(e),r=0<t&&t<10,o=as.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new ah(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ah(e,m))},u.onupgradeneeded=d=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const v=Sm.open(u.db,e,d?"readonly":"readwrite",r),b=o(v).next(A=>(v.V(),A)).catch(A=>(v.abort(A),ie.reject(A))).toPromise();return b.catch(()=>{}),yield v.v,b}catch(v){const b=v,A="FirebaseError"!==b.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",b.message,"Retrying:",A),u.close(),!A)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wD{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return rl(this.U.delete())}}class ah extends xe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zo(n){return"IndexedDbTransactionError"===n.name}class YI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rl(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),rl(this.store.add(e))}get(e){return rl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),rl(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),rl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ie((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ie((r,o)=>{t.onerror=u=>{const d=Am(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new ie((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const v=new wD(m),b=t(m.primaryKey,m.value,v);if(b instanceof ie){const A=b.catch(k=>(v.done(),ie.reject(k)));r.push(A)}v.isDone?o():null===v.G?m.continue():m.continue(v.G)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rl(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Am(r.target.error);t(o)}})}let Av=!1;function Am(n){const e=as.D((0,jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Av||(Av=!0,setTimeout(()=>{throw r},0)),r}}return n}class ID{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){zo(r)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xc(r)}yield t.nt(6e4)}))}}class ED{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return ie.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Re("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(Re("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=WI(u);nl(d,r)>0&&(r=d)}),new Ui(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function QI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function il(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Bi.at=-1;class Hn{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new Hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new Hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xm(this.root,e,this.comparator,!0)}}class xm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Wr.RED,this.left=o??Wr.EMPTY,this.right=u??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Wr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Wr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Wr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CD(this.data.getIterator())}getIteratorFrom(e){return new CD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class CD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uh(n){return n.hasNext()?n.getNext():void 0}class us{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new us([])}unionWith(e){let t=new In(tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _r(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new _r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(n){if(bt(!!n),"string"==typeof n){let e=0;const t=XI.exec(n);if(bt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nr(n.seconds),nanos:nr(n.nanos)}}function nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mc(n){return"string"==typeof n?_r.fromBase64String(n):_r.fromUint8Array(n)}function xv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eE(n){const e=n.mapValue.fields.__previous_value__;return xv(e)?eE(e):e}function ep(n){const e=sl(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}class DD{constructor(e,t,r,o,u,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class Us{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}function lh(n){return null==n}function ch(n){return 0===n&&1/n==-1/0}function Mv(n){return"number"==typeof n&&Number.isInteger(n)&&!ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tp={nullValue:"NULL_VALUE"};function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xv(n)?4:hh(n)?9007199254740991:10:rt()}function Wo(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ep(n).isEqual(ep(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=sl(r.timestampValue),d=sl(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Mc(n.bytesValue).isEqual(Mc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return nr(r.geoPointValue.latitude)===nr(o.geoPointValue.latitude)&&nr(r.geoPointValue.longitude)===nr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return nr(r.integerValue)===nr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=nr(r.doubleValue),d=nr(o.doubleValue);return u===d?ch(u)===ch(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return sh(n.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(QI(u)!==QI(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Wo(u[m],d[m])))return!1;return!0}(n,e);default:return rt()}var o}function Mm(n,e){return void 0!==(n.values||[]).find(t=>Wo(t,e))}function Ha(n,e){if(n===e)return 0;const t=ol(n),r=ol(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=nr(o.integerValue||o.doubleValue),m=nr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return tE(n.timestampValue,e.timestampValue);case 4:return tE(ep(n),ep(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Mc(o),m=Mc(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let v=0;v<d.length&&v<m.length;v++){const b=Pt(d[v],m[v]);if(0!==b)return b}return Pt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Pt(nr(o.latitude),nr(u.latitude));return 0!==d?d:Pt(nr(o.longitude),nr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let v=0;v<d.length&&v<m.length;++v){const b=Ha(d[v],m[v]);if(b)return b}return Pt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===$a.mapValue&&u===$a.mapValue)return 0;if(o===$a.mapValue)return 1;if(u===$a.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),v=u.fields||{},b=Object.keys(v);m.sort(),b.sort();for(let A=0;A<m.length&&A<b.length;++A){const k=Pt(m[A],b[A]);if(0!==k)return k;const V=Ha(d[m[A]],v[b[A]]);if(0!==V)return V}return Pt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw rt()}}function tE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=sl(n),r=sl(e),o=Pt(t.seconds,r.seconds);return 0!==o?o:Pt(t.nanos,r.nanos)}function dh(n){return kv(n)}function kv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=sl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mc(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=kv(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${kv(r.fields[m])}`;return u+"}"}(n.mapValue):rt();var e}function kc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nc(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function km(n){return!!n&&"nullValue"in n}function go(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nm(n){return!!n&&"mapValue"in n}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return il(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=al(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function TD(n){return"nullValue"in n?tp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kc(Us.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function SD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kc(Us.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$a:rt()}function nE(n,e){const t=Ha(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rp(n,e){const t=Ha(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=tr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=al(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Nm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){il(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new vr(al(this.value))}}function rE(n){const e=[];return il(n.fields,(t,r)=>{const o=new tr([t]);if(Nm(r)){const u=rE(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new us(e)}class bn{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,Ct.min(),Ct.min(),vr.empty(),0)}static newFoundDocument(e,t,r){return new bn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new bn(e,2,t,Ct.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,Ct.min(),vr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iE{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ht=null}}function Nv(n,e=null,t=[],r=[],o=null,u=null,d=null){return new iE(n,e,t,r,o,u,d)}function Ga(n){const e=qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+dh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dh(r)).join(",")),e.ht=t}return e.ht}function ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!uE(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lE(n.startAt,e.startAt)&&lE(n.endAt,e.endAt)}function Rm(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Rv(n,e){return n.filters.filter(t=>t instanceof Vr&&t.field.isEqual(e))}function Om(n,e,t){let r=tp,o=!0;for(const u of Rv(n,e)){let d=tp,m=!0;switch(u.op){case"<":case"<=":d=TD(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=tp}nE({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];nE({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function Pm(n,e,t){let r=$a,o=!0;for(const u of Rv(n,e)){let d=$a,m=!0;switch(u.op){case">=":case">":d=SD(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=$a}rp({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];rp({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Vr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Ov(e,t,r):"array-contains"===t?new xD(e,r):"in"===t?new MD(e,r):"not-in"===t?new aE(e,r):"array-contains-any"===t?new Fv(e,r):new Vr(e,t,r)}static lt(e,t,r){return"in"===t?new Pv(e,r):new AD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ha(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.ft(Ha(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ov extends Vr{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.ft(t)}}class Pv extends Vr{constructor(e,t){super(e,"in",t),this.keys=oE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AD extends Vr{constructor(e,t){super(e,"not-in",t),this.keys=oE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class xD extends Vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&Mm(t.arrayValue,this.value)}}class MD extends Vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mm(this.value.arrayValue,t)}}class aE extends Vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mm(this.value.arrayValue,t)}}class Fv extends Vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mm(this.value.arrayValue,r))}}class Za{constructor(e,t){this.position=e,this.inclusive=t}}class fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function uE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Lv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?ze.comparator(ze.fromName(d.referenceValue),t.key):Ha(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function lE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wo(n.position[t],e.position[t]))return!1;return!0}class Ko{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=v,this._t=null,this.wt=null}}function Vv(n,e,t,r,o,u,d,m){return new Ko(n,e,t,r,o,u,d,m)}function ph(n){return new Ko(n)}function Uv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kr(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ul(n){return null!==n.collectionGroup}function gh(n){const e=qe(n);if(null===e._t){e._t=[];const t=Kr(e),r=Fm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new fh(t)),e._t.push(new fh(tr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fh(tr.keyField(),u))}}}return e._t}function Ei(n){const e=qe(n);if(!e.wt)if("F"===e.limitType)e.wt=Nv(e.path,e.collectionGroup,gh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of gh(e))t.push(new fh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Za(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Za(e.startAt.position,e.startAt.inclusive):null;e.wt=Nv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Bv(n,e,t){return new Ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lm(n,e){return ip(Ei(n),Ei(e))&&n.limitType===e.limitType}function jv(n){return`${Ga(Ei(n))}|lt:${n.limitType}`}function Vm(n){return`Query(target=${function sE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${dh(r.value)}`;var r}).join(", ")}]`),lh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>dh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>dh(t)).join(",")),`Target(${e})`}(Ei(n))}; limitType=${n.limitType})`}function Rc(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ze.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=Lv(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,gh(t),r)||t.endAt&&!function(o,u,d){const m=Lv(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,gh(t),r)));var t,r}function cE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Um(n){return(e,t)=>{let r=!1;for(const o of gh(n)){const u=kD(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function kD(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),v=d.data.field(o);return null!==m&&null!==v?Ha(m,v):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function $v(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function dE(n){return{integerValue:""+n}}function hE(n,e){return Mv(e)?dE(e):$v(n,e)}class Bm{constructor(){this._=void 0}}function Hv(n,e,t){return n instanceof qa?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof za?ND(n,e):n instanceof ll?pE(n,e):function(r,o){const u=Gv(r,o),d=Pc(u)+Pc(r.yt);return Nc(u)&&Nc(r.yt)?dE(d):$v(r.It,d)}(n,e)}function fE(n,e,t){return n instanceof za?ND(n,e):n instanceof ll?pE(n,e):t}function Gv(n,e){return n instanceof Oc?Nc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class qa extends Bm{}class za extends Bm{constructor(e){super(),this.elements=e}}function ND(n,e){const t=gE(e);for(const r of n.elements)t.some(o=>Wo(o,r))||t.push(r);return{arrayValue:{values:t}}}class ll extends Bm{constructor(e){super(),this.elements=e}}function pE(n,e){let t=gE(e);for(const r of n.elements)t=t.filter(o=>!Wo(o,r));return{arrayValue:{values:t}}}class Oc extends Bm{constructor(e,t){super(),this.It=e,this.yt=t}}function Pc(n){return nr(n.integerValue||n.doubleValue)}function gE(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mh{constructor(e,t){this.field=e,this.transform=t}}class BA{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jm{}function mE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _h(n.key,Pn.none()):new Fc(n.key,n.data,Pn.none());{const t=n.data,r=vr.empty();let o=new In(tr.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new Yo(n.key,r,new us(o.toArray()),Pn.none())}}function RD(n,e,t){n instanceof Fc?function(r,o,u){const d=r.value.clone(),m=wE(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Yo?function(r,o,u){if(!qv(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=wE(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(vE(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yh(n,e,t,r){return n instanceof Fc?function(o,u,d,m){if(!qv(o.precondition,u))return d;const v=o.value.clone(),b=zv(o.fieldTransforms,m,u);return v.setAll(b),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yo?function(o,u,d,m){if(!qv(o.precondition,u))return d;const v=zv(o.fieldTransforms,m,u),b=u.data;return b.setAll(vE(o)),b.setAll(v),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,qv(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function yE(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Gv(r.transform,o||null);null!=u&&(null===t&&(t=vr.empty()),t.set(r.field,u))}return t||null}function _E(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sh(t,r,(o,u)=>function Zv(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof za&&r instanceof za||t instanceof ll&&r instanceof ll?sh(t.elements,r.elements,Wo):t instanceof Oc&&r instanceof Oc?Wo(t.yt,r.yt):t instanceof qa&&r instanceof qa);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Fc extends jm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yo extends jm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wE(n,e,t){const r=new Map;bt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,fE(d,m,t[o]))}return r}function zv(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,Hv(u,d,e))}return r}class _h extends jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $m extends jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IE{constructor(e){this.count=e}}var ur,Qt;function EE(n){switch(n){default:return rt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function bE(n){if(void 0===n)return er("GRPC error has no .code"),le.UNKNOWN;switch(n){case ur.OK:return le.OK;case ur.CANCELLED:return le.CANCELLED;case ur.UNKNOWN:return le.UNKNOWN;case ur.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case ur.INTERNAL:return le.INTERNAL;case ur.UNAVAILABLE:return le.UNAVAILABLE;case ur.UNAUTHENTICATED:return le.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case ur.NOT_FOUND:return le.NOT_FOUND;case ur.ALREADY_EXISTS:return le.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return le.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case ur.ABORTED:return le.ABORTED;case ur.OUT_OF_RANGE:return le.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return le.UNIMPLEMENTED;case ur.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(Qt=ur||(ur={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return bD(this.inner)}size(){return this.innerSize}}const CE=new Hn(ze.comparator);function ls(){return CE}const OD=new Hn(ze.comparator);function Hm(...n){let e=OD;for(const t of n)e=e.insert(t.key,t);return e}function PD(n){let e=OD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wa(){return Gm()}function FD(){return Gm()}function Gm(){return new Lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const jA=new Hn(ze.comparator),Zm=new In(ze.comparator);function $t(...n){let e=Zm;for(const t of n)e=e.add(t);return e}const DE=new In(Pt);function Vc(){return DE}class vh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vh(Ct.min(),o,Vc(),ls(),$t())}}class wh{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wh(r,t,$t(),$t(),$t())}}class Wv{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class qm{constructor(e,t){this.targetId=e,this.At=t}}class Kv{constructor(e,t,r=_r.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class TE{constructor(){this.Rt=0,this.bt=VD(),this.Pt=_r.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$t(),t=$t(),r=$t();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new wh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=VD()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class SE{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ls(),this.qt=LD(),this.Kt=new In(Pt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(Rm(u))if(0===r){const d=new ze(u.path);this.jt(t,d,bn.newNoDocument(d,Ct.min()))}else bt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&Rm(m.target)){const v=new ze(m.target.path);null!==this.Ut.get(v)||this.ee(d,v)||this.jt(d,v,bn.newNoDocument(v,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=$t();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(v=>{const b=this.Xt(v);return!b||2===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new vh(e,t,this.Kt,this.Ut,r);return this.Ut=ls(),this.qt=LD(),this.Kt=new In(Pt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new TE,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new In(Pt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new TE),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function LD(){return new Hn(ze.comparator)}function VD(){return new Hn(ze.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},BD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zm{constructor(e,t){this.databaseId=e,this.gt=t}}function sp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jD(n,e){return n.gt?e.toBase64():e.toUint8Array()}function $A(n,e){return sp(n,e.toTimestamp())}function Yr(n){return bt(!!n),Ct.fromTimestamp(function(e){const t=sl(e);return new xn(t.seconds,t.nanos)}(n))}function Yv(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function AE(n){const e=tn.fromString(n);return bt(Ya(e)),e}function op(n,e){return Yv(n.databaseId,e.path)}function Ka(n,e){const t=AE(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze($D(t))}function Qv(n,e){return Yv(n.databaseId,e)}function Jv(n){const e=AE(n);return 4===e.length?tn.emptyPath():$D(e)}function Ih(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $D(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bs(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function xE(n,e,t){const r=Ka(n,e.name),o=Yr(e.updateTime),u=new vr({mapValue:{fields:e.fields}}),d=bn.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function li(n,e){let t;if(e instanceof Fc)t={update:Bs(n,e.key,e.value)};else if(e instanceof _h)t={delete:op(n,e.key)};else if(e instanceof Yo)t={update:Bs(n,e.key,e.data),updateMask:s0(e.fieldMask)};else{if(!(e instanceof $m))return rt();t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof qa)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oc)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:$A(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),t;var o}function e0(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Pn.updateTime(Yr(o.updateTime)):void 0!==o.exists?Pn.exists(o.exists):Pn.none():Pn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(bt("REQUEST_TIME"===d.setToServerValue),m=new qa):"appendMissingElements"in d?m=new za(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ll(d.removeAllFromArray.values||[]):"increment"in d?m=new Oc(u,d.increment):rt();const v=tr.fromServerFormat(d.fieldPath);return new mh(v,m)}(n,o)):[];var o;if(e.update){const o=Ka(n,e.update.name),u=new vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new us((e.updateMask.fieldPaths||[]).map(b=>tr.fromServerFormat(b)));return new Yo(o,u,d,t,r)}return new Fc(o,u,t,r)}if(e.delete){const o=Ka(n,e.delete);return new _h(o,t)}if(e.verify){const o=Ka(n,e.verify);return new $m(o,t)}return rt()}function ME(n,e){return{documents:[Qv(n,e.path)]}}function n0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Qv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Qv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const b=v.map(A=>function(k){if("=="===k.op){if(go(k.value))return{unaryFilter:{field:Uc(k.field),op:"IS_NAN"}};if(km(k.value))return{unaryFilter:{field:Uc(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(go(k.value))return{unaryFilter:{field:Uc(k.field),op:"IS_NOT_NAN"}};if(km(k.value))return{unaryFilter:{field:Uc(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(k.field),op:NE(k.op),value:k.value}}}(A));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(b=>{return{field:Uc((A=b).field),direction:GD(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(b=e.limit,n.gt||lh(b)?b:{value:b});var b,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function Wm(n){let e=Jv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){bt(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=r0(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new fh(Eh((k=A).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let m=null;t.limit&&(m=function(A){let k;return k="object"==typeof A?A.value:A,lh(k)?null:k}(t.limit));let v=null;var A;t.startAt&&(v=new Za((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new Za(A.values||[],!A.before)}(t.endAt)),Vv(e,o,d,u,m,"F",v,b)}function r0(n){return n?void 0!==n.unaryFilter?[ZD(n)]:void 0!==n.fieldFilter?[RE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>r0(e)).reduce((e,t)=>e.concat(t)):rt():[]}function GD(n){return UD[n]}function NE(n){return BD[n]}function Uc(n){return{fieldPath:n.canonicalString()}}function Eh(n){return tr.fromServerFormat(n.fieldPath)}function RE(n){return Vr.create(Eh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ZD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Eh(n.unaryFilter.field);return Vr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eh(n.unaryFilter.field);return Vr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Eh(n.unaryFilter.field);return Vr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eh(n.unaryFilter.field);return Vr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function s0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ya(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qo(e)),e=o0(n.get(t),e);return Qo(e)}function o0(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Qo(n){return n+"\x01\x01"}function Jo(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let v;0===o.length?v=m:(o+=m,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:rt()}u=d+2}return new tn(r)}const qD=["userId","batchId"];function Km(n,e){return[n,ci(e)]}function OE(n,e,t){return[n,ci(e),t]}const zD={},WD=["prefixPath","collectionGroup","readTime","documentId"],PE=["prefixPath","collectionGroup","documentId"],HA=["collectionGroup","readTime","prefixPath","documentId"],FE=["canonicalId","targetId"],KD=["targetId","path"],LE=["path","targetId"],GA=["collectionId","parent"],a0=["indexId","uid"],VE=["uid","sequenceNumber"],UE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BE=["indexId","uid","orderedDocumentKey"],jE=["userId","collectionPath","documentId"],$E=["userId","collectionPath","largestBatchId"],Ym=["userId","collectionGroup","largestBatchId"],ap=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HE=[...ap,"documentOverlays"],GE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],u0=GE,ZE=[...u0,"indexConfiguration","indexState","indexEntries"];class l0 extends KI{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=qe(n);return as.M(t.ie,e)}class qE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RD(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FD();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const v=mE(d,m);null!==v&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$t())}isEqual(e){return this.batchId===e.batchId&&sh(this.mutations,e.mutations,(t,r)=>_E(t,r))&&sh(this.baseMutations,e.baseMutations,(t,r)=>_E(t,r))}}class zE{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){bt(e.mutations.length===r.length);let o=jA;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new zE(e,t,r,o)}}class Qm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cl{constructor(e,t,r,o,u=Ct.min(),d=Ct.min(),m=_r.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class WE{constructor(e){this.re=e}}function QD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:c0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:op(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:sp(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bh(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:bh(e.version)}}var o,u;return r}function c0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ch(n){const e=new xn(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function Dh(n,e){const t=(e.baseMutations||[]).map(u=>e0(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>e0(n.re,u)),o=xn.fromMillis(e.localWriteTimeMs);return new qE(e.batchId,o,t,r)}function up(n){const e=Ch(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ch(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var o;return void 0!==n.query.documents?(bt(1===(o=n.query).documents.length),r=Ei(ph(Jv(o.documents[0])))):r=Ei(Wm(n.query)),new cl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,_r.fromBase64String(n.resumeToken))}function lp(n,e){const t=bh(e.snapshotVersion),r=bh(e.lastLimboFreeSnapshotVersion);let o;o=Rm(e.target)?ME(n.re,e.target):n0(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ga(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function d0(n){const e=Wm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Bv(e,e.limit,"L"):e}function h0(n,e){return new Qm(e.largestBatchId,e0(n.re,e.overlayMutation))}function f0(n,e){const t=e.path.lastSegment();return[n,ci(e.path.popLast()),t]}function dl(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:bh(r.readTime),documentKey:ci(r.documentKey.path),largestBatchId:r.largestBatchId}}class KE{getBundleMetadata(e,t){return Jm(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ch(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Jm(e).put({bundleId:(r=t).id,createTime:bh(Yr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Xm(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:d0(o.bundledQuery),readTime:Ch(o.readTime)};var o})}saveNamedQuery(e,t){return Xm(e).put({name:(r=t).name,readTime:bh(Yr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Jm(n){return Ur(n,"bundles")}function Xm(n){return Ur(n,"namedQueries")}class ey{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new ey(e,t.uid||"")}getOverlay(e,t){return Bc(e).get(f0(this.userId,t)).next(r=>r?h0(this.It,r):null)}getOverlays(e,t){const r=Wa();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new Qm(t,d);o.push(this.ue(e,m))}),ie.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(ci(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Bc(e).Y("collectionPathOverlayIndex",m))}),ie.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Wa(),u=ci(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Bc(e).W("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const b=h0(this.It,v);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Wa();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bc(e).Z({index:"collectionGroupOverlayIndex",range:m},(v,b,A)=>{const k=h0(this.It,b);u.size()<o||k.largestBatchId===d?(u.set(k.getKey(),k),d=k.largestBatchId):A.done()}).next(()=>u)}ue(e,t){return Bc(e).put(function(r,o,u){const[d,m,v]=f0(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:li(r.re,u.mutation)}}(this.It,this.userId,t))}}function Bc(n){return Ur(n,"documentOverlays")}class Qa{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(nr(e.integerValue));else if("doubleValue"in e){const r=nr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),ch(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Mc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?hh(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),ze.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function ty(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function JD(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=ty(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Qa.Te=new Qa;class ZA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=JD(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=JD(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class qA{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class zA{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Th{constructor(){this.Be=new ZA,this.Le=new qA(this.Be),this.Ue=new zA(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class jc{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new jc(this.indexId,this.documentKey,this.arrayValue,r)}}function $c(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YE(n.arrayValue,e.arrayValue),0!==t?t:(t=YE(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function YE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class XD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Jf(e);if(void 0!==t&&!this.ze(t))return!1;const r=ja(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class QE{constructor(){this.Ye=new ny}addToCollectionParentIndex(e,t){return this.Ye.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Ui.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class ny{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new In(tn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new In(tn.comparator)).toArray()}}const cp=new Uint8Array(0);class eT{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ny,this.Ze=new Lc(r=>Ga(r),(r,o)=>ip(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:ci(o)};return JE(e).put(u)}return ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[ZI(t),""],!1,!0);return JE(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Jo(d.parent))}return r})}addFieldIndex(e,t){const r=Ah(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=ry(e);return u.next(m=>{d.put(dl(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Ah(e),o=ry(e),u=Sh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Sh(e);let o=!0;const u=new Map;return ie.forEach(this.tn(t),d=>this.en(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=$t();const m=[];return ie.forEach(u,(v,b)=>{var A;Re("IndexedDbIndexManager",`Using index ${A=v,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(kt=>`${kt.fieldPath}:${kt.kind}`).join(",")}`} to execute ${Ga(t)}`);const k=function(kt,Ye){const Ge=Jf(Ye);if(void 0===Ge)return null;for(const Nt of Rv(kt,Ge.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(b,v),V=function(kt,Ye){const Ge=new Map;for(const Nt of ja(Ye))for(const qn of Rv(kt,Nt.fieldPath))switch(qn.op){case"==":case"in":Ge.set(Nt.fieldPath.canonicalString(),qn.value);break;case"not-in":case"!=":return Ge.set(Nt.fieldPath.canonicalString(),qn.value),Array.from(Ge.values())}return null}(b,v),z=function(kt,Ye){const Ge=[];let Nt=!0;for(const qn of ja(Ye)){const Kc=0===qn.kind?Om(kt,qn.fieldPath,kt.startAt):Pm(kt,qn.fieldPath,kt.startAt);Ge.push(Kc.value),Nt&&(Nt=Kc.inclusive)}return new Za(Ge,Nt)}(b,v),ee=function(kt,Ye){const Ge=[];let Nt=!0;for(const qn of ja(Ye)){const Kc=0===qn.kind?Pm(kt,qn.fieldPath,kt.endAt):Om(kt,qn.fieldPath,kt.endAt);Ge.push(Kc.value),Nt&&(Nt=Kc.inclusive)}return new Za(Ge,Nt)}(b,v),Me=this.nn(v,b,z),ke=this.nn(v,b,ee),It=this.sn(v,b,V),St=this.rn(v.indexId,k,Me,z.inclusive,ke,ee.inclusive,It);return ie.forEach(St,kt=>r.J(kt,t.limit).next(Ye=>{Ye.forEach(Ge=>{const Nt=ze.fromSegments(Ge.documentKey);d.has(Nt)||(d=d.add(Nt),m.push(Nt))})}))}).next(()=>m)}return ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,d,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),b=v/(null!=t?t.length:1),A=[];for(let k=0;k<v;++k){const V=t?this.on(t[k/b]):cp,z=this.un(e,V,r[k%b],o),ee=this.cn(e,V,u[k%b],d),Me=m.map(ke=>this.un(e,V,ke,!0));A.push(...this.createRange(z,ee,Me))}return A}un(e,t,r,o){const u=new jc(e,ze.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new jc(e,ze.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new XD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return ie.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new In(tr.comparator),v=!1;for(const b of d.filters){const A=b;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?v=!0:m=m.add(A.field))}for(const b of d.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Th;for(const o of ja(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.qe(o.kind);Qa.Te.ce(u,d)}return r.$e()}on(e){const t=new Th;return Qa.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Th;return Qa.Te.ce(kc(this.databaseId,t),r.qe(function(o){const u=ja(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new Th);let u=0;for(const d of ja(e)){const m=r[u++];for(const v of o)if(this.ln(t,d.fieldPath)&&np(m))o=this.fn(o,d,m);else{const b=v.qe(d.kind);Qa.Te.ce(m,b)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const v=new Th;v.seed(m.$e()),Qa.Te.ce(d,v.qe(t.kind)),u.push(v)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Vr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ah(e),o=ry(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return ie.forEach(u,m=>o.get([m.indexId,this.uid]).next(v=>{d.push(function(b,A){const k=A?new Xf(A.sequenceNumber,new Ui(Ch(A.readTime),new ze(Jo(A.documentKey)),A.largestBatchId)):Xf.empty(),V=b.fields.map(([z,ee])=>new oh(tr.fromServerFormat(z),ee));return new Cm(b.indexId,b.collectionGroup,V,k)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Pt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Ah(e),u=ry(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ie.forEach(m,v=>u.put(dl(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?ie.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ie.forEach(m,v=>this.wn(e,o,v).next(b=>{const A=this.mn(u,v);return b.isEqual(A)?ie.resolve():this.gn(e,u,v,b,A)}))))})}yn(e,t,r,o){return Sh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Sh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Sh(e);let u=new In($c);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{u=u.add(new jc(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new In($c);const o=this.an(t,e);if(null==o)return r;const u=Jf(t);if(null!=u){const d=e.data.field(u.fieldPath);if(np(d))for(const m of d.arrayValue.values||[])r=r.add(new jc(t.indexId,e.key,this.on(m),o))}else r=r.add(new jc(t.indexId,e.key,cp,o));return r}gn(e,t,r,o,u){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,v,b,A,k){const V=m.getIterator(),z=v.getIterator();let ee=uh(V),Me=uh(z);for(;ee||Me;){let ke=!1,It=!1;if(ee&&Me){const St=b(ee,Me);St<0?It=!0:St>0&&(ke=!0)}else null!=ee?It=!0:ke=!0;ke?(A(Me),Me=uh(z)):It?(k(ee),ee=uh(V)):(ee=uh(V),Me=uh(z))}}(o,u,$c,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),ie.waitFor(d)}_n(e){let t=1;return ry(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>$c(d,m)).filter((d,m,v)=>!m||0!==$c(d,v[m-1]));const o=[];o.push(e);for(const d of r){const m=$c(d,e),v=$c(d,t);if(0===m)o[0]=e.Ke();else if(m>0&&v<0)o.push(d),o.push(d.Ke());else if(v>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,cp,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,cp,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(p0)}getMinOffset(e,t){return ie.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||rt())).next(p0)}}function JE(n){return Ur(n,"collectionParents")}function Sh(n){return Ur(n,"indexEntries")}function Ah(n){return Ur(n,"indexConfiguration")}function ry(n){return Ur(n,"indexState")}function p0(n){bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;nl(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Ui(e.readTime,e.documentKey,t)}const iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ji{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XE(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.Z({range:d},(A,k,V)=>(m++,V.delete()));u.push(v.next(()=>{bt(1===m)}));const b=[];for(const A of t.mutations){const k=OE(e,A.key.path,t.batchId);u.push(o.delete(k)),b.push(A.key)}return ie.waitFor(u).next(()=>b)}function g0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class m0{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){bt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new m0(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=xh(e),d=hl(e);return d.add({}).next(m=>{bt("number"==typeof m);const v=new qE(m,t,r,o),b=function(V,z,ee){const Me=ee.baseMutations.map(It=>li(V.re,It)),ke=ee.mutations.map(It=>li(V.re,It));return{userId:z,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:Me,mutations:ke}}(this.It,this.userId,v),A=[];let k=new In((V,z)=>Pt(V.canonicalString(),z.canonicalString()));for(const V of o){const z=OE(this.userId,V.key.path,m);k=k.add(V.key.path.popLast()),A.push(d.put(b)),A.push(u.put(z,zD))}return k.forEach(V=>{A.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[m]=v.keys()}),ie.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return hl(e).get(t).next(r=>r?(bt(r.userId===this.userId),Dh(this.It,r)):null)}Tn(e,t){return this.In[t]?ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return hl(e).Z({index:"userMutationsIndex",range:o},(d,m,v)=>{m.userId===this.userId&&(bt(m.batchId>=r),u=Dh(this.It,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return hl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).W("userMutationsIndex",t).next(r=>r.map(o=>Dh(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Km(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return xh(e).Z({range:o},(d,m,v)=>{const[b,A,k]=d,V=Jo(A);if(b===this.userId&&t.path.isEqual(V))return hl(e).get(k).next(z=>{if(!z)throw rt();bt(z.userId===this.userId),u.push(Dh(this.It,z))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Pt);const o=[];return t.forEach(u=>{const d=Km(this.userId,u.path),m=IDBKeyRange.lowerBound(d),v=xh(e).Z({range:m},(b,A,k)=>{const[V,z,ee]=b,Me=Jo(z);V===this.userId&&u.path.isEqual(Me)?r=r.add(ee):k.done()});o.push(v)}),ie.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Km(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new In(Pt);return xh(e).Z({range:d},(v,b,A)=>{const[k,V,z]=v,ee=Jo(V);k===this.userId&&r.isPrefixOf(ee)?ee.length===o&&(m=m.add(z)):A.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(hl(e).get(u).next(d=>{if(null===d)throw rt();bt(d.userId===this.userId),r.push(Dh(this.It,d))}))}),ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return XE(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return xh(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const v=Jo(u[1]);o.push(v)}else m.done()}).next(()=>{bt(0===o.length)})})}containsKey(e,t){return eb(e,this.userId,t)}Rn(e){return tT(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eb(n,e,t){const r=Km(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return xh(n).Z({range:u,X:!0},(m,v,b)=>{const[A,k,V]=m;A===e&&k===o&&(d=!0),b.done()}).next(()=>d)}function hl(n){return Ur(n,"mutations")}function xh(n){return Ur(n,"documentMutations")}function tT(n){return Ur(n,"mutationQueues")}class Mh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Mh(0)}static vn(){return new Mh(-1)}}class WA{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Mh(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ct.fromTimestamp(new xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dp(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return dp(e).Z((d,m)=>{const v=up(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,u.push(this.removeTargetData(e,v)))}).next(()=>ie.waitFor(u)).next(()=>o)}forEachTarget(e,t){return dp(e).Z((r,o)=>{const u=up(o);t(u)})}Vn(e){return nT(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}Sn(e,t){return nT(e).put("targetGlobalKey",t)}Dn(e,t){return dp(e).put(lp(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ga(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return dp(e).Z({range:o,index:"queryTargetsIndex"},(d,m,v)=>{const b=up(m);ip(t,b.target)&&(u=b,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=fl(e);return t.forEach(d=>{const m=ci(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=fl(e);return ie.forEach(t,u=>{const d=ci(u.path);return ie.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=fl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=fl(e);let u=$t();return o.Z({range:r,X:!0},(d,m,v)=>{const b=Jo(d[1]),A=new ze(b);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=ci(t.path),o=IDBKeyRange.bound([r],[ZI(r)],!1,!0);let u=0;return fl(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,m],v,b)=>{0!==d&&(u++,b.done())}).next(()=>u>0)}se(e,t){return dp(e).get(t).next(r=>r?up(r):null)}}function dp(n){return Ur(n,"targets")}function nT(n){return Ur(n,"targetGlobal")}function fl(n){return Ur(n,"targetDocuments")}function rT([n,e],[t,r]){const o=Pt(n,t);return 0===o?Pt(e,r):o}class KA{constructor(e){this.xn=e,this.buffer=new In(rT),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){zo(r)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xc(r)}yield t.Fn(3e5)}))}}class QA{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(Bi.at);const r=new KA(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(iy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iy):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,d,m,v,b;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,d=Date.now(),this.nthSequenceNumber(e,o))).next(k=>(r=k,m=Date.now(),this.removeTargets(e,r,t))).next(k=>(u=k,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(b=Date.now(),Dv()<=Fa.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${k} documents in `+(b-v)+`ms\nTotal Duration: ${b-A}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:k})))}}class JA{constructor(e,t){this.db=e,this.garbageCollector=new QA(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return y0(e,r)}removeReference(e,t,r){return y0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return y0(e,t)}Gn(e,t){return function(r,o){let u=!1;return tT(r).tt(d=>eb(r,d,o).next(m=>(m&&(u=!0),ie.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(d,m)=>{if(m<=t){const v=this.Gn(e,d).next(b=>{if(!b)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ct.min()),fl(e).delete([0,ci(d.path)])))});o.push(v)}}).next(()=>ie.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return y0(e,t)}Kn(e,t){const r=fl(e);let o,u=Bi.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:b})=>{0===d?(u!==Bi.at&&t(new ze(Jo(o)),u),u=b,o=v):u=Bi.at}).next(()=>{u!==Bi.at&&t(new ze(Jo(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y0(n,e){return fl(n).put((r=n.currentSequenceNumber,{targetId:0,path:ci(e.path),sequenceNumber:r}));var r}class i{constructor(){this.changes=new Lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return p(e).put(r)}removeEntry(e,t,r){return p(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],c0(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=bn.newInvalidDocument(t);return p(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:bn.newInvalidDocument(t)};return p(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_(t))},(o,u)=>{r={document:this.jn(t,u),size:g0(u)}}).next(()=>r)}getEntries(e,t){let r=ls();return this.zn(e,t,(o,u)=>{const d=this.jn(o,u);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=ls(),o=new Hn(ze.comparator);return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);r=r.insert(u,m),o=o.insert(u,g0(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ie.resolve();let o=new In(E);t.forEach(v=>o=o.add(v));const u=IDBKeyRange.bound(_(o.first()),_(o.last())),d=o.getIterator();let m=d.getNext();return p(e).Z({index:"documentKeyIndex",range:u},(v,b,A)=>{const k=ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&E(m,k)<0;)r(m,null),m=d.getNext();m&&m.isEqual(k)&&(r(m,b),m=d.hasNext()?d.getNext():null),m?A.j(_(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),c0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return p(e).W(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=ls();for(const v of d){const b=this.jn(ze.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(b.key,b)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=ls();const d=I(t,r),m=I(t,Ui.max());return p(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,b,A)=>{const k=this.jn(ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(k.key,k),u.size===o&&A.done()}).next(()=>u)}newChangeBuffer(e){return new l(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return h(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}Qn(e,t){return h(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function YD(n,e){let t;if(e.document)t=xE(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),o=Ch(e.noDocument.readTime);t=bn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=ze.fromSegments(e.unknownDocument.path),o=Ch(e.unknownDocument.version);t=bn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new xn(r[0],r[1]);return Ct.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return bn.newInvalidDocument(e)}}function a(n){return new s(n)}class l extends i{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Lc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new In((u,d)=>Pt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const v=QD(this.Yn.It,d);o=o.add(u.path.popLast()),r+=g0(v)-m.size,t.push(this.Yn.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=QD(this.Yn.It,d.convertToNoDocument(Ct.min()));t.push(this.Yn.addEntry(e,u,v))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function h(n){return Ur(n,"remoteDocumentGlobal")}function p(n){return Ur(n,"remoteDocumentsV14")}function _(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function I(n,e){const t=e.documentKey.path.toArray();return[n,c0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function E(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Pt(t[u],r[u]),o)return o;return o=Pt(t.length,r.length),o||(o=Pt(t[t.length-2],r[r.length-2]),o||Pt(t[t.length-1],r[r.length-1]))}class T{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class M{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&yh(r.mutation,o,us.empty(),xn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$t()){const o=Wa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=Hm();return u.forEach((m,v)=>{d=d.insert(m,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$t()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=ls();const d=Gm(),m=Gm();return t.forEach((v,b)=>{const A=r.get(b.key);o.has(b.key)&&(void 0===A||A.mutation instanceof Yo)?u=u.insert(b.key,b):void 0!==A&&(d.set(b.key,A.mutation.getFieldMask()),yh(A.mutation,b,A.mutation.getFieldMask(),xn.now()))}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((b,A)=>d.set(b,A)),t.forEach((b,A)=>{var k;return m.set(b,new T(A,null!==(k=d.get(b))&&void 0!==k?k:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Gm();let o=new Hn((d,m)=>d-m),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(v=>{const b=t.get(v);if(null===b)return;let A=r.get(v)||us.empty();A=m.applyToLocalView(b,A),r.set(v,A);const k=(o.get(m.batchId)||$t()).add(v);o=o.insert(m.batchId,k)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),b=v.key,A=v.value,k=FD();A.forEach(V=>{if(!u.has(V)){const z=mE(t.get(V),r.get(V));null!==z&&k.set(V,z),u=u.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,b,k))}return ie.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ul(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ie.resolve(Wa());let m=-1,v=u;return d.next(b=>ie.forEach(b,(A,k)=>(m<k.largestBatchId&&(m=k.largestBatchId),u.get(A)?ie.resolve():this.getBaseDocument(e,A,k).next(V=>{v=v.insert(A,V)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,v,b,$t())).next(A=>({batchId:m,changes:PD(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let o=Hm();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Hm();return this.indexManager.getCollectionParents(e,o).next(d=>ie.forEach(d,m=>{const v=(b=t,A=m.child(o),new Ko(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(b=>{b.forEach((A,k)=>{u=u.insert(A,k)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,v)=>{const b=v.getKey();null===o.get(b)&&(o=o.insert(b,bn.newInvalidDocument(b)))});let d=Hm();return o.forEach((m,v)=>{const b=u.get(m);void 0!==b&&yh(b.mutation,v,us.empty(),xn.now()),Rc(t,v)&&(d=d.insert(m,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ie.resolve(bn.newInvalidDocument(t))}}class P{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Yr(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:d0(r.bundledQuery),readTime:Yr(r.readTime)}),ie.resolve();var r}}class H{constructor(){this.overlays=new Hn(ze.comparator),this.es=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wa();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const o=Wa(),u=t.length+1,d=new ze(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,b=v.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Hn((b,A)=>b-A);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=Wa(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const m=Wa(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((b,A)=>m.set(b,A)),!(m.size()>=o)););return ie.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Qm(t,r));let u=this.es.get(t);void 0===u&&(u=$t(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class X{constructor(){this.ns=new In(ce.ss),this.rs=new In(ce.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ce(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ce(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ze(new tn([])),r=new ce(t,e),o=new ce(t,e+1),u=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ze(new tn([])),r=new ce(t,e),o=new ce(t,e+1);let u=$t();return this.rs.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new ce(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ce{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ze.comparator(e.key,t.key)||Pt(e._s,t._s)}static os(e,t){return Pt(e._s,t._s)||ze.comparator(e.key,t.key)}}class Fe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(ce.ss)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new qE(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.gs=this.gs.add(new ce(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ce(t,0),o=new ce(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],d=>{const m=this.ys(d._s);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Pt);return t.forEach(o=>{const u=new ce(o,0),d=new ce(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],m=>{r=r.add(m._s)})}),ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ze.isDocumentKey(u)||(u=u.child(""));const d=new ce(new ze(u),0);let m=new In(Pt);return this.gs.forEachWhile(v=>{const b=v.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(v._s)),!0)},d),ie.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ie.forEach(t.mutations,o=>{const u=new ce(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ce(t,0),o=this.gs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ze{constructor(e){this.Es=e,this.docs=new Hn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=ls();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():bn.newInvalidDocument(o))}),ie.resolve(r)}getAllFromCollection(e,t,r){let o=ls();const u=new ze(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||nl(WI(v),r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,r,o){rt()}As(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new st(this)}getSize(e){return ie.resolve(this.size)}}class st extends i{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class yt{constructor(e){this.persistence=e,this.Rs=new Lc(t=>Ga(t),ip),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.bs=0,this.Ps=new X,this.targetCount=0,this.vs=Mh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Mh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Dn(t),ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ps.containsKey(t))}}class Te{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Bi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new yt(this),this.indexManager=new QE,this.remoteDocumentCache=new Ze(r=>this.referenceDelegate.xs(r)),this.It=new WE(t),this.Ns=new P(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new H,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Fe(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new Tt(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ms(e,t){return ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Tt extends KI{constructor(e){super(),this.currentSequenceNumber=e}}class nn{constructor(e){this.persistence=e,this.Fs=new X,this.$s=null}static Bs(e){return new nn(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,r=>{const o=ze.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,Ct.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ie.or([()=>ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Fn{constructor(e){this.It=e}$(e,t,r,o){const u=new Sm("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qD,{unique:!0}),m.createObjectStore("documentMutations"),pl(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),pl(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",b)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").W().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qD,{unique:!0});const A=v.store("mutations"),k=b.map(V=>A.put(V));return ie.waitFor(k)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(u))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:jE});v.createIndex("collectionPathOverlayIndex",$E,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",Ym,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:WD});v.createIndex("documentKeyIndex",PE),v.createIndex("collectionGroupIndex",HA)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:a0}).createIndex("sequenceNumberIndex",VE,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:UE}).createIndex("documentKeyIndex",BE,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=g0(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ie.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>ie.forEach(m,v=>{bt(v.userId===u.userId);const b=Dh(this.It,v);return XE(e,u.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const v=new tn(d),b=[0,ci(v)];u.push(t.get(b).next(A=>A?ie.resolve():t.put({targetId:0,path:ci(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ie.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:GA});const r=t.store("collectionParents"),o=new ny,u=d=>{if(o.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:ci(v)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const v=new tn(d);return u(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,v],b)=>{const A=Jo(m);return u(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=up(o),d=lp(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),v=(b=d,b.document?new ze(tn.fromString(b.document.name).popFirst(5)):b.noDocument?ze.fromSegments(b.noDocument.path):b.unknownDocument?ze.fromSegments(b.unknownDocument.path):rt()).path.toArray();var b;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(A))}).next(()=>ie.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=a(this.It),u=new Te(nn.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(v=>{var b;let A=null!==(b=m.get(v.userId))&&void 0!==b?b:$t();Dh(this.It,v).keys().forEach(k=>A=A.add(k)),m.set(v.userId,A)}),ie.forEach(m,(v,b)=>{const A=new Lr(b),k=ey.oe(this.It,A),V=u.getIndexManager(A),z=m0.oe(A,this.It,V,u.referenceDelegate);return new M(o,z,k,V).recalculateAndSaveOverlaysForDocumentKeys(new l0(t,Bi.at),v).next()})})}}function pl(n){n.createObjectStore("targetDocuments",{keyPath:KD}).createIndex("documentTargetsIndex",LE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",FE,{unique:!0}),n.createObjectStore("targetGlobal")}const hp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fp{constructor(e,t,r,o,u,d,m,v,b,A,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=m,this.Js=b,this.Ys=A,this.Xs=k,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!fp.C())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JA(this,o),this.ii=t+"main",this.It=new WE(v),this.ri=new as(this.ii,this.Xs,new Fn(this.It)),this.Cs=new WA(this.referenceDelegate,this.It),this.remoteDocumentCache=a(this.It),this.Ns=new KE,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,hp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Bi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(zo(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Hc(e).get("owner").next(t=>ie.resolve(this.mi(t)))}gi(e){return kh(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ur(r,"clientMetadata");return o.W().next(u=>{const d=e.Ii(u,18e5),m=u.filter(v=>-1===d.indexOf(v));return ie.forEach(m,v=>o.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ie.resolve(!0):Hc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,hp);return!1}}return!(!this.networkEnabled||!this.inForeground)||kh(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new l0(t,Bi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>kh(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return m0.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eT(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return ey.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?ZE:14===d?u0:13===d?GE:12===d?HE:11===d?ap:void rt();var d;let m;return this.ri.runTransaction(e,o,u,v=>(m=new l0(v,this.Ss?this.Ss.next():Bi.at),"readwrite-primary"===t?this.fi(m).next(b=>!!b||this.di(m)).next(b=>{if(!b)throw er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(le.FAILED_PRECONDITION,Sv);return r(m)}).next(b=>this.wi(m).next(()=>b)):this.Vi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Vi(e){return Hc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,hp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hc(e).put("owner",t)}static C(){return as.C()}_i(e){const t=Hc(e);return t.get("owner").next(r=>this.mi(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){er("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hc(n){return Ur(n,"owner")}function kh(n){return Ur(n,"clientMetadata")}function pp(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class gp{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=$t(),o=$t();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gp(e,t.fromCache,r,o)}}class sy{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(Uv(t))return ie.resolve(null);let r=Ei(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Bv(t,null,"F"),r=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=$t(...u);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const b=this.Fi(t,m);return this.$i(t,b,d,v.readTime)?this.ki(e,Bv(t,null,"F")):this.Bi(e,b,t,v)}))})))}Oi(e,t,r,o){return Uv(t)||o.isEqual(Ct.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,o)?this.Mi(e,t):(Dv()<=Fa.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vm(t)),this.Bi(e,d,t,Dm(o,-1)))})}Fi(e,t){let r=new In(Um(e));return t.forEach((o,u)=>{Rc(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Mi(e,t){return Dv()<=Fa.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Vm(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ui.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class _0{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Hn(Pt),this.qi=new Lc(u=>Ga(u),ip),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function oy(n,e,t,r){return new _0(n,e,t,r)}function XA(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,ye.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let v=$t();for(const b of o){d.push(b.batchId);for(const A of b.mutations)v=v.add(A.key)}for(const b of u){m.push(b.batchId);for(const A of b.mutations)v=v.add(A.key)}return t.localDocuments.getDocuments(r,v).next(b=>({ji:b,removedBatchIds:d,addedBatchIds:m}))})})}),iT.apply(this,arguments)}function Y1(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,v,b){const A=v.batch,k=A.keys();let V=ie.resolve();return k.forEach(z=>{V=V.next(()=>b.getEntry(m,z)).next(ee=>{const Me=v.docVersions.get(z);bt(null!==Me),ee.version.compareTo(Me)<0&&(A.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),b.addEntry(ee)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(m,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=$t();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function ex(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Q1(n,e){const t=qe(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((A,k)=>{const V=o.get(k);if(!V)return;m.push(t.Cs.removeMatchingKeys(u,A.removedDocuments,k).next(()=>t.Cs.addMatchingKeys(u,A.addedDocuments,k)));let z=V.withSequenceNumber(u.currentSequenceNumber);var ee,Me,ke;e.targetMismatches.has(k)?z=z.withResumeToken(_r.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,r)),o=o.insert(k,z),Me=z,ke=A,(0===(ee=V).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,z))});let v=ls(),b=$t();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(tx(u,d,e.documentUpdates).next(A=>{v=A.Wi,b=A.zi})),!r.isEqual(Ct.min())){const A=t.Cs.getLastRemoteSnapshotVersion(u).next(k=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return ie.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,b)).next(()=>v)}).then(u=>(t.Ui=o,u))}function tx(n,e,t){let r=$t(),o=$t();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=ls();return t.forEach((m,v)=>{const b=u.get(m);v.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(m)),v.isNoDocument()&&v.version.isEqual(Ct.min())?(e.removeEntry(m,v.readTime),d=d.insert(m,v)):!b.isValidDocument()||v.version.compareTo(b.version)>0||0===v.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(v),d=d.insert(m,v)):Re("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",v.version)}),{Wi:d,zi:o}})}function J1(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ay(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,ie.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new cl(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function uy(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=(0,ye.Z)(function*(n,e,t){const r=qe(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!zo(d))throw d;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),sT.apply(this,arguments)}function tb(n,e,t){const r=qe(n);let o=Ct.min(),u=$t();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,b){const A=qe(m),k=A.qi.get(b);return void 0!==k?ie.resolve(A.Ui.get(k)):A.Cs.getTargetData(v,b)}(r,d,Ei(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(v=>{u=v})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Ct.min(),t?u:$t())).next(m=>(ix(r,cE(e),m),{documents:m,Hi:u})))}function nx(n,e){const t=qe(n),r=qe(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function rx(n,e){const t=qe(n),r=t.Ki.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,Dm(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ix(t,e,o),o))}function ix(n,e,t){let r=n.Ki.get(e)||Ct.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function oT(){return oT=(0,ye.Z)(function*(n,e,t,r){const o=qe(n);let u=$t(),d=ls();for(const b of t){const A=e.Ji(b.metadata.name);b.document&&(u=u.add(A));const k=e.Yi(b);k.setReadTime(e.Xi(b.metadata.readTime)),d=d.insert(A,k)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),v=yield ay(o,(b=r,Ei(ph(tn.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>tx(b,m,d).next(A=>(m.apply(b),A)).next(A=>o.Cs.removeMatchingKeysForTargetId(b,v.targetId).next(()=>o.Cs.addMatchingKeys(b,u,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,A.Wi,A.zi)).next(()=>A.Wi)))}),oT.apply(this,arguments)}function ek(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,ye.Z)(function*(n,e,t=$t()){const r=yield ay(n,Ei(d0(e.bundledQuery))),o=qe(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Yr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(_r.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),aT.apply(this,arguments)}function sx(n,e){return`firestore_clients_${n}_${e}`}function ox(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uT(n,e){return`firestore_targets_${n}_${e}`}class nb{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new xe(o.error.code,o.error.message))),d?new nb(e,t,o.state,u):(er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class v0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new xe(r.error.code,r.error.message))),u?new v0(e,r.state,o):(er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Vc();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Mv(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new rb(e,u):(er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lT(t.clientId,t.onlineState):(er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cT{constructor(){this.activeTargetIds=Vc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dT{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Hn(Pt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=sx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new cT),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(sx(e.persistenceKey,o));if(u){const d=rb.Zi(o,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uT(this.persistenceKey,e));if(r){const o=v0.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let d=Bi.at;if(null!=u)try{const m=JSON.parse(u);bt("number"==typeof m),d=m}catch(m){er("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Bi.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new nb(this.currentUser,e,t,r),u=ox(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=ox(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=uT(this.persistenceKey,e),u=new v0(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return rb.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return nb.Zi(new Lr(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return v0.Zi(o,t)}yr(e){return lT.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),d=[],m=[];return u.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Vc();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class ax{constructor(){this.Lr=new cT,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tk{qr(e){}shutdown(){}}class ux{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rk{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ik extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,u){const d=this.ho(e,t);Re("RestConnection","Sending: ",d,r);const m={};return this.lo(m,o,u),this.fo(e,d,m,r).then(v=>(Re("RestConnection","Received: ",v),v),v=>{throw Ac("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}_o(e,t,r,o,u,d){return this.ao(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.oo}/v1/${t}:${nk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const m=new hD;m.setWithCredentials(!0),m.listenOnce(cD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Cv.NO_ERROR:const b=m.getResponseJson();Re("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Cv.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),d(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Cv.HTTP_ERROR:const A=m.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const k=m.getResponseJson().error;if(k&&k.status&&k.message){const V=function(z){const ee=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ee)>=0?ee:le.UNKNOWN}(k.status);d(new xe(V,k.message))}else d(new xe(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new xe(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);m.send(t,"POST",v,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=VI(),d=Im(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new dD({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=o.join("");Re("Connection","Creating WebChannel: "+v,m);const b=u.createWebChannel(v,m);let A=!1,k=!1;const V=new rk({Hr:ee=>{k?Re("Connection","Not sending because WebChannel is closed:",ee):(A||(Re("Connection","Opening WebChannel transport."),b.open(),A=!0),Re("Connection","WebChannel sending:",ee),b.send(ee))},Jr:()=>b.close()}),z=(ee,Me,ke)=>{ee.listen(Me,It=>{try{ke(It)}catch(St){setTimeout(()=>{throw St},0)}})};return z(b,Em.EventType.OPEN,()=>{k||Re("Connection","WebChannel transport opened.")}),z(b,Em.EventType.CLOSE,()=>{k||(k=!0,Re("Connection","WebChannel transport closed"),V.io())}),z(b,Em.EventType.ERROR,ee=>{k||(k=!0,Ac("Connection","WebChannel transport errored:",ee),V.io(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),z(b,Em.EventType.MESSAGE,ee=>{var Me;if(!k){const ke=ee.data[0];bt(!!ke);const It=ke,St=It.error||(null===(Me=It[0])||void 0===Me?void 0:Me.error);if(St){Re("Connection","WebChannel received error:",St);const kt=St.status;let Ye=function(Nt){const qn=ur[Nt];if(void 0!==qn)return bE(qn)}(kt),Ge=St.message;void 0===Ye&&(Ye=le.INTERNAL,Ge="Unknown error status: "+kt+" with message "+St.message),k=!0,V.io(new xe(Ye,Ge)),b.close()}else Re("Connection","WebChannel received:",ke),V.ro(ke)}}),z(d,UI.STAT_EVENT,ee=>{ee.stat===ih.PROXY?Re("Connection","Detected buffering proxy"):ee.stat===ih.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function lx(){return typeof window<"u"?window:null}function ib(){return typeof document<"u"?document:null}function w0(n){return new zm(n,!0)}class hT{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class cx{constructor(e,t,r,o,u,d,m,v){this.Hs=e,this.vo=r,this.Vo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new hT(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sk extends cx{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function HD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:rt(),o=e.targetChange.targetIds||[],u=function(v,b){return v.gt?(bt(void 0===b||"string"==typeof b),_r.fromBase64String(b||"")):(bt(void 0===b||b instanceof Uint8Array),_r.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const b=void 0===v.code?le.UNKNOWN:bE(v.code);return new xe(b,v.message||"")}(d);t=new Kv(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ka(n,r.document.name),u=Yr(r.document.updateTime),d=new vr({mapValue:{fields:r.document.fields}}),m=bn.newFoundDocument(o,u,d);t=new Wv(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ka(n,r.document),u=r.readTime?Yr(r.readTime):Ct.min(),d=bn.newNoDocument(o,u);t=new Wv([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Ka(n,r.document);t=new Wv([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new IE(r.count||0);t=new qm(r.targetId,u)}}var v;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Ct.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?Yr(u.readTime):Ct.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Ih(this.It),t.addTarget=function(o,u){let d;const m=u.target;return d=Rm(m)?{documents:ME(o,m)}:{query:n0(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=jD(o,u.resumeToken):u.snapshotVersion.compareTo(Ct.min())>0&&(d.readTime=sp(o,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function kE(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Ih(this.It),t.removeTarget=e,this.Bo(t)}}class ok extends cx{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function t0(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(r,o){let u=Yr(r.updateTime?r.updateTime:o);return u.isEqual(Ct.min())&&(u=Yr(o)),new BA(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.Zo(r,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ih(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>li(this.It,r))};this.Bo(t)}}class ak extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.ao(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(le.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection._o(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(le.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class lk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(er(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ck{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var v;Gc(d)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ye.Z)(function*(b){const A=qe(b);A._u.add(4),yield ly(A),A.gu.set("Unknown"),A._u.delete(4),yield I0(A)}),function(b){return v.apply(this,arguments)})(d))}))}),this.gu=new lk(r,o)}}function I0(n){return pT.apply(this,arguments)}function pT(){return pT=(0,ye.Z)(function*(n){if(Gc(n))for(const e of n.wu)yield e(!0)}),pT.apply(this,arguments)}function ly(n){return gT.apply(this,arguments)}function gT(){return gT=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),gT.apply(this,arguments)}function sb(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),_T(t)?yT(t):dy(t).ko()&&mT(t,e))}function E0(n,e){const t=qe(n),r=dy(t);t.du.delete(e),r.ko()&&dx(t,e),0===t.du.size&&(r.ko()?r.Fo():Gc(t)&&t.gu.set("Unknown"))}function mT(n,e){n.yu.Mt(e.targetId),dy(n).zo(e)}function dx(n,e){n.yu.Mt(e),dy(n).Ho(e)}function yT(n){n.yu=new SE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),dy(n).start(),n.gu.uu()}function _T(n){return Gc(n)&&!dy(n).No()&&n.du.size>0}function Gc(n){return 0===qe(n)._u.size}function hx(n){n.yu=void 0}function dk(n){return vT.apply(this,arguments)}function vT(){return vT=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{mT(n,e)})}),vT.apply(this,arguments)}function hk(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,ye.Z)(function*(n,e){hx(n),_T(n)?(n.gu.hu(e),yT(n)):n.gu.set("Unknown")}),wT.apply(this,arguments)}function fk(n,e,t){return IT.apply(this,arguments)}function IT(){return IT=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Kv&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.du.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.du.delete(m),o.yu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ob(n,r)}else if(e instanceof Wv?n.yu.Gt(e):e instanceof qm?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Ct.min()))try{const r=yield ex(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.yu.te(u);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.du.get(v);b&&o.du.set(v,b.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const v=o.du.get(m);if(!v)return;o.du.set(m,v.withResumeToken(_r.EMPTY_BYTE_STRING,v.snapshotVersion)),dx(o,m);const b=new cl(v.target,m,1,v.sequenceNumber);mT(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield ob(n,r)}var r}),IT.apply(this,arguments)}function ob(n,e,t){return ET.apply(this,arguments)}function ET(){return ET=(0,ye.Z)(function*(n,e,t){if(!zo(e))throw e;n._u.add(1),yield ly(n),n.gu.set("Offline"),t||(t=()=>ex(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield I0(n)}))}),ET.apply(this,arguments)}function fx(n,e){return e().catch(t=>ob(n,t,e))}function cy(n){return bT.apply(this,arguments)}function bT(){return bT=(0,ye.Z)(function*(n){const e=qe(n),t=Nh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;pk(e);)try{const o=yield J1(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,gk(e,o)}catch(o){yield ob(e,o)}px(e)&&gx(e)}),bT.apply(this,arguments)}function pk(n){return Gc(n)&&n.fu.length<10}function gk(n,e){n.fu.push(e);const t=Nh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function px(n){return Gc(n)&&!Nh(n).No()&&n.fu.length>0}function gx(n){Nh(n).start()}function mk(n){return CT.apply(this,arguments)}function CT(){return CT=(0,ye.Z)(function*(n){Nh(n).eu()}),CT.apply(this,arguments)}function yk(n){return DT.apply(this,arguments)}function DT(){return DT=(0,ye.Z)(function*(n){const e=Nh(n);for(const t of n.fu)e.Xo(t.mutations)}),DT.apply(this,arguments)}function _k(n,e,t){return TT.apply(this,arguments)}function TT(){return TT=(0,ye.Z)(function*(n,e,t){const r=n.fu.shift(),o=zE.from(r,e,t);yield fx(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield cy(n)}),TT.apply(this,arguments)}function vk(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,ye.Z)(function*(n,e){var t;e&&Nh(n).Yo&&(yield(t=(0,ye.Z)(function*(r,o){if(EE(u=o.code)&&u!==le.ABORTED){const d=r.fu.shift();Nh(r).Mo(),yield fx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield cy(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),px(n)&&gx(n)}),ST.apply(this,arguments)}function mx(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,ye.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Gc(t);t._u.add(3),yield ly(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield I0(t)}),AT.apply(this,arguments)}function xT(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,ye.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield I0(t)):e||(t._u.add(2),yield ly(t),t.gu.set("Unknown"))}),MT.apply(this,arguments)}function dy(n){return n.pu||(n.pu=function(e,t,r){const o=qe(e);return o.su(),new sk(t,o.connection,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:dk.bind(null,n),Zr:hk.bind(null,n),Wo:fk.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Mo(),_T(n)?yT(n):n.gu.set("Unknown")):(yield n.pu.stop(),hx(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Nh(n){return n.Iu||(n.Iu=function(e,t,r){const o=qe(e);return o.su(),new ok(t,o.connection,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:mk.bind(null,n),Zr:vk.bind(null,n),tu:yk.bind(null,n),Zo:_k.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Mo(),yield cy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class kT{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new kT(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(n,e){if(er("AsyncQueue",`${e}: ${n}`),zo(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class fy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=Hm(),this.sortedSet=new Hn(this.comparator)}static emptySet(e){return new fy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yx{constructor(){this.Tu=new Hn(ze.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class py{constructor(e,t,r,o,u,d,m,v,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new py(e,t,fy.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class wk{constructor(){this.Au=void 0,this.listeners=[]}}class Ik{constructor(){this.queries=new Lc(e=>jv(e),Lm),this.onlineState="Unknown",this.Ru=new Set}}function NT(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new wk),o)try{u.Au=yield t.onListen(r)}catch(d){const m=hy(d,`Initialization of query '${Vm(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&FT(t)}),RT.apply(this,arguments)}function OT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),PT.apply(this,arguments)}function Ek(n,e){const t=qe(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Pu(o)&&(r=!0);d.Au=o}}r&&FT(t)}function bk(n,e,t){const r=qe(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function FT(n){n.Ru.forEach(e=>{e.next()})}class LT{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new py(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=py.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Ck{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class _x{constructor(e){this.It=e}Ji(e){return Ka(this.It,e)}Yi(e){return e.metadata.exists?xE(this.It,e.document,!1):bn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Yr(e)}}class Dk{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=tn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new _x(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||$t()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function X1(n,e,t,r){return oT.apply(this,arguments)}(e.localStore,new _x(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield ek(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function vx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class wx{constructor(e){this.key=e}}class Ix{constructor(e){this.key=e}}class Ex{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$t(),this.mutatedKeys=$t(),this.Gu=Um(e),this.Qu=new fy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new yx,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,k)=>{const V=o.get(A),z=Rc(this.query,k)?k:null,ee=!!V&&this.mutatedKeys.has(V.key),Me=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let ke=!1;V&&z?V.data.isEqual(z.data)?ee!==Me&&(r.track({type:3,doc:z}),ke=!0):this.Hu(V,z)||(r.track({type:2,doc:z}),ke=!0,(v&&this.Gu(z,v)>0||b&&this.Gu(z,b)<0)&&(m=!0)):!V&&z?(r.track({type:0,doc:z}),ke=!0):V&&!z&&(r.track({type:1,doc:V}),ke=!0,(v||b)&&(m=!0)),ke&&(z?(d=d.add(z),u=Me?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Qu:d,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((b,A)=>function(k,V){const z=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return z(k)-z(V)}(b.type,A.type)||this.Gu(b.doc,A.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,v=m!==this.qu;return this.qu=m,0!==u.length||v?{snapshot:new py(this.query,e.Qu,o,u,e.mutatedKeys,0===m,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new yx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=$t(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Ix(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new wx(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=$t();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return py.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Tk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Sk{constructor(e){this.key=e,this.nc=!1}}class Ak{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Lc(m=>jv(m),Lm),this.rc=new Map,this.oc=new Set,this.uc=new Hn(ze.comparator),this.cc=new Map,this.ac=new X,this.hc={},this.lc=new Map,this.fc=Mh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function xk(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,ye.Z)(function*(n,e){const t=aS(n);let r,o;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ec();else{const d=yield ay(t.localStore,Ei(e));t.isPrimaryClient&&sb(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield UT(t,e,r,"current"===m,d.resumeToken)}return o}),VT.apply(this,arguments)}function UT(n,e,t,r,o){return BT.apply(this,arguments)}function BT(){return BT=(0,ye.Z)(function*(n,e,t,r,o){n._c=(k,V,z)=>{return(ee=(0,ye.Z)(function*(Me,ke,It,St){let kt=ke.view.Wu(It);kt.$i&&(kt=yield tb(Me.localStore,ke.query,!1).then(({documents:Nt})=>ke.view.Wu(Nt,kt)));const Ye=St&&St.targetChanges.get(ke.targetId),Ge=ke.view.applyChanges(kt,Me.isPrimaryClient,Ye);return YT(Me,ke.targetId,Ge.Xu),Ge.snapshot}),function(Me,ke,It,St){return ee.apply(this,arguments)})(n,k,V,z);var ee};const u=yield tb(n.localStore,e,!0),d=new Ex(e,u.Hi),m=d.Wu(u.documents),v=wh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),b=d.applyChanges(m,n.isPrimaryClient,v);YT(n,t,b.Xu);const A=new Tk(e,t,d);return n.ic.set(e,A),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),BT.apply(this,arguments)}function Mk(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,ye.Z)(function*(n,e){const t=qe(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(u=>!Lm(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),E0(t.remoteStore,r.targetId),gy(t,r.targetId)}).catch(xc))):(gy(t,r.targetId),yield uy(t.localStore,r.targetId,!0))}),jT.apply(this,arguments)}function $T(){return $T=(0,ye.Z)(function*(n,e,t){const r=uS(n);try{const o=yield function(u,d){const m=qe(u),v=xn.now(),b=d.reduce((V,z)=>V.add(z.key),$t());let A,k;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>{let z=ls(),ee=$t();return m.Gi.getEntries(V,b).next(Me=>{z=Me,z.forEach((ke,It)=>{It.isValidDocument()||(ee=ee.add(ke))})}).next(()=>m.localDocuments.getOverlayedDocuments(V,z)).next(Me=>{A=Me;const ke=[];for(const It of d){const St=yE(It,A.get(It.key).overlayedDocument);null!=St&&ke.push(new Yo(It.key,St,rE(St.value.mapValue),Pn.exists(!0)))}return m.mutationQueue.addMutationBatch(V,v,ke,d)}).next(Me=>{k=Me;const ke=Me.applyToLocalDocumentSet(A,ee);return m.documentOverlayCache.saveOverlays(V,Me.batchId,ke)})}).then(()=>({batchId:k.batchId,changes:PD(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let v=u.hc[u.currentUser.toKey()];v||(v=new Hn(Pt)),v=v.insert(d,m),u.hc[u.currentUser.toKey()]=v}(r,o.batchId,t),yield Zc(r,o.changes),yield cy(r.remoteStore)}catch(o){const u=hy(o,"Failed to persist write");t.reject(u)}}),$T.apply(this,arguments)}function bx(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,ye.Z)(function*(n,e){const t=qe(n);try{const r=yield Q1(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.cc.get(u);d&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?bt(d.nc):o.removedDocuments.size>0&&(bt(d.nc),d.nc=!1))}),yield Zc(t,r,e)}catch(r){yield xc(r)}}),HT.apply(this,arguments)}function Cx(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((u,d)=>{const m=d.view.bu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=qe(u);m.onlineState=d;let v=!1;m.queries.forEach((b,A)=>{for(const k of A.listeners)k.bu(d)&&(v=!0)}),v&&FT(m)}(r.eventManager,e),o.length&&r.sc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nk(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=(0,ye.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),u=o&&o.key;if(u){let d=new Hn(ze.comparator);d=d.insert(u,bn.newNoDocument(u,Ct.min()));const m=$t().add(u),v=new vh(Ct.min(),new Map,new In(Pt),d,m);yield bx(r,v),r.uc=r.uc.remove(u),r.cc.delete(e),QT(r)}else yield uy(r.localStore,e,!1).then(()=>gy(r,e,t)).catch(xc)}),GT.apply(this,arguments)}function Rk(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const o=yield Y1(t.localStore,e);KT(t,r,null),WT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zc(t,o)}catch(o){yield xc(o)}}),ZT.apply(this,arguments)}function Ok(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,ye.Z)(function*(n,e,t){const r=qe(n);try{const o=yield function(u,d){const m=qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return m.mutationQueue.lookupMutationBatch(v,d).next(A=>(bt(null!==A),b=A.keys(),m.mutationQueue.removeMutationBatch(v,A))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,b,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>m.localDocuments.getDocuments(v,b))})}(r.localStore,e);KT(r,e,t),WT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zc(r,o)}catch(o){yield xc(o)}}),qT.apply(this,arguments)}function zT(){return zT=(0,ye.Z)(function*(n,e){const t=qe(n);Gc(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=qe(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=hy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),zT.apply(this,arguments)}function WT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function KT(n,e,t){const r=qe(n);let o=r.hc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||Dx(n,r)})}function Dx(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(E0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),QT(n))}function YT(n,e,t){for(const r of t)r instanceof wx?(n.ac.addReference(r.key,e),Fk(n,r)):r instanceof Ix?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||Dx(n,r.key)):rt()}function Fk(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.oc.add(r),QT(n))}function QT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ze(tn.fromString(e)),r=n.fc.next();n.cc.set(r,new Sk(t)),n.uc=n.uc.insert(t,r),sb(n.remoteStore,new cl(Ei(ph(t.path)),r,2,Bi.at))}}function Zc(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,ye.Z)(function*(n,e,t){const r=qe(n),o=[],u=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,v)=>{d.push(r._c(v,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const A=gp.Ci(v.targetId,b);u.push(A)}}))}),yield Promise.all(d),r.sc.Wo(o),yield(m=(0,ye.Z)(function*(v,b){const A=qe(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>ie.forEach(b,V=>ie.forEach(V.Si,z=>A.persistence.referenceDelegate.addReference(k,V.targetId,z)).next(()=>ie.forEach(V.Di,z=>A.persistence.referenceDelegate.removeReference(k,V.targetId,z)))))}catch(k){if(!zo(k))throw k;Re("LocalStore","Failed to update sequence numbers: "+k)}for(const k of b){const V=k.targetId;if(!k.fromCache){const z=A.Ui.get(V),Me=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);A.Ui=A.Ui.insert(V,Me)}}}),function(v,b){return m.apply(this,arguments)})(r.localStore,u))}),JT.apply(this,arguments)}function Lk(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,ye.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield XA(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new xe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zc(t,r.ji)}var o}),XT.apply(this,arguments)}function Vk(n,e){const t=qe(n),r=t.cc.get(e);if(r&&r.nc)return $t().add(r.key);{let o=$t();const u=t.rc.get(e);if(!u)return o;for(const d of u){const m=t.ic.get(d);o=o.unionWith(m.view.ju)}return o}}function Uk(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,ye.Z)(function*(n,e){const t=qe(n),r=yield tb(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&YT(t,e.targetId,o.Xu),o}),eS.apply(this,arguments)}function Bk(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,ye.Z)(function*(n,e){const t=qe(n);return rx(t.localStore,e).then(r=>Zc(t,r))}),tS.apply(this,arguments)}function jk(n,e,t,r){return nS.apply(this,arguments)}function nS(){return nS=(0,ye.Z)(function*(n,e,t,r){const o=qe(n),u=yield function(d,m){const v=qe(d),b=qe(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>b.Tn(A,m).next(k=>k?v.localDocuments.getDocuments(A,k):ie.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield cy(o.remoteStore):"acknowledged"===t||"rejected"===t?(KT(o,e,r||null),WT(o,e),m=e,qe(qe(o.localStore).mutationQueue).An(m)):rt(),yield Zc(o,u)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),nS.apply(this,arguments)}function rS(){return rS=(0,ye.Z)(function*(n,e){const t=qe(n);if(aS(t),uS(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Tx(t,r.toArray());t.dc=!0,yield xT(t.remoteStore,!0);for(const u of o)sb(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(gy(t,d),uy(t.localStore,d,!0))),E0(t.remoteStore,d)}),yield o,yield Tx(t,r),function(u){const d=qe(u);d.cc.forEach((m,v)=>{E0(d.remoteStore,v)}),d.ac.fs(),d.cc=new Map,d.uc=new Hn(ze.comparator)}(t),t.dc=!1,yield xT(t.remoteStore,!1)}}),rS.apply(this,arguments)}function Tx(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,ye.Z)(function*(n,e,t){const r=qe(n),o=[],u=[];for(const d of e){let m;const v=r.rc.get(d);if(v&&0!==v.length){m=yield ay(r.localStore,Ei(v[0]));for(const b of v){const A=r.ic.get(b),k=yield Uk(r,A);k.snapshot&&u.push(k.snapshot)}}else{const b=yield nx(r.localStore,d);m=yield ay(r.localStore,b),yield UT(r,Sx(b),d,!1,m.resumeToken)}o.push(m)}return r.sc.Wo(u),o}),iS.apply(this,arguments)}function Sx(n){return Vv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hk(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function Gk(n,e,t,r){return sS.apply(this,arguments)}function sS(){return sS=(0,ye.Z)(function*(n,e,t,r){const o=qe(n);if(o.dc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const u=o.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield rx(o.localStore,cE(u[0])),m=vh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,_r.EMPTY_BYTE_STRING);yield Zc(o,d,m);break}case"rejected":yield uy(o.localStore,e,!0),gy(o,e,r);break;default:rt()}}),sS.apply(this,arguments)}function Zk(n,e,t){return oS.apply(this,arguments)}function oS(){return oS=(0,ye.Z)(function*(n,e,t){const r=aS(n);if(r.dc){for(const o of e){if(r.rc.has(o)){Re("SyncEngine","Adding an already active target "+o);continue}const u=yield nx(r.localStore,o),d=yield ay(r.localStore,u);yield UT(r,Sx(u),d.targetId,!1,d.resumeToken),sb(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield uy(r.localStore,o,!1).then(()=>{E0(r.remoteStore,o),gy(r,o)}).catch(xc))}}),oS.apply(this,arguments)}function aS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nk.bind(null,e),e.sc.Wo=Ek.bind(null,e.eventManager),e.sc.wc=bk.bind(null,e.eventManager),e}function uS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ok.bind(null,e),e}class Ax{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=w0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return oy(this.persistence,new sy,e.initialUser,this.It)}yc(e){return new Te(nn.Bs,this.It)}gc(e){return new ax}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xx extends Ax{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield uS(r.Ac.syncEngine),yield cy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return oy(this.persistence,new sy,e.initialUser,this.It)}Tc(e,t){return new YA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ED(t,this.persistence);return new ID(e.asyncQueue,r)}yc(e){const t=pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new fp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lx(),ib(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ax}}class zk extends xx{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof dT&&(r.sharedClientState.syncEngine={Fr:jk.bind(null,o),$r:Gk.bind(null,o),Br:Zk.bind(null,o),vi:Hk.bind(null,o),Mr:Bk.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ye.Z)(function*(d){yield function $k(n,e){return rS.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=lx();if(!dT.C(t))throw new xe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class lS{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Cx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lk.bind(null,r.syncEngine),yield xT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ik}createDatastore(e){const t=w0(e.databaseInfo.databaseId),r=new ik(e.databaseInfo);return new ak(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>Cx(this.syncEngine,m,0),d=ux.C()?new ux:new tk,new ck(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,v,b){const A=new Ak(r,o,u,d,m,v);return b&&(A.dc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=qe(t);Re("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield ly(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function cS(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Mx(n,e,t,r){if(!0===e&&!0===r)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kx(n){if(!ze.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nx(n){if(ze.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ab(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ab(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Rx(n,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Ox=new Map;class Px{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Mx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Px({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Px(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pD;switch(t.type){case"gapi":return new $I(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ox.get(e);t&&(Re("ComponentProvider","Removing Datastore"),Ox.delete(e),t.terminate())}(this),Promise.resolve()}}class Gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class $i{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class gl extends $i{constructor(e,t,r){super(e,t,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new ze(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function Lx(n,e,...t){if(n=(0,jt.m9)(n),cS("collection","path",e),n instanceof b0){const r=tn.fromString(e,...t);return Nx(r),new gl(n,null,r)}{if(!(n instanceof Gn||n instanceof gl))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Nx(r),new gl(n.firestore,null,r)}}function ub(n,e,...t){if(n=(0,jt.m9)(n),1===arguments.length&&(e=GI.R()),cS("doc","path",e),n instanceof b0){const r=tn.fromString(e,...t);return kx(r),new Gn(n,null,new ze(r))}{if(!(n instanceof Gn||n instanceof gl))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return kx(r),new Gn(n.firestore,n instanceof gl?n.converter:null,new ze(r))}}function Vx(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),(n instanceof Gn||n instanceof gl)&&(e instanceof Gn||e instanceof gl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dS(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),n instanceof $i&&e instanceof $i&&n.firestore===e.firestore&&Lm(n._query,e._query)&&n.converter===e.converter}function Ux(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):er("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kk{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new yr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(o);return new Ck(JSON.parse(u),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ye.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Jk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,d){const m=qe(u),v=Ih(m.It)+"/documents",b={documents:d.map(z=>op(m.It,z))},A=yield m._o("BatchGetDocuments",v,b,d.length),k=new Map;A.forEach(z=>{const ee=function Xv(n,e){return"found"in e?function(t,r){bt(!!r.found);const o=Ka(t,r.found.name),u=Yr(r.found.updateTime),d=new vr({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){bt(!!r.missing),bt(!!r.readTime);const o=Ka(t,r.missing),u=Yr(r.readTime);return bn.newNoDocument(o,u)}(n,e):rt()}(m.It,z);k.set(ee.key.toString(),ee)});const V=[];return d.forEach(z=>{const ee=k.get(z.toString());bt(!!ee),V.push(ee)}),V}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _h(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=ze.fromPath(o);e.mutations.push(new $m(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const d=qe(o),m=Ih(d.It)+"/documents",v={writes:u.map(b=>li(d.It,b))};yield d.ao("Commit",m,v)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ct.min())?Pn.exists(!1):Pn.updateTime(t):Pn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new xe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(t)}return Pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xk{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.kc=r.maxAttempts,this.xo=new hT(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ye.Z)(function*(){const t=new Jk(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Fc(u)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!EE(t)}return!1}}class eN{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Lr.UNAUTHENTICATED,this.clientId=GI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Re("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=hy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Bx(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield XA(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),hS.apply(this,arguments)}function jx(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pS(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>mx(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>mx(e.remoteStore,u)),n.onlineComponents=e}),fS.apply(this,arguments)}function pS(n){return gS.apply(this,arguments)}function gS(){return gS=(0,ye.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield Bx(n,new Ax)),n.offlineComponents}),gS.apply(this,arguments)}function cb(n){return mS.apply(this,arguments)}function mS(){return mS=(0,ye.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield jx(n,new lS)),n.onlineComponents}),mS.apply(this,arguments)}function $x(n){return pS(n).then(e=>e.persistence)}function db(n){return pS(n).then(e=>e.localStore)}function yS(n){return cb(n).then(e=>e.remoteStore)}function _S(n){return cb(n).then(e=>e.syncEngine)}function my(n){return vS.apply(this,arguments)}function vS(){return vS=(0,ye.Z)(function*(n){const e=yield cb(n),t=e.eventManager;return t.onListen=xk.bind(null,e.syncEngine),t.onUnlisten=Mk.bind(null,e.syncEngine),t}),vS.apply(this,arguments)}function Gx(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,v){const b=new lb({next:k=>{u.enqueueAndForget(()=>OT(o,A));const V=k.docs.has(d);!V&&k.fromCache?v.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&k.fromCache&&m&&"server"===m.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(k)},error:k=>v.reject(k)}),A=new LT(ph(d.path),b,{includeMetadataChanges:!0,Nu:!0});return NT(o,A)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}function Zx(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,v){const b=new lb({next:k=>{u.enqueueAndForget(()=>OT(o,A)),k.fromCache&&"server"===m.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(k)},error:k=>v.reject(k)}),A=new LT(d,b,{includeMetadataChanges:!0,Nu:!0});return NT(o,A)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}class uN{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new hT(this,"async_queue_retry"),this.Wc=()=>{const t=ib();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ib();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=ib();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new yr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!zo(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,er("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=kT.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(o),o}zc(){this.Kc&&rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function wS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class lN{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zn extends b0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new uN,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qx(this),this._firestoreClient.terminate()}}function Tr(n){return n._firestoreClient||qx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qx(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DD(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new eN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function zx(n,e,t){const r=new yr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield Bx(n,t),yield jx(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===le.FAILED_PRECONDITION||d.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Ac("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function Wx(n){if(n._initialized||n._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(_r.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class hb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const vN=/^__.*__$/;class wN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class Kx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class fb{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new fb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return mb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Yx(this.sa)&&vN.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class IN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||w0(e)}da(e,t,r,o=!1){return new fb({sa:e,methodName:t,fa:r,path:tr.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function yp(n){const e=n._freezeSettings(),t=w0(n._databaseId);return new IN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pb(n,e,t,r,o,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,o);CS("Data must be an object, but it was:",d,r);const m=Xx(r,d);let v,b;if(u.merge)v=new us(d.fieldMask),b=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const k of u.mergeFields){const V=DS(e,k,t);if(!d.contains(V))throw new xe(le.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);tM(A,V)||A.push(V)}v=new us(A),b=d.fieldTransforms.filter(k=>v.covers(k.field))}else v=null,b=d.fieldTransforms;return new wN(new vr(m),v,b)}class C0 extends mp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof C0}}function Qx(n,e,t){return new fb({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class IS extends mp{_toFieldTransform(e){return new mh(e.path,new qa)}isEqual(e){return e instanceof IS}}class EN extends mp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Qx(this,e,!0),r=this._a.map(u=>_p(u,t)),o=new za(r);return new mh(e.path,o)}isEqual(e){return this===e}}class bN extends mp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Qx(this,e,!0),r=this._a.map(u=>_p(u,t)),o=new ll(r);return new mh(e.path,o)}isEqual(e){return this===e}}class CN extends mp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Oc(e.It,hE(e.It,this.wa));return new mh(e.path,t)}isEqual(e){return this===e}}function ES(n,e,t,r){const o=n.da(1,e,t);CS("Data must be an object, but it was:",o,r);const u=[],d=vr.empty();il(r,(v,b)=>{const A=gb(e,v,t);b=(0,jt.m9)(b);const k=o.ca(A);if(b instanceof C0)u.push(A);else{const V=_p(b,k);null!=V&&(u.push(A),d.set(A,V))}});const m=new us(u);return new Kx(d,m,o.fieldTransforms)}function bS(n,e,t,r,o,u){const d=n.da(1,e,t),m=[DS(e,r,t)],v=[o];if(u.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)m.push(DS(e,u[V])),v.push(u[V+1]);const b=[],A=vr.empty();for(let V=m.length-1;V>=0;--V)if(!tM(b,m[V])){const z=m[V];let ee=v[V];ee=(0,jt.m9)(ee);const Me=d.ca(z);if(ee instanceof C0)b.push(z);else{const ke=_p(ee,Me);null!=ke&&(b.push(z),A.set(z,ke))}}const k=new us(b);return new Kx(A,k,d.fieldTransforms)}function Jx(n,e,t,r=!1){return _p(t,n.da(r?4:3,e))}function _p(n,e){if(eM(n=(0,jt.m9)(n)))return CS("Unsupported field value:",e,n),Xx(n,e);if(n instanceof mp)return function(t,r){if(!Yx(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=_p(d,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hE(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=xn.fromDate(t);return{timestampValue:sp(r.It,o)}}if(t instanceof xn){const o=new xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sp(r.It,o)}}if(t instanceof hb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ml)return{bytesValue:jD(r.It,t._byteString)};if(t instanceof Gn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${ab(t)}`)}(n,e)}function Xx(n,e){const t={};return bD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(n,(r,o)=>{const u=_p(o,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function eM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof hb||n instanceof ml||n instanceof Gn||n instanceof mp)}function CS(n,e,t){if(!eM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ab(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function DS(n,e,t){if((e=(0,jt.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return gb(n,e);throw mb("Field path arguments must be of type string or ",n,!1,void 0,t)}const DN=new RegExp("[~\\*/\\[\\]]");function gb(n,e,t){if(e.search(DN)>=0)throw mb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw mb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mb(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new xe(le.INVALID_ARGUMENT,m+n+v)}function tM(n,e){return n.some(t=>t.isEqual(e))}class D0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TN extends D0{data(){return super.data()}}function yb(n,e){return"string"==typeof e?gb(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}function nM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T0{}function Rh(n,...e){for(const t of e)n=t._apply(n);return n}class SN extends T0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=yp(e.firestore),r=function(o,u,d,m,v,b,A){let k;if(v.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){uM(A,b);const z=[];for(const ee of A)z.push(aM(m,o,ee));k={arrayValue:{values:z}}}else k=aM(m,o,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||uM(A,b),k=Jx(d,"where",A,"in"===b||"not-in"===b);const V=Vr.create(v,b,k);return function(z,ee){if(ee.dt()){const ke=Kr(z);if(null!==ke&&!ke.isEqual(ee.field))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ke.toString()}' and '${ee.field.toString()}'`);const It=Fm(z);null!==It&&lM(0,ee.field,It)}const Me=function(ke,It){for(const St of ke.filters)if(It.indexOf(St.op)>=0)return St.op;return null}(z,function(ke){switch(ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==Me)throw new xe(le.INVALID_ARGUMENT,Me===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${Me.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new $i(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Ko(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class xN extends T0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new fh(o,u);return function(m,v){if(null===Fm(m)){const b=Kr(m);null!==b&&lM(0,b,v.field)}}(r,d),d}(e._query,this.ma,this.pa);return new $i(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Ko(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rM extends T0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new $i(e.firestore,e.converter,Bv(e._query,this.Ia,this.Ta))}}class iM extends T0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=oM(e,this.type,this.Ea,this.Aa);return new $i(e.firestore,e.converter,(o=t,new Ko((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class sM extends T0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=oM(e,this.type,this.Ea,this.Aa);return new $i(e.firestore,e.converter,(o=t,new Ko((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function oM(n,e,t,r){if(t[0]=(0,jt.m9)(t[0]),t[0]instanceof D0)return function(o,u,d,m,v){if(!m)throw new xe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const A of gh(o))if(A.field.isKeyField())b.push(kc(u,m.key));else{const k=m.data.field(A.field);if(xv(k))throw new xe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const V=A.field.canonicalString();throw new xe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}b.push(k)}return new Za(b,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=yp(n.firestore);return function(u,d,m,v,b,A){const k=u.explicitOrderBy;if(b.length>k.length)throw new xe(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let z=0;z<b.length;z++){const ee=b[z];if(k[z].field.isKeyField()){if("string"!=typeof ee)throw new xe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ee}`);if(!ul(u)&&-1!==ee.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ee}' contains a slash.`);const Me=u.path.child(tn.fromString(ee));if(!ze.isDocumentKey(Me))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const ke=new ze(Me);V.push(kc(d,ke))}else{const Me=Jx(m,v,ee);V.push(Me)}}return new Za(V,A)}(n._query,n.firestore._databaseId,o,e,t,r)}}function aM(n,e,t){if("string"==typeof(t=(0,jt.m9)(t))){if(""===t)throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ul(e)&&-1!==t.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!ze.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kc(n,new ze(r))}if(t instanceof Gn)return kc(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ab(t)}.`)}function uM(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function lM(n,e,t){if(!t.isEqual(e))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TS{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return il(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new hb(nr(e.latitude),nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ep(e));default:return null}}convertTimestamp(e){const t=sl(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);bt(Ya(r));const o=new Us(r.get(1),r.get(3)),u=new ze(r.popFirst(5));return o.isEqual(t)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function _b(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class LN extends TS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}class vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends D0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new S0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class S0 extends zc{data(e={}){return super.data(e)}}class Oh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new S0(this._firestore,this._userDataWriter,r.key,r,new vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new S0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new vp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new S0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new vp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,b=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:VN(d.type),doc:m,oldIndex:v,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function cM(n,e){return n instanceof zc&&e instanceof zc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Oh&&e instanceof Oh&&n._firestore===e._firestore&&dS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ph extends TS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}function dM(n,e,t){n=rn(n,Gn);const r=rn(n.firestore,Zn),o=_b(n.converter,e,t);return yy(r,[pb(yp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Pn.none())])}function hM(n,e,t,...r){n=rn(n,Gn);const o=rn(n.firestore,Zn),u=yp(o);let d;return d="string"==typeof(e=(0,jt.m9)(e))||e instanceof qc?bS(u,"updateDoc",n._key,e,t,r):ES(u,"updateDoc",n._key,e),yy(o,[d.toMutation(n._key,Pn.exists(!0))])}function fM(n,...e){var t,r,o;n=(0,jt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||wS(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(wS(e[d])){const k=e[d];e[d]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[d+2]=null===(o=k.complete)||void 0===o?void 0:o.bind(k)}let v,b,A;if(n instanceof Gn)b=rn(n.firestore,Zn),A=ph(n._key.path),v={next:k=>{e[d]&&e[d](SS(b,n,k))},error:e[d+1],complete:e[d+2]};else{const k=rn(n,$i);b=rn(k.firestore,Zn),A=k._query;const V=new Ph(b);v={next:z=>{e[d]&&e[d](new Oh(b,V,k,z))},error:e[d+1],complete:e[d+2]},nM(n._query)}return function(k,V,z,ee){const Me=new lb(ee),ke=new LT(V,Me,z);return k.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return NT(yield my(k),ke)})),()=>{Me.bc(),k.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return OT(yield my(k),ke)}))}}(Tr(b),A,m,v)}function yy(n,e){return function(t,r){const o=new yr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function kk(n,e,t){return $T.apply(this,arguments)}(yield _S(t),r,o)})),o.promise}(Tr(n),e)}function SS(n,e,t){const r=t.docs.get(e._key),o=new Ph(n);return new zc(n,o,e._key,r,new vp(t.hasPendingWrites,t.fromCache),e.converter)}const WN={maxAttempts:5};class pM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yp(e)}set(e,t,r){this._verifyNotCommitted();const o=Fh(e,this._firestore),u=_b(o.converter,t,r),d=pb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Pn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Fh(e,this._firestore);let d;return d="string"==typeof(t=(0,jt.m9)(t))||t instanceof qc?bS(this._dataReader,"WriteBatch.update",u._key,t,r,o):ES(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fh(e,this._firestore);return this._mutations=this._mutations.concat(new _h(t._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fh(n,e){if((n=(0,jt.m9)(n)).firestore!==e)throw new xe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class KN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yp(e)}get(e){const t=Fh(e,this._firestore),r=new LN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return rt();const u=o[0];if(u.isFoundDocument())return new D0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new D0(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const o=Fh(e,this._firestore),u=_b(o.converter,t,r),d=pb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Fh(e,this._firestore);let d;return d="string"==typeof(t=(0,jt.m9)(t))||t instanceof qc?bS(this._dataReader,"Transaction.update",u._key,t,r,o):ES(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Fh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fh(e,this._firestore),r=new Ph(this._firestore);return super.get(e).then(o=>new zc(this._firestore,r,t._key,o._document,new vp(!1,!1),t.converter))}}function AS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mM(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function yM(){if(!function JI(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Sc=Gu.SDK_VERSION,(0,Gu._registerComponent)(new cc.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Zn(new Tv(t.getProvider("auth-internal")),new yD(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(m.options.projectId,v)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Gu.registerVersion)(BI,"3.7.2",n),(0,Gu.registerVersion)(BI,"3.7.2","esm2017")}();class A0{constructor(e){this._delegate=e}static fromBase64String(e){return yM(),new A0(ml.fromBase64String(e))}static fromUint8Array(e){return mM(),new A0(ml.fromUint8Array(e))}toBase64(){return yM(),this._delegate.toBase64()}toUint8Array(){return mM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xS(n){return function iR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sR{enableIndexedDbPersistence(e,t){return function dN(n,e){Wx(n=rn(n,Zn));const t=Tr(n),r=n._freezeSettings(),o=new lS;return zx(t,o,new xx(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hN(n){Wx(n=rn(n,Zn));const e=Tr(n),t=n._freezeSettings(),r=new lS;return zx(e,r,new zk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function fN(n){if(n._initialized&&!n._terminated)throw new xe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!as.C())return Promise.resolve();const o=r+"main";yield as.delete(o)}),function(r){return t.apply(this,arguments)})(pp(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _M{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Us||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ac("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Fx(n,e,t,r={}){var o;const u=(n=rn(n,b0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ac("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Lr.MOCK_USER;else{d=(0,jt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Lr(v)}n._authCredentials=new gD(new jI(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function gN(n){return function tN(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield $x(n),t=yield yS(n);return e.setNetworkEnabled(!0),function(r){const o=qe(r);return o._u.delete(0),I0(o)}(t)}))}(Tr(n=rn(n,Zn)))}(this._delegate)}disableNetwork(){return function mN(n){return function nN(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield $x(n),t=yield yS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=qe(o);u._u.add(0),yield ly(u),u.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Tr(n=rn(n,Zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Mx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pN(n){return function(e){const t=new yr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Pk(n,e){return zT.apply(this,arguments)}(yield _S(e),t)})),t.promise}(Tr(n=rn(n,Zn)))}(this._delegate)}onSnapshotsInSync(e){return function zN(n,e){return function sN(n,e){const t=new lb(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield my(n),o=t,qe(r).Ru.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield my(n),o=t,void qe(r).Ru.delete(o);var r,o}))}}(Tr(n=rn(n,Zn)),wS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _y(this,Lx(this._delegate,e))}catch(t){throw cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xo(this,ub(this._delegate,e))}catch(t){throw cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ds(this,function Wk(n,e){if(n=rn(n,b0),cS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $i(n,null,(t=e,new Ko(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function YN(n,e,t){n=rn(n,Zn);const r=Object.assign(Object.assign({},WN),t);return function(o){if(o.maxAttempts<1)throw new xe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new yr;return o.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const v=yield function Hx(n){return cb(n).then(e=>e.datastore)}(o);new Xk(o.asyncQueue,v,d,u,m).run()})),m.promise}(Tr(n),o=>e(new KN(n,o)),r)}(this._delegate,t=>e(new vM(this,t)))}batch(){return Tr(this._delegate),new wM(new pM(this._delegate,e=>yy(this._delegate,e)))}loadBundle(e){return function yN(n,e){const t=Tr(n=rn(n,Zn)),r=new lN;return function oN(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,b){if(v instanceof Uint8Array)return Ux(v,b);if(v instanceof ArrayBuffer)return Ux(new Uint8Array(v),b);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Kk(v,d);var v}(t,w0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function qk(n,e,t){const r=qe(n);var o;(o=(0,ye.Z)(function*(u,d,m){try{const v=yield d.getMetadata();if(yield function(V,z){const ee=qe(V),Me=Yr(z.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",ke=>ee.Ns.getBundleMetadata(ke,z.id)).then(ke=>!!ke&&ke.createTime.compareTo(Me)>=0)}(u.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(V=v).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);m._updateProgress(vx(v));const b=new Dk(v,u.localStore,d.It);let A=yield d.mc();for(;A;){const V=yield b.Fu(A);V&&m._updateProgress(V),A=yield d.mc()}const k=yield b.complete();return yield Zc(u,k.Lu,void 0),yield function(V,z){const ee=qe(V);return ee.persistence.runTransaction("Save bundle","readwrite",Me=>ee.Ns.saveBundleMetadata(Me,z))}(u.localStore,v),m._completeWith(k.progress),Promise.resolve(k.Bu)}catch(v){return Ac("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var V}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield _S(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _N(n,e){return function aN(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=qe(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield db(n),e)}))}(Tr(n=rn(n,Zn)),e).then(t=>t?new $i(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ds(this,t):null)}}class vb extends TS{constructor(e){super(),this.firestore=e}convertBytes(e){return new A0(new ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xo.forKey(t,this.firestore,null)}}class vM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vb(e)}get(e){const t=Ip(e);return this._delegate.get(t).then(r=>new x0(this._firestore,new zc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Ip(e);return r?(AS("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ip(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ip(e);return this._delegate.delete(t),this}}class wM{constructor(e){this._delegate=e}set(e,t,r){const o=Ip(e);return r?(AS("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ip(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ip(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new S0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new wp(e,new vb(e),t),o.set(t,u)),u}}wp.INSTANCES=new WeakMap;class Xo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xo(t,new Gn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new Xo(t,new Gn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,Lx(this._delegate,e))}catch(t){throw cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.m9)(e))instanceof Gn&&Vx(this._delegate,e)}set(e,t){t=AS("DocumentReference.set",t);try{return t?dM(this._delegate,e,t):dM(this._delegate,e)}catch(r){throw cs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?hM(this._delegate,e):hM(this._delegate,e,t,...r)}catch(o){throw cs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function ZN(n){return yy(rn(n.firestore,Zn),[new _h(n._key,Pn.none())])}(this._delegate)}onSnapshot(...e){const t=IM(e),r=EM(e,o=>new x0(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return fM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function BN(n){n=rn(n,Gn);const e=rn(n.firestore,Zn),t=Tr(e),r=new Ph(e);return function rN(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield function(v,b){const A=qe(v);return A.persistence.runTransaction("read document","readonly",k=>A.localDocuments.getDocument(k,b))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new xe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=hy(m,`Failed to get document '${u} from cache`);d.reject(v)}}),function(o,u,d){return r.apply(this,arguments)})(yield db(n),e,t);var r})),t.promise}(t,n._key).then(o=>new zc(e,r,n._key,o,new vp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function jN(n){n=rn(n,Gn);const e=rn(n.firestore,Zn);return Gx(Tr(e),n._key,{source:"server"}).then(t=>SS(e,n,t))}(this._delegate):function UN(n){n=rn(n,Gn);const e=rn(n.firestore,Zn);return Gx(Tr(e),n._key).then(t=>SS(e,n,t))}(this._delegate),t.then(r=>new x0(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function cs(n,e,t){return n.message=n.message.replace(e,t),n}function IM(n){for(const e of n)if("object"==typeof e&&!xS(e))return e;return{}}function EM(n,e){var t,r;let o;return o=xS(n[0])?n[0]:xS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class x0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cM(this._delegate,e._delegate)}}class M0 extends x0{data(e){const t=this._delegate.data(e);return function fD(n,e){n||rt()}(void 0!==t),t}}class ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vb(e)}where(e,t,r){try{return new ds(this.firestore,Rh(this._delegate,function AN(n,e,t){const r=e,o=yb("where",n);return new SN(o,r,t)}(e,t,r)))}catch(o){throw cs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ds(this.firestore,Rh(this._delegate,function MN(n,e="asc"){const t=e,r=yb("orderBy",n);return new xN(r,t)}(e,t)))}catch(r){throw cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ds(this.firestore,Rh(this._delegate,function kN(n){return Rx("limit",n),new rM("limit",n,"F")}(e)))}catch(t){throw cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ds(this.firestore,Rh(this._delegate,function NN(n){return Rx("limitToLast",n),new rM("limitToLast",n,"L")}(e)))}catch(t){throw cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ds(this.firestore,Rh(this._delegate,function RN(...n){return new iM("startAt",n,!0)}(...e)))}catch(t){throw cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ds(this.firestore,Rh(this._delegate,function ON(...n){return new iM("startAfter",n,!1)}(...e)))}catch(t){throw cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ds(this.firestore,Rh(this._delegate,function PN(...n){return new sM("endBefore",n,!1)}(...e)))}catch(t){throw cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ds(this.firestore,Rh(this._delegate,function FN(...n){return new sM("endAt",n,!0)}(...e)))}catch(t){throw cs(t,"endAt()","Query.endAt()")}}isEqual(e){return dS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function HN(n){n=rn(n,$i);const e=rn(n.firestore,Zn),t=Tr(e),r=new Ph(e);return function iN(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield tb(o,u,!0),v=new Ex(u,m.Hi),b=v.Wu(m.documents),A=v.applyChanges(b,!1);d.resolve(A.snapshot)}catch(m){const v=hy(m,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(o,u,d){return r.apply(this,arguments)})(yield db(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Oh(e,r,n,o))}(this._delegate):"server"===e?.source?function GN(n){n=rn(n,$i);const e=rn(n.firestore,Zn),t=Tr(e),r=new Ph(e);return Zx(t,n._query,{source:"server"}).then(o=>new Oh(e,r,n,o))}(this._delegate):function $N(n){n=rn(n,$i);const e=rn(n.firestore,Zn),t=Tr(e),r=new Ph(e);return nM(n._query),Zx(t,n._query).then(o=>new Oh(e,r,n,o))}(this._delegate),t.then(r=>new MS(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IM(e),r=EM(e,o=>new MS(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return fM(this._delegate,t,r)}withConverter(e){return new ds(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}class aR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new M0(this._firestore,r))})}isEqual(e){return cM(this._delegate,e._delegate)}}class _y extends ds{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xo(this.firestore,e):null}doc(e){try{return new Xo(this.firestore,void 0===e?ub(this._delegate):ub(this._delegate,e))}catch(t){throw cs(t,"doc()","CollectionReference.doc()")}}add(e){return function qN(n,e){const t=rn(n.firestore,Zn),r=ub(n),o=_b(n.converter,e);return yy(t,[pb(yp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xo(this.firestore,t))}isEqual(e){return Vx(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function Ip(n){return rn(n,Gn)}class kS{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new kS(tr.keyField().canonicalString())}isEqual(e){return(e=(0,jt.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JN(){return new IS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ep(e)}static delete(){const e=function QN(){return new C0("deleteField")}();return e._methodName="FieldValue.delete",new Ep(e)}static arrayUnion(...e){const t=function XN(...n){return new EN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ep(t)}static arrayRemove(...e){const t=function eR(...n){return new bN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ep(t)}static increment(e){const t=function tR(n){return new CN("increment",n)}(e);return t._methodName="FieldValue.increment",new Ep(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uR={Firestore:_M,GeoPoint:hb,Timestamp:xn,Blob:A0,Transaction:vM,WriteBatch:wM,DocumentReference:Xo,DocumentSnapshot:x0,Query:ds,QueryDocumentSnapshot:M0,QuerySnapshot:MS,CollectionReference:_y,FieldPath:kS,FieldValue:Ep,setLogLevel:function oR(n){!function Yf(n){tl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function bM(n,e){return function dR(n,e=Eg.z){return new Er.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function NS(n,e){return bM(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function wb(n,e){return NS(n,e).pipe(Pu(void 0),k_(),(0,it.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=o.find(A=>A.doc.ref.isEqual(d.ref)),b=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function CM(n,e,t){return wb(n,t).pipe(xt((r,o)=>function fR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function pR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return RS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return RS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return RS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function GC(n,e=As.y){return n=n??Rf,(0,hr.e)((t,r)=>{let o,u=!0;t.subscribe((0,jn.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,it.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function RS(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function DM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function cR(n){(function lR(n,e){n.INTERNAL.registerComponent(new cc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},uR)))})(n,(e,t)=>new _M(e,t,new sR)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(FA.Z);class TM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=wb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Pu(void 0),k_(),C(([r,o])=>o.length>0||!r),(0,it.U)(([r,o])=>o),Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DM(e);return CM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return NS(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Cr.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Cr.iC)}add(e){return this.ref.add(e)}doc(e){return new SM(this.ref.doc(e),this.afs)}}class SM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=MM(r,t);return new TM(o,u,this.afs)}snapshotChanges(){return function hR(n,e){return bM(n,e).pipe(Pu(void 0),k_(),(0,it.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ln.D)(this.ref.get(e)).pipe(Cr.iC)}}class gR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wb(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),C(t=>t.length>0),Cr.iC):wb(this.query,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DM(e);return CM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return NS(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Cr.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Cr.iC)}}const AM=new c.OlP("angularfire2.enableFirestorePersistence"),xM=new c.OlP("angularfire2.firestore.persistenceSettings"),mR=new c.OlP("angularfire2.firestore.settings"),yR=new c.OlP("angularfire2.firestore.use-emulator");function MM(n,e=(t=>t)){return{query:e(n),ref:n}}let kM=(()=>{class n{constructor(t,r,o,u,d,m,v,b,A,k,V,z,ee,Me,ke,It,St){this.schedulers=v;const kt=(0,Pi.on)(t,m,r),Ye=A;k&&Qw(kt,m,V,ee,Me,ke,z,It),[this.firestore,this.persistenceEnabled$]=(0,Pi.cc)(`${kt.name}.firestore`,"AngularFirestore",kt.name,()=>{const Ge=m.runOutsideAngular(()=>kt.firestore());if(u&&Ge.settings(u),Ye&&Ge.useEmulator(...Ye),o&&!dr(d)){const Nt=()=>{try{return(0,ln.D)(Ge.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(qn){return typeof console<"u"&&console.warn(qn),at(!1)}};return[Ge,m.runOutsideAngular(Nt)]}return[Ge,at(!1)]},[u,Ye,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=MM(o,r),m=this.schedulers.ngZone.run(()=>u);return new TM(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new gR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new SM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pi.Dh),c.LFG(Pi.xv,8),c.LFG(AM,8),c.LFG(mR,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Cr.HU),c.LFG(xM,8),c.LFG(yR,8),c.LFG(zu,8),c.LFG(M_,8),c.LFG(Og,8),c.LFG(Go,8),c.LFG(kf,8),c.LFG(Nf,8),c.LFG($d,8),c.LFG(D_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_R=(()=>{class n{constructor(){Mf.Z.registerVersion("angularfire",Cr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:AM,useValue:!0},{provide:xM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kM]}),n})(),OS=(()=>{class n{constructor(t,r,o,u){this.auth=t,this.db=r,this.router=o,this.route=u,this.redirect=!1,this.userCollection=r.collection("users"),this.isAuthenticated$=t.user.pipe((0,it.U)(d=>!!d)),this.isAuthenticatedWithDelay$=this.isAuthenticated$.pipe(function mA(n,e=Eg.z){const t=function yC(n=0,e,t=Eg.P){let r=-1;return null!=e&&((0,r_.K)(e)?t=e:r=e),new Er.y(o=>{let u=function i_(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let d=0;return t.schedule(function(){o.closed||(o.next(d++),0<=r?this.schedule(void 0,r):o.complete())},u)})}(n,e);return Ew(()=>t)}(1e3)),this.router.events.pipe(C(d=>d instanceof Lo),(0,it.U)(d=>this.route.firstChild),Nn(d=>d?.data??at({}))).subscribe(d=>{this.redirect=d.authOnly??!1})}createUser(t){var r=this;return(0,ye.Z)(function*(){if(!t.email||!t.password)return;const o=yield r.auth.createUserWithEmailAndPassword(t.email,t.password);if(!o.user)throw new Error("User can't be found ");yield r.userCollection.doc(o.user.uid).set({name:t.name,email:t.email,age:t.age,phoneNumber:t.phoneNumber}),yield o.user.updateProfile({displayName:t.name})})()}logout(t){var r=this;return(0,ye.Z)(function*(){t&&t.preventDefault(),yield r.auth.signOut(),r.redirect&&(yield r.router.navigateByUrl("/"))})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zu),c.LFG(kM),c.LFG(pr),c.LFG(Ps))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PS=(()=>{class n{constructor(){this.modals=[]}isModalVisible(t){return Boolean(this.modals.find(r=>r.id===t)?.visible)}toggleModal(t){const r=this.modals.find(o=>o.id===t);r&&(r.visible=!r.visible)}register(t){this.modals.push({id:t,visible:!1})}unRegister(t){this.modals=this.modals.filter(r=>r.id!==t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vR=[[["","heading",""]],"*"],wR=function(n){return{hidden:n}},IR=["[heading]","*"];let ER=(()=>{class n{constructor(t,r){this.modal=t,this.el=r,this.modalID=""}ngOnInit(){document.body.appendChild(this.el.nativeElement)}closeModal(){this.modal.toggleModal(this.modalID)}ngOnDestroy(){document.body.removeChild(this.el.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(PS),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:IR,decls:13,vars:3,consts:[["id","modal",1,"fixed","z-50","inset-0","overflow-y-auto",3,"ngClass"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity",3,"click"],[1,"absolute","inset-0","bg-gray-800","opacity-75"],[1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-secondary","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"py-4","text-left","px-6"],[1,"flex","justify-between","items-center","pb-4"],[1,"modal-close","cursor-pointer","z-50",3,"click"]],template:function(t,r){1&t&&(c.F$t(vR),c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c.NdJ("click",function(){return r.closeModal()}),c._UZ(3,"div",3),c.qZA(),c.TgZ(4,"span",4),c._uU(5,"\u200b"),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.Hsn(9),c.TgZ(10,"div",8),c.NdJ("click",function(){return r.closeModal()}),c._uU(11," \u2715 "),c.qZA()(),c.Hsn(12,1),c.qZA()()()()),2&t&&c.Q6J("ngClass",c.VKq(1,wR,!r.modal.isModalVisible(r.modalID)))},dependencies:[en]}),n})();const bR=["*"];let NM=(()=>{class n{constructor(){this.tabTitle="",this.isActive=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",isActive:"isActive"},ngContentSelectors:bR,decls:2,vars:2,template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA()),2&t&&c.ekj("hidden",!r.isActive)}}),n})();const CR=function(n,e){return{"hover:text-indigo-400":n,"hover:text-white text-white bg-indigo-400":e}};function DR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",2)(1,"a",3),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.selectTab(u))}),c._uU(2),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngClass",c.WLB(2,CR,!t.isActive,t.isActive)),c.xp6(1),c.Oqu(t.tabTitle)}}const TR=["*"];let SR=(()=>{class n{constructor(){this.tabs=new c.n_E}ngAfterContentInit(){const t=this.tabs.filter(r=>r.isActive);(!t||0===t.length)&&this.selectTab(this.tabs.first)}selectTab(t){return this.tabs.forEach(r=>{r.isActive=!1}),t.isActive=!0,!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tabs-container"]],contentQueries:function(t,r,o){if(1&t&&c.Suo(o,NM,4),2&t){let u;c.iGM(u=c.CRH())&&(r.tabs=u)}},ngContentSelectors:TR,decls:3,vars:1,consts:[[1,"flex","flex-wrap","mb-4"],["class","flex-auto text-center",4,"ngFor","ngForOf"],[1,"flex-auto","text-center"],["href","#",1,"block","rounded","py-3","px-4","transition","hover:text-white","text-white","bg-indigo-400",3,"ngClass","click"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"ul",0),c.YNc(1,DR,3,5,"li",1),c.qZA(),c.Hsn(2)),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.tabs))},dependencies:[en,qs]}),n})();const AR=["*"];let RM=(()=>{class n{constructor(){this.color="blue"}get bgColor(){return`bg-${this.color}-400`}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-alert"]],inputs:{color:"color"},ngContentSelectors:AR,decls:2,vars:1,consts:[[1,"text-wite","text-center","font-bold","p-4","mb-4","rounded-md",3,"ngClass"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA()),2&t&&c.Q6J("ngClass",r.bgColor)},dependencies:[en]}),n})(),OM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),bp=(()=>{class n extends OM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ja=new c.OlP("NgValueAccessor"),kR={provide:Ja,useExisting:(0,c.Gpc)(()=>k0),multi:!0},RR=new c.OlP("CompositionEventMode");let k0=(()=>{class n extends OM{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function NR(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(RR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([kR]),c.qOj]}),n})();function Lh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function FM(n){return null!=n&&"number"==typeof n.length}const bi=new c.OlP("NgValidators"),Vh=new c.OlP("NgAsyncValidators"),PR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class js{static min(e){return function LM(n){return e=>{if(Lh(e.value)||Lh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function VM(n){return e=>{if(Lh(e.value)||Lh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return UM(e)}static requiredTrue(e){return function BM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function jM(n){return Lh(n.value)||PR.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function $M(n){return e=>Lh(e.value)||!FM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function HM(n){return e=>FM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return GM(e)}static nullValidator(e){return null}static compose(e){return YM(e)}static composeAsync(e){return QM(e)}}function UM(n){return Lh(n.value)?{required:!0}:null}function GM(n){if(!n)return Ib;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Lh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function Ib(n){return null}function ZM(n){return null!=n}function qM(n){return(0,c.QGY)(n)?(0,ln.D)(n):n}function zM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function WM(n,e){return e.map(t=>t(n))}function KM(n){return n.map(e=>function FR(n){return!n.validate}(e)?e:t=>e.validate(t))}function YM(n){if(!n)return null;const e=n.filter(ZM);return 0==e.length?null:function(t){return zM(WM(t,e))}}function FS(n){return null!=n?YM(KM(n)):null}function QM(n){if(!n)return null;const e=n.filter(ZM);return 0==e.length?null:function(t){return function xR(...n){const e=(0,mi.jO)(n),{args:t,keys:r}=Ia(n),o=new Er.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let v=d,b=d;for(let A=0;A<d;A++){let k=!1;(0,Ms.Xf)(t[A]).subscribe((0,jn.x)(u,V=>{k||(k=!0,b--),m[A]=V},()=>v--,void 0,()=>{(!v||!k)&&(b||u.next(r?ko(r,m):m),u.complete())}))}});return e?o.pipe(ba(e)):o}(WM(t,e).map(qM)).pipe((0,it.U)(zM))}}function LS(n){return null!=n?QM(KM(n)):null}function JM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XM(n){return n._rawValidators}function e1(n){return n._rawAsyncValidators}function VS(n){return n?Array.isArray(n)?n:[n]:[]}function Eb(n,e){return Array.isArray(n)?n.includes(e):n===e}function t1(n,e){const t=VS(e);return VS(n).forEach(o=>{Eb(t,o)||t.push(o)}),t}function n1(n,e){return VS(e).filter(t=>!Eb(n,t))}class r1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hs extends r1{get formDirective(){return null}get path(){return null}}class Uh extends r1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class i1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let US=(()=>{class n extends i1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Uh,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),BS=(()=>{class n extends i1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const N0="VALID",Cb="INVALID",vy="PENDING",R0="DISABLED";function GS(n){return(Db(n)?n.validators:n)||null}function o1(n){return Array.isArray(n)?FS(n):n||null}function ZS(n,e){return(Db(e)?e.asyncValidators:n)||null}function a1(n){return Array.isArray(n)?LS(n):n||null}function Db(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class c1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=o1(this._rawValidators),this._composedAsyncValidatorFn=a1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===N0}get invalid(){return this.status===Cb}get pending(){return this.status==vy}get disabled(){return this.status===R0}get enabled(){return this.status!==R0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=o1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=a1(e)}addValidators(e){this.setValidators(t1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(t1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(n1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(n1(e,this._rawAsyncValidators))}hasValidator(e){return Eb(this._rawValidators,e)}hasAsyncValidator(e){return Eb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=R0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=N0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N0||this.status===vy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?R0:N0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vy,this._hasOwnPendingAsyncValidator=!0;const t=qM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?R0:this.errors?Cb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vy)?vy:this._anyControlsHaveStatus(Cb)?Cb:N0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Db(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Tb extends c1{constructor(e,t,r){super(GS(t),ZS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function l1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function u1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function O0(n,e){qS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function ZR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&d1(n,e)})}(n,e),function zR(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&d1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function GR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ab(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qS(n,e){const t=XM(n);null!==e.validator?n.setValidators(JM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=e1(n);null!==e.asyncValidator?n.setAsyncValidators(JM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();xb(e._rawValidators,o),xb(e._rawAsyncValidators,o)}function Mb(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=XM(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=e1(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return xb(e._rawValidators,r),xb(e._rawAsyncValidators,r),t}function d1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function h1(n,e){qS(n,e)}function zS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function p1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function WS(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===k0?t=u:function YR(n){return Object.getPrototypeOf(n.constructor)===bp}(u)?r=u:o=u}),o||r||t||null}const JR={provide:hs,useExisting:(0,c.Gpc)(()=>kb)},P0=(()=>Promise.resolve())();let kb=(()=>{class n extends hs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Tb({},FS(t),LS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){P0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),O0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){P0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){P0.then(()=>{const r=this._findContainer(t.path),o=new Tb({});h1(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){P0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){P0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,p1(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(Vh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([JR]),c.qOj]}),n})();function g1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function m1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Wc=class extends c1{constructor(e=null,t,r){super(GS(t),ZS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Db(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=m1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){g1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){g1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){m1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},tO={provide:Uh,useExisting:(0,c.Gpc)(()=>KS)},v1=(()=>Promise.resolve())();let KS=(()=>{class n extends Uh{constructor(t,r,o,u,d){super(),this._changeDetectorRef=d,this.control=new Wc,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=WS(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),zS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){O0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){v1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,c.D6c)(r);v1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Sb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hs,9),c.Y36(bi,10),c.Y36(Vh,10),c.Y36(Ja,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([tO]),c.qOj,c.TTD]}),n})(),YS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),I1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const QS=new c.OlP("NgModelWithFormControlWarning"),oO={provide:Uh,useExisting:(0,c.Gpc)(()=>JS)};let JS=(()=>{class n extends Uh{constructor(t,r,o,u){super(),this._ngModelWarningConfig=u,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=WS(0,o)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Ab(r,this,!1),O0(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}zS(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ab(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(Vh,10),c.Y36(Ja,10),c.Y36(QS,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([oO]),c.qOj,c.TTD]}),n})();const aO={provide:hs,useExisting:(0,c.Gpc)(()=>Nb)};let Nb=(()=>{class n extends hs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return O0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ab(t.control||null,t,!1),function QR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,p1(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Ab(r||null,t),(n=>n instanceof Wc)(o)&&(O0(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);h1(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function WR(n,e){return Mb(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qS(this.form,this),this._oldForm&&Mb(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(Vh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([aO]),c.qOj,c.TTD]}),n})(),Cp=(()=>{class n{constructor(){this._validator=Ib}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ib,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const vO={provide:bi,useExisting:(0,c.Gpc)(()=>Rb),multi:!0};let Rb=(()=>{class n extends Cp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>UM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([vO]),c.qOj]}),n})();const CO={provide:bi,useExisting:(0,c.Gpc)(()=>rA),multi:!0};let rA=(()=>{class n extends Cp{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>GM(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([CO]),c.qOj]}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[I1]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[F1]}),n})(),L1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:QS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[F1]}),n})();function SO(n,e){if(1&n&&(c.TgZ(0,"app-alert",11),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(1),c.Oqu(t.alertMsg)}}function AO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," Email is invalid "),c.qZA())}function xO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," Password is invalid "),c.qZA())}let MO=(()=>{class n{constructor(t){this.auth=t,this.credentials={email:"",password:""},this.showAlert=!1,this.alertMsg="Please Wait! Your account is being created.",this.alertColor="blue",this.inSubmission=!1}login(){var t=this;return(0,ye.Z)(function*(){t.showAlert=!0,t.alertMsg="Please Wait! Your account is being created.",t.alertColor="blue",t.inSubmission=!0;try{yield t.auth.signInWithEmailAndPassword(t.credentials.email,t.credentials.password)}catch(r){return t.alertMsg="An unexpected error occurred. Please try again later",t.alertColor="red",t.inSubmission=!1,void console.log(r)}t.alertMsg="Success! You are now logged in.",t.alertColor="green"})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:6,consts:[[3,"color",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","email","name","email","placeholder","Enter Email","required","","pattern","[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-red-400",4,"ngIf"],["type","password","name","password","placeholder","Password","required","",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,r){if(1&t&&(c.YNc(0,SO,2,2,"app-alert",0),c.TgZ(1,"form",1,2),c.NdJ("ngSubmit",function(){return r.login()}),c.TgZ(3,"div",3)(4,"label",4),c._uU(5,"Email"),c.qZA(),c.TgZ(6,"input",5,6),c.NdJ("ngModelChange",function(u){return r.credentials.email=u}),c.qZA(),c.YNc(8,AO,2,0,"p",7),c.qZA(),c.TgZ(9,"div",3)(10,"label",4),c._uU(11,"Password"),c.qZA(),c.TgZ(12,"input",8,9),c.NdJ("ngModelChange",function(u){return r.credentials.password=u}),c.qZA(),c.YNc(14,xO,2,0,"p",7),c.qZA(),c.TgZ(15,"button",10),c._uU(16," Submit "),c.qZA()()),2&t){const o=c.MAs(2),u=c.MAs(7),d=c.MAs(13);c.Q6J("ngIf",r.showAlert),c.xp6(6),c.Q6J("ngModel",r.credentials.email),c.xp6(2),c.Q6J("ngIf",u.errors&&u.dirty&&u.touched),c.xp6(4),c.Q6J("ngModel",r.credentials.password),c.xp6(2),c.Q6J("ngIf",d.errors&&d.dirty&&d.touched),c.xp6(1),c.Q6J("disabled",o.invalid||r.inSubmission)}},dependencies:[Cn,RM,YS,k0,US,BS,Rb,rA,KS,kb]}),n})();class kO{static match(e,t){return r=>{const o=r.get(e),u=r.get(t);if(!o||!u)return console.log("first"),{controlNotFound:!1};const d=o.value===u.value?null:{noMatch:!0};return u.setErrors(d),d}}}let NO=(()=>{class n{constructor(t){this.auth=t,this.validate=r=>this.auth.fetchSignInMethodsForEmail(r.value).then(o=>o.length?{emailTaken:!0}:null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ob=new c.OlP("ngx-mask config"),V1=new c.OlP("new ngx-mask config"),U1=new c.OlP("initial ngx-mask config"),RO={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new c.vpe,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},OO=["Hh:m0:s0","Hh:m0","m0:s0"],PO=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let B1=(()=>{class n{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(r,o,u,d)=>{let m=[],v="";if(Array.isArray(u)){const z=new RegExp(u.map(ee=>"[\\^$.|?*+()".indexOf(ee)>=0?`\\${ee}`:ee).join("|"));m=r.split(z),v=r.match(z)?.[0]??""}else m=r.split(u),v=u;const b=m.length>1?`${v}${m[1]}`:"";let A=m[0]??"";const k=this.separatorLimit.replace(/\s/g,"");k&&+k&&(A="-"===A[0]?`-${A.slice(1,A.length).slice(0,k.length)}`:A.slice(0,k.length));const V=/(\d+)(\d{3})/;for(;o&&V.test(A);)A=A.replace(V,"$1"+o+"$2");return void 0===d?A+b:0===d?A:A+b.substring(0,d+1)},this.percentage=r=>Number(r)>=0&&Number(r)<=100,this.getPrecision=r=>{const o=r.split(".");return o.length>1?Number(o[o.length-1]):1/0},this.checkAndRemoveSuffix=r=>{for(let o=this.suffix?.length-1;o>=0;o--){const u=this.suffix.substring(o,this.suffix?.length);if(r.includes(u)&&o!==this.suffix?.length-1&&(o-1<0||!r.includes(this.suffix.substring(o-1,this.suffix?.length))))return r.replace(u,"")}return r},this.checkInputPrecision=(r,o,u)=>{if(o<1/0){if(Array.isArray(u)){const b=u.find(A=>A!==this.thousandSeparator);u=b||u[0]}const d=new RegExp(this._charToRegExpExpression(u)+`\\d{${o}}.*$`),v=(r.match(d)??[])[0]?.length??0;v-1>o&&(r=r.substring(0,r.length-(v-1-o))),0===o&&this._compareOrIncludes(r[r.length-1],u,this.thousandSeparator)&&(r=r.substring(0,r.length-1))}return r},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,r){const[o,u]=r;return this.customPattern=u,this.applyMask(t,o)}applyMask(t,r,o=0,u=!1,d=!1,m=(()=>{})){if(!r||"string"!=typeof t)return"";let v=0,b="",A=!1,k=!1,V=1,z=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&t?.length>0&&(t=this.checkAndRemoveSuffix(t));const ee=t.toString().split("");if("IP"===r){const Ye=t.split(".");this.ipError=this._validIP(Ye),r="099.099.099.099"}const Me=[];for(let Ye=0;Ye<t.length;Ye++)t[Ye]?.match("\\d")&&Me.push(t[Ye]??"");if("CPF_CNPJ"===r&&(this.cpfCnpjError=11!==Me.length&&14!==Me.length,r=Me.length>11?"00.000.000/0000-00":"000.000.000-00"),r.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const Ye=this.getPrecision(r);t=this.checkInputPrecision(t,Ye,this.decimalMarker)}t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))&&(t=`${t.substring(0,t.indexOf(".")-1)}${t.substring(t.indexOf("."),t.length)}`),b=this.percentage(t)?t:t.substring(0,t.length-1)}else if(r.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&t[1]!==this.thousandSeparator&&!this._compareOrIncludes(t[1],this.decimalMarker,this.thousandSeparator)&&!d?t.slice(0,t.length-1):t,d&&(t=this._compareOrIncludes(t[t.length-1],this.decimalMarker,this.thousandSeparator)?t.slice(0,t.length-1):t);const Ye=this._charToRegExpExpression(this.thousandSeparator);let Ge='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(Ye,"");if(Array.isArray(this.decimalMarker))for(const Tp of this.decimalMarker)Ge=Ge.replace(this._charToRegExpExpression(Tp),"");else Ge=Ge.replace(this._charToRegExpExpression(this.decimalMarker),"");const Nt=new RegExp("["+Ge+"]");(t.match(Nt)||1===t.length&&this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))&&(t=t.substring(0,t.length-1));const qn=this.getPrecision(r),Kc=(t=this.checkInputPrecision(t,qn,this.decimalMarker)).replace(new RegExp(Ye,"g"),"");b=this._formatWithSeparators(Kc,this.thousandSeparator,this.decimalMarker,qn);const sA=b.indexOf(",")-t.indexOf(","),Dp=b.length-t.length;if(Dp>0&&","!==b[o]){k=!0;let Tp=0;do{this._shift.add(o+Tp),Tp++}while(Tp<Dp)}else 0!==sA&&o>0&&!(b.indexOf(",")>=o&&o>3)||!(b.indexOf(".")>=o&&o>3)&&Dp<=0?(this._shift.clear(),k=!0,V=Dp,this._shift.add(o+=Dp)):this._shift.clear()}else for(let Ye=0,Ge=ee[0];Ye<ee.length&&v!==r.length;Ye++,Ge=ee[Ye]??"")if(this._checkSymbolMask(Ge,r[v]??"")&&"?"===r[v+1])b+=Ge,v+=2;else if("*"===r[v+1]&&A&&this._checkSymbolMask(Ge,r[v+2]??""))b+=Ge,v+=3,A=!1;else if(this._checkSymbolMask(Ge,r[v]??"")&&"*"===r[v+1])b+=Ge,A=!0;else if("?"===r[v+1]&&this._checkSymbolMask(Ge,r[v+2]??""))b+=Ge,v+=3;else if(this._checkSymbolMask(Ge,r[v]??"")){if("H"===r[v]&&Number(Ge)>2){v+=1,this._shiftStep(r,v,ee.length),Ye--,this.leadZeroDateTime&&(b+="0");continue}if("h"===r[v]&&"2"===b&&Number(Ge)>3){v+=1,Ye--;continue}if("m"===r[v]&&Number(Ge)>5){v+=1,this._shiftStep(r,v,ee.length),Ye--,this.leadZeroDateTime&&(b+="0");continue}if("s"===r[v]&&Number(Ge)>5){v+=1,this._shiftStep(r,v,ee.length),Ye--,this.leadZeroDateTime&&(b+="0");continue}const Nt=31;if("d"===r[v]&&(Number(Ge)>3&&this.leadZeroDateTime||Number(t.slice(v,v+2))>Nt||"/"===t[v+1])){v+=1,this._shiftStep(r,v,ee.length),Ye--,this.leadZeroDateTime&&(b+="0");continue}if("M"===r[v]){const Kc=0===v&&(Number(Ge)>2||Number(t.slice(v,v+2))>12||"/"===t[v+1]),sA=t.slice(v-3,v-1).includes("/")&&("/"===t[v-2]&&Number(t.slice(v-1,v+1))>12&&"/"!==t[v]||"/"===t[v]||"/"===t[v-3]&&Number(t.slice(v-2,v))>12&&"/"!==t[v-1]||"/"===t[v-1]),Dp=Number(t.slice(v-3,v-1))<=Nt&&!t.slice(v-3,v-1).includes("/")&&"/"===t[v-1]&&(Number(t.slice(v,v+2))>12||"/"===t[v+1]),Tp=Number(t.slice(v-3,v-1))>Nt&&!t.slice(v-3,v-1).includes("/")&&!t.slice(v-2,v).includes("/")&&Number(t.slice(v-2,v))>12,cP=Number(t.slice(v-3,v-1))<=Nt&&!t.slice(v-3,v-1).includes("/")&&"/"!==t[v-1]&&Number(t.slice(v-1,v+1))>12;if(Number(Ge)>1&&this.leadZeroDateTime||Kc||sA||Dp||Tp||cP){v+=1,this._shiftStep(r,v,ee.length),Ye--,this.leadZeroDateTime&&(b+="0");continue}}b+=Ge,v++}else" "===Ge&&" "===r[v]?(b+=Ge,v++):-1!==this.maskSpecialCharacters.indexOf(r[v]??"")?(b+=r[v],v++,this._shiftStep(r,v,ee.length),Ye--):this.maskSpecialCharacters.indexOf(Ge)>-1&&this.maskAvailablePatterns[r[v]??""]&&this.maskAvailablePatterns[r[v]??""]?.optional?(!!ee[v]&&"099.099.099.099"!==r&&"000.000.000-00"!==r&&"00.000.000/0000-00"!==r&&!r.match(/^9+\.0+$/)&&(b+=ee[v]),v++,Ye--):"*"===this.maskExpression[v+1]&&this._findSpecialChar(this.maskExpression[v+2]??"")&&this._findSpecialChar(Ge)===this.maskExpression[v+2]&&A||"?"===this.maskExpression[v+1]&&this._findSpecialChar(this.maskExpression[v+2]??"")&&this._findSpecialChar(Ge)===this.maskExpression[v+2]&&A?(v+=3,b+=Ge):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Ge)<0&&Ge!==this.placeHolderCharacter&&(z=!0);b.length+1===r.length&&-1!==this.maskSpecialCharacters.indexOf(r[r.length-1]??"")&&(b+=r[r.length-1]);let ke=o+1;for(;this._shift.has(ke);)V++,ke++;let It=u&&!r.startsWith("separator")?v:this._shift.has(o)?V:0;z&&It--,m(It,k),V<0&&this._shift.clear();let St=!1;d&&(St=ee.every(Ye=>this.maskSpecialCharacters.includes(Ye)));let kt=`${this.prefix}${St?"":b}${this.suffix}`;return 0===b.length&&(kt=`${this.prefix}${b}`),kt}_findSpecialChar(t){return this.maskSpecialCharacters.find(r=>r===t)}_checkSymbolMask(t,r){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[r]?.pattern&&this.maskAvailablePatterns[r]?.pattern.test(t))??!1}_stripToDecimal(t){return t.split("").filter((r,o)=>{const u="string"==typeof this.decimalMarker?r===this.decimalMarker:this.decimalMarker.includes(r);return r.match("^-?\\d")||r===this.thousandSeparator||u||"-"===r&&0===o&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(t){return t&&(" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t,r,o){const u=/[*?]/g.test(t.slice(0,r))?o:r;this._shift.add(u+this.prefix.length||0)}_compareOrIncludes(t,r,o){return Array.isArray(r)?r.filter(u=>u!==o).includes(t):t===r}_validIP(t){return!(4===t.length&&!t.some((r,o)=>t.length!==o+1?""===r||Number(r)>255:""===r||Number(r.substring(0,3))>255))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ob))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),j1=(()=>{class n extends B1{constructor(t,r,o,u){super(r),this.document=t,this._config=r,this._elementRef=o,this._renderer=u,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=d=>{}}applyMask(t,r,o=0,u=!1,d=!1,m=(()=>{})){if(!r)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const v=t&&"number"==typeof this.selStart?t[this.selStart]??"":"";let b="";if(void 0!==this.hiddenInput&&!this.writingValue){let z=this.actualValue.split("");""!==t&&z.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>z.length?z.splice(this.selStart,0,v):t.length<z.length&&(z.length-t.length==1?z.splice(this.selStart-1,1):z.splice(this.selStart,this.selEnd-this.selStart))):z=[],this.showMaskTyped&&(t=this.removeMask(t)),b=this.actualValue.length&&z.length<=t.length?this.shiftTypedSymbols(z.join("")):t}this.showMaskTyped&&(t=this.removeMask(t)),b=Boolean(b)&&b.length?b:t;const A=super.applyMask(b,r,o,u,d,m);if(this.actualValue=this.getActualValue(A),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(z=>!this._compareOrIncludes(z,this.decimalMarker,this.thousandSeparator))),this.formControlResult(A),!this.showMaskTyped)return this.hiddenInput&&A&&A.length?this.hideInput(A,this.maskExpression):A;const k=A.length,V=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const z=this._numberSkipedSymbols(A);return A+V.slice(k+z)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?A+V:A+V.slice(k)}_numberSkipedSymbols(t){const r=/(^|\D)(\d\D)/g;let o=r.exec(t),u=0;for(;null!=o;)u+=1,o=r.exec(t);return u}applyValueChanges(t,r,o,u=(()=>{})){const d=this._elementRef.nativeElement;d.value=this.applyMask(d.value,this.maskExpression,t,r,o,u),d!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(t,r){return t.split("").map((o,u)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[r[u]??""]&&this.maskAvailablePatterns[r[u]??""]?.symbol?this.maskAvailablePatterns[r[u]??""]?.symbol:o).join("")}getActualValue(t){const r=t.split("").filter((o,u)=>{const d=this.maskExpression[u]??"";return this._checkSymbolMask(o,d)||this.maskSpecialCharacters.includes(d)&&o===d});return r.join("")===t?r.join(""):t}shiftTypedSymbols(t){let r="";return(t&&t.split("").map((u,d)=>{if(this.maskSpecialCharacters.includes(t[d+1]??"")&&t[d+1]!==this.maskExpression[d+1])return r=u,t[d+1];if(r.length){const m=r;return r="",m}return u})||[]).join("")}numberToString(t){return t||0===t?Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(t)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if("IP"===this.maskExpression)return this._checkForIp(t);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(t)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const t=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(t.value,this.maskExpression))}set formElementProperty([t,r]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,t,r))}checkSpecialCharAmount(t){return t.split("").filter(o=>this._findSpecialChar(o)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const r=[];for(let o=0;o<t.length;o++){const u=t[o]??"";!u||u.match("\\d")&&r.push(u)}return r.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>3&&r.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>6&&r.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){const r=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,o=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===t)return r;const u=[];for(let d=0;d<t.length;d++){const m=t[d]??"";!m||m.match("\\d")&&u.push(m)}return u.length<=3?r.slice(u.length,r.length):u.length>3&&u.length<=6?r.slice(u.length+1,r.length):u.length>6&&u.length<=9?r.slice(u.length+2,r.length):u.length>9&&u.length<11?r.slice(u.length+3,r.length):11===u.length?"":12===u.length?o.slice(17===t.length?16:15,o.length):u.length>12&&u.length<=14?o.slice(u.length+4,o.length):""}_getActiveElement(t=this.document){const r=t?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):t.activeElement}formControlResult(t){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(t)):this._removeSuffix(t))}_toNumber(t){if(!this.isNumberValue||""===t)return t;const r=Number(t);return Number.isNaN(r)?t:r}_removeMask(t,r){return t&&t.replace(this._regExpForRemove(r),"")}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters)}_regExpForRemove(t){return new RegExp(t.map(r=>`\\${r}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){const r=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(r),".")}_checkSymbols(t){if(""===t)return t;const r=this._retrieveSeparatorPrecision(this.maskExpression),o=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(t));return this.isNumberValue?r?t===this.decimalMarker?null:this._checkPrecision(this.maskExpression,o):Number(o):o}_retrieveSeparatorPrecision(t){const r=t.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(t,r){return t.indexOf("2")>0?Number(r).toFixed(2):Number(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(Ob),c.LFG(c.SBq),c.LFG(c.Qsj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FO=(()=>{class n{constructor(t,r,o){this.document=t,this._maskService=r,this._config=o,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new c.vpe,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=u=>{},this.onTouch=()=>{}}ngOnChanges(t){const{maskExpression:r,specialCharacters:o,patterns:u,prefix:d,suffix:m,thousandSeparator:v,decimalMarker:b,dropSpecialCharacters:A,hiddenInput:k,showMaskTyped:V,placeHolderCharacter:z,shownMaskExpression:ee,showTemplate:Me,clearIfNotMatch:ke,validation:It,separatorLimit:St,allowNegativeNumbers:kt,leadZeroDateTime:Ye,triggerOnMaskChange:Ge}=t;if(r&&(r.currentValue!==r.previousValue&&!r.firstChange&&(this._maskService.maskChanged=!0),r.currentValue&&r.currentValue.split("||").length>1?(this._maskExpressionArray=r.currentValue.split("||").sort((Nt,qn)=>Nt.length-qn.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=r.currentValue||"",this._maskService.maskExpression=this._maskValue)),o){if(!o.currentValue||!Array.isArray(o.currentValue))return;this._maskService.maskSpecialCharacters=o.currentValue||[]}u&&u.currentValue&&(this._maskService.maskAvailablePatterns=u.currentValue),d&&(this._maskService.prefix=d.currentValue),m&&(this._maskService.suffix=m.currentValue),v&&(this._maskService.thousandSeparator=v.currentValue),b&&(this._maskService.decimalMarker=b.currentValue),A&&(this._maskService.dropSpecialCharacters=A.currentValue),k&&(this._maskService.hiddenInput=k.currentValue),V&&(this._maskService.showMaskTyped=V.currentValue),z&&(this._maskService.placeHolderCharacter=z.currentValue),ee&&(this._maskService.shownMaskExpression=ee.currentValue),Me&&(this._maskService.showTemplate=Me.currentValue),ke&&(this._maskService.clearIfNotMatch=ke.currentValue),It&&(this._maskService.validation=It.currentValue),St&&(this._maskService.separatorLimit=St.currentValue),kt&&(this._maskService.allowNegativeNumbers=kt.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(Nt=>"-"!==Nt))),Ye&&(this._maskService.leadZeroDateTime=Ye.currentValue),Ge&&(this._maskService.triggerOnMaskChange=Ge.currentValue),this._applyMask()}validate({value:t}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(t);if(this._maskService.cpfCnpjError)return this._createValidationError(t);if(this._maskValue.startsWith("separator")||PO.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(OO.includes(this._maskValue))return this._validateTime(t);if(t&&t.toString().length>=1){let r=0;for(const o in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[o]?.optional&&(this._maskValue.indexOf(o)!==this._maskValue.lastIndexOf(o)?r+=this._maskValue.split("").filter(d=>d===o).join("").length:-1!==this._maskValue.indexOf(o)&&r++,-1!==this._maskValue.indexOf(o)&&t.toString().length>=this._maskValue.indexOf(o)||r===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&t.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&t.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&t.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(t);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const o=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-r:this._maskValue.length-r;if(t.toString().length<o)return this._createValidationError(t)}}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(t){(""===t||null==t)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(t){const r=t.target;if(this._inputValue=r.value,this._setMask(),!this._maskValue)return void this.onChange(r.value);const o=1===r.selectionStart?r.selectionStart+this._maskService.prefix.length:r.selectionStart;let u=0,d=!1;if(this._maskService.applyValueChanges(o,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(v,b)=>{this._justPasted=!1,u=v,d=b}),this._getActiveElement()!==r)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let m=this._position?this._inputValue.length+o+u:o+("Backspace"!==this._code||d?u:0);m>this._getActualInputLength()&&(m=this._getActualInputLength()),m<0&&(m=0),r.setSelectionRange(m,m),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(t){if(!this._maskValue)return;const r=t.target;null!==r&&null!==r.selectionStart&&r.selectionStart===r.selectionEnd&&r.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),r.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===r.value?(r.focus(),r.setSelectionRange(0,0)):r.selectionStart>this._maskService.actualValue.length&&r.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const d=r&&(r.value&&r.value!==this._maskService.prefix?r.value:this._maskService.prefix+this._maskService.maskIsShown);r&&r.value!==d&&(r.value=d),r&&(r.selectionStart||r.selectionEnd)<=this._maskService.prefix.length?r.selectionStart=this._maskService.prefix.length:r&&r.selectionEnd>this._getActualInputLength()&&(r.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue)return;this._code=t.code?t.code:t.key;const r=t.target;if(this._inputValue=r.value,this._setMask(),38===t.keyCode&&t.preventDefault(),37===t.keyCode||8===t.keyCode||46===t.keyCode){if(8===t.keyCode&&0===r.value.length&&(r.selectionStart=r.selectionEnd),8===t.keyCode&&0!==r.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&r.selectionStart<=this.prefix.length)r.setSelectionRange(this.prefix.length,r.selectionEnd);else if(this._inputValue.length!==r.selectionStart&&1!==r.selectionStart)for(;this.specialCharacters.includes((this._inputValue[r.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&r.selectionStart>this.prefix.length||0===this.prefix.length);)r.setSelectionRange(r.selectionStart-1,r.selectionEnd);this.checkSelectionOnDeletion(r),this._maskService.prefix.length&&r.selectionStart<=this._maskService.prefix.length&&r.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();const o=r.selectionStart;8===t.keyCode&&!r.readOnly&&0===o&&r.selectionEnd===r.value.length&&0!==r.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<r.selectionStart?r.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===t.keyCode&&t.ctrlKey||65===t.keyCode&&t.metaKey)&&(r.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=r.selectionStart,this._maskService.selEnd=r.selectionEnd}writeValue(t){var r=this;return(0,ye.Z)(function*(){"object"==typeof t&&null!==t&&"value"in t&&("disable"in t&&r.setDisabledState(Boolean(t.disable)),t=t.value),("number"==typeof t||r._maskValue.startsWith("separator"))&&(t=r._maskService.numberToString(t),Array.isArray(r.decimalMarker)||(t="."!==r.decimalMarker?t.replace(".",r.decimalMarker):t),r._maskService.isNumberValue=!0),"string"!=typeof t&&(t=""),r._inputValue=t,r._setMask(),t&&r._maskService.maskExpression||r._maskService.maskExpression&&(r._maskService.prefix||r._maskService.showMaskTyped)?(r._maskService.writingValue=!0,r._maskService.formElementProperty=["value",r._maskService.applyMask(t,r._maskService.maskExpression)],r._maskService.writingValue=!1):r._maskService.formElementProperty=["value",t],r._inputValue=t})()}registerOnChange(t){this._maskService.onChange=this.onChange=t}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){const r=t?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):t.activeElement}checkSelectionOnDeletion(t){t.selectionStart=Math.min(Math.max(this.prefix.length,t.selectionStart),this._inputValue.length-this.suffix.length),t.selectionEnd=Math.min(Math.max(this.prefix.length,t.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((r,o,u)=>{if(this._start="{"===o?u:this._start,"}"!==o)return this._maskService._findSpecialChar(o)?r+o:r;this._end=u;const d=Number(t.slice(this._start+1,this._end));return r+new Array(d+1).join(t[this._start-1])},"")||t}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(t){const r=this._maskValue.split("").filter(o=>":"!==o).length;return t&&(0==+(t[t.length-1]??-1)&&t.length<r||t.length<=r-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue,actualValue:t}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(t=>{const r=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(t)?.length;if(this._inputValue&&r)return this._maskValue=t,this.maskExpression=t,this._maskService.maskExpression=t,r;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ue),c.Y36(j1),c.Y36(Ob))},n.\u0275dir=c.lG2({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,r){1&t&&c.NdJ("paste",function(){return r.onPaste()})("ngModelChange",function(u){return r.onModelChange(u)})("input",function(u){return r.onInput(u)})("blur",function(){return r.onBlur()})("click",function(u){return r.onClick(u)})("keydown",function(u){return r.onKeyDown(u)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[c._Bn([{provide:Ja,useExisting:(0,c.Gpc)(()=>n),multi:!0},{provide:bi,useExisting:(0,c.Gpc)(()=>n),multi:!0},j1]),c.TTD]}),n})();function LO(n,e){return e instanceof Function?{...n,...e()}:{...n,...e}}let VO=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:V1,useValue:t},{provide:U1,useValue:RO},{provide:Ob,useFactory:LO,deps:[U1,V1]},B1]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const $1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Field is required "),c.qZA())}function BO(n,e){if(1&n&&(c.TgZ(0,"p",3),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.AsE(" The value you inputted is ",null==t.control.errors?null:t.control.errors.minlength.actualLength," characters. It must be at least ",null==t.control.errors?null:t.control.errors.minlength.requiredLength," characters long. ")}}function jO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," You must enter a valid email. "),c.qZA())}function $O(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"Value too low"),c.qZA())}function HO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"Value too high"),c.qZA())}function GO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"Email taken"),c.qZA())}function ZO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Password do not match. "),c.qZA())}function qO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Password must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number, has at least 8 characters and an contain special characters "),c.qZA())}function zO(n,e){if(1&n&&(c.ynx(0),c.YNc(1,UO,2,0,"p",2),c.YNc(2,BO,2,2,"p",2),c.YNc(3,jO,2,0,"p",2),c.YNc(4,$O,2,0,"p",2),c.YNc(5,HO,2,0,"p",2),c.YNc(6,GO,2,0,"p",2),c.YNc(7,ZO,2,0,"p",2),c.YNc(8,qO,2,0,"p",2),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.required),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.minlength),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.email),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.min),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.max),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.emailTaken),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.noMatch),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.pattern)}}$1.KeyboardEvent||($1.KeyboardEvent=function(n,e){});let WO=(()=>{class n{constructor(){this.control=new Wc,this.type="text",this.placeholder="",this.format=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder",format:"format"},decls:2,vars:6,consts:[[1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"type","formControl","placeholder","mask","dropSpecialCharacters"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(t,r){1&t&&(c._UZ(0,"input",0),c.YNc(1,zO,9,8,"ng-container",1)),2&t&&(c.Q6J("type",r.type)("formControl",r.control)("placeholder",r.placeholder)("mask",r.format)("dropSpecialCharacters",!1),c.xp6(1),c.Q6J("ngIf",r.control.touched&&r.control.dirty))},dependencies:[Cn,k0,US,JS,FO]}),n})();function KO(n,e){if(1&n&&(c.TgZ(0,"app-alert",11),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(1),c.Oqu(t.alertMsg)}}let YO=(()=>{class n{constructor(t,r){this.auth=t,this.emailTaken=r,this.name=new Wc("",[js.required,js.minLength(3)]),this.email=new Wc("",[js.email,js.required],[this.emailTaken.validate]),this.age=new Wc("",[js.required,js.min(18),js.max(120)]),this.password=new Wc("",[js.required,js.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]),this.confirmPassword=new Wc("",[js.required,js.pattern("")]),this.phoneNumber=new Wc("",[js.required,js.minLength(14),js.maxLength(14)]),this.registerForm=new Tb({name:this.name,email:this.email,age:this.age,password:this.password,confirmPassword:this.confirmPassword,phoneNumber:this.phoneNumber},[kO.match("password","confirmPassword")]),this.showAlert=!1,this.alertMsg="Please Wait! Your account is being created.",this.alertColor="blue",this.inSubmission=!1}register(){var t=this;return(0,ye.Z)(function*(){t.showAlert=!0,t.alertMsg="Please Wait! Your account is being created.",t.alertColor="blue",t.inSubmission=!0;try{yield t.auth.createUser(t.registerForm.value)}catch(r){return console.log(r),t.alertMsg="An unexpected error occurred. Please try again later",t.alertColor="red",void(t.inSubmission=!1)}t.alertMsg="Success! You are now registered.",t.alertColor="green"})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(OS),c.Y36(NO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:28,vars:9,consts:[[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","text","placeholder","Enter Name",3,"control"],["type","email","placeholder","Enter Email",3,"control"],["type","number","placeholder","Enter Age",3,"control"],["type","password","placeholder","Enter Password",3,"control"],["type","password","placeholder","Confirm Password",3,"control"],["type","text","placeholder","Enter Phone Number","format","(000)000-00-00",3,"control"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"]],template:function(t,r){1&t&&(c.YNc(0,KO,2,2,"app-alert",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return r.register()}),c.TgZ(2,"div",2)(3,"label",3),c._uU(4,"Name"),c.qZA(),c._UZ(5,"app-input",4),c.qZA(),c.TgZ(6,"div",2)(7,"label",3),c._uU(8,"Email"),c.qZA(),c._UZ(9,"app-input",5),c.qZA(),c.TgZ(10,"div",2)(11,"label",3),c._uU(12,"Age"),c.qZA(),c._UZ(13,"app-input",6),c.qZA(),c.TgZ(14,"div",2)(15,"label",3),c._uU(16,"Password"),c.qZA(),c._UZ(17,"app-input",7),c.qZA(),c.TgZ(18,"div",2)(19,"label",3),c._uU(20,"Confirm Password"),c.qZA(),c._UZ(21,"app-input",8),c.qZA(),c.TgZ(22,"div",2)(23,"label",3),c._uU(24,"Phone Number"),c.qZA(),c._UZ(25,"app-input",9),c.qZA(),c.TgZ(26,"button",10),c._uU(27," Submit "),c.qZA()()),2&t&&(c.Q6J("ngIf",r.showAlert),c.xp6(1),c.Q6J("formGroup",r.registerForm),c.xp6(4),c.Q6J("control",r.name),c.xp6(4),c.Q6J("control",r.email),c.xp6(4),c.Q6J("control",r.age),c.xp6(4),c.Q6J("control",r.password),c.xp6(4),c.Q6J("control",r.confirmPassword),c.xp6(4),c.Q6J("control",r.phoneNumber),c.xp6(1),c.Q6J("disabled",r.registerForm.invalid||r.inSubmission))},dependencies:[Cn,WO,RM,YS,BS,Nb]}),n})(),QO=(()=>{class n{constructor(t){this.modal=t}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unRegister("auth")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(PS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-auth-modal"]],decls:8,vars:0,consts:[["modalID","auth"],["heading","",1,"text-2xl","font-bold"],["tabTitle","Login"],["tabTitle","Register"]],template:function(t,r){1&t&&(c.TgZ(0,"app-modal",0)(1,"p",1),c._uU(2,"Your Account"),c.qZA(),c.TgZ(3,"app-tabs-container")(4,"app-tab",2),c._UZ(5,"app-login"),c.qZA(),c.TgZ(6,"app-tab",3),c._UZ(7,"app-register"),c.qZA()()())},dependencies:[ER,SR,NM,MO,YO]}),n})();function JO(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li")(1,"a",14),c.NdJ("click",function(o){c.CHM(t);const u=c.oxw();return c.KtG(u.openModal(o))}),c._uU(2,"Login / Register"),c.qZA()()}}const XO=function(){return{exact:!0}},eP=function(){return{sort:"1"}};function tP(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li")(1,"a",15),c._uU(2,"Manage"),c.qZA()(),c.TgZ(3,"li")(4,"a",16),c._uU(5,"Upload"),c.qZA()(),c.TgZ(6,"li")(7,"a",14),c.NdJ("click",function(o){c.CHM(t);const u=c.oxw();return c.KtG(u.auth.logout(o))}),c._uU(8,"Logout"),c.qZA()()}2&n&&(c.xp6(1),c.Q6J("routerLinkActiveOptions",c.DdM(2,XO))("queryParams",c.DdM(3,eP)))}let nP=(()=>{class n{constructor(t,r){this.modal=t,this.auth=r}ngOnInit(){}openModal(t){t.preventDefault(),this.modal.toggleModal("auth")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(PS),c.Y36(OS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav"]],decls:24,vars:4,consts:[["id","header",1,"bg-secondary"],[1,"container","flex","items-center","justify-start","px-4","py-8","mx-auto"],["routerLink","/",1,"mr-4","text-3xl","font-bold","text-indigo-400","uppercase"],[1,"flex","items-center","flex-grow"],[1,"flex","flex-row","mt-1"],[4,"ngIf","ngIfElse"],["authLinks",""],["routerLink","about","routerLinkActive","text-red-400",1,"px-2"],[1,"flex","flex-row","ml-auto"],["href","#"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA1CAMAAACA7r40AAAA/FBMVEWyIjNPN2Y8O27///8/PnBOTXxycpY9PG9RUX5HR3dIR3dLSnlPTny4uMpWVYFFRHVwb5VlZIx7e52DgqOIh6aIiKc+PXBJSHhTUn9hYYqyIjReXohgX4lYV4Lr6/C2tcjPdYB0c5haWYRYV4Nra5GJiac+PW/FxdTHYG1RUH3eoajltbtOTXvty89BQHHg3+hSUX6GYoC6usyVlbFycZa7u8yUk6+sq8FCQXO0tMe1tMhiYYpMS3pDQnNvbpTExNN8fJ7GxdTGxtWCgqLHx9WXlrLXi5SYl7Kiobrg4Oiiorrn5u3n5+2jo7ukpLvw8PTx8fX09Pf19firqsC5sMNxAAAAAnRSTlPQ9qN1Xw4AAAGlSURBVHhe7ZXFiiRBFEVjznvp5W7t7j3u7m7//y8D1dAMGbnI4jW5KOpsgjibCxFcrrtVEmcBGAGQJHB98d3EgEM/ygsg/nwRAy15rxQ4Ywh3JQX49hVgKA/Ad1hDkkGTMSQJjGkOEmo133FmwAEQyl8FfSj3gFgkzjsQAw6AZ796AP2fGcDBS8/ZQ7ZQlJ2d+bEFqp6zhuh9Cf9/pDtKkTs04KBTD4jgx3eICOodoshz1p7M6UUAUQ+Ap2Pf2UMI5UBBX18/Ut7ZQ84Jui10QKsbcA7dt77jxIBDt+sxMNzrD4HL+rZS4Iw9iTZkCjRFmsBUHkcUOGMI7dkpKezuQsrprM3zR76zN572ekdBX623gaONJ0d5B5sGHAA1+QTwRQJgX2Q/7+w9GZGlDZKERpoxgkbDc8s0WscGSo+WGMiNVlgwWuFNjdafPsDe7wzg3RvP2UNCFGVtbX6EoOo7PhgoO1rGnswHiquB4mqgfIcxpBTGkNslMf2JVMAShRxXgJtUwBKFbFbAqicL4U4qYNWThXCHFbDqyUK4swpY9WQhXBX8A2rVjaQ6HWXmAAAAAElFTkSuQmCC","alt","en","width","22","height","14",1,"inline-block"],[1,"ml-1"],[2,"display","none"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABDBAMAAACYZb3pAAAAHlBMVEUpQqK2q8384OL3qa/tKTkAI5Wrt9z////5t7ztKTlzpJCAAAAABXRSTlP++vjs1BQWlgsAAAAxSURBVHgBYmRAA4yKaAJCAugqQgHtyzENAAAAAiD7pzaDr4MfRVEURVGU36IoipK5FLWNJ6UFusbWAAAAAElFTkSuQmCC","alt","fr","width","22","height","14",1,"inline-block"],["href","#",1,"px-2",3,"click"],["routerLink","manage","routerLinkActive","text-red-400 ",1,"px-2",3,"routerLinkActiveOptions","queryParams"],["routerLink","upload","routerLinkActive","text-red-400",1,"px-2"]],template:function(t,r){if(1&t&&(c.TgZ(0,"header",0)(1,"nav",1)(2,"a",2),c._uU(3,"Clipz"),c.qZA(),c.TgZ(4,"div",3)(5,"ul",4),c.YNc(6,JO,3,0,"li",5),c.ALo(7,"async"),c.YNc(8,tP,9,4,"ng-template",null,6,c.W1O),c.TgZ(10,"li")(11,"a",7),c._uU(12,"About"),c.qZA()()(),c.TgZ(13,"ul",8)(14,"li")(15,"a",9),c._UZ(16,"img",10),c.TgZ(17,"span",11),c._uU(18,"English"),c.qZA()()(),c.TgZ(19,"li",12)(20,"a",9),c._UZ(21,"img",13),c.TgZ(22,"span",11),c._uU(23,"French"),c.qZA()()()()()()()),2&t){const o=c.MAs(9);c.xp6(6),c.Q6J("ngIf",!!c.lcZ(7,2,r.auth.isAuthenticated$))("ngIfElse",o)}},dependencies:[Cn,sc,vf,nu]}),n})();function rP(n,e){1&n&&c._UZ(0,"app-auth-modal")}let iP=(()=>{class n{constructor(t){this.auth=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(OS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"router-outlet"),c.YNc(2,rP,1,0,"app-auth-modal",0),c.ALo(3,"async")),2&t&&(c.xp6(2),c.Q6J("ngIf",!c.lcZ(3,1,r.auth.isAuthenticatedWithDelay$)))},dependencies:[Cn,Na,QO,nP,nu]}),n})(),H1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Is,L1,VO.forRoot()]}),n})(),sP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Is,H1,L1,DO]}),n})();const iA_firebase={apiKey:"AIzaSyDZEknRCXTjiRTNZI_MOetZ0CMDce5fl_w",authDomain:"clips-angular-sai7602.firebaseapp.com",projectId:"clips-angular-sai7602",storageBucket:"clips-angular-sai7602.appspot.com",messagingSenderId:"759512623990",appId:"1:759512623990:web:972ab3ba1b2424e69c2857"},oP=[{path:"manage",component:(()=>{class n{constructor(t,r){this.router=t,this.route=r,this.videoOrder="1"}ngOnInit(){this.route.queryParams.subscribe(t=>{this.videoOrder=t.sort})}sort(t){const{value:r}=t.target;console.log(r),this.router.navigate([],{relativeTo:this.route,queryParams:{sort:r}})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pr),c.Y36(Ps))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-manage"]],decls:112,vars:2,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","justify-between"],["routerLink","/upload",1,"bg-indigo-400","text-white","py-4","px-10","text-xl"],[1,"text-black","px-8","text-xl","outline-none","appearance-none",3,"change"],["value","1",3,"selected"],["value","2",3,"selected"],[1,"container","mx-auto","my-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],[1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","flex","flex-col","justify-start"],["href","#"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"p-6","text-2xl"],["href","#",1,"font-bold","mb-2"],["href","#",1,"bg-gray-400","text-white","px-2","py-1","ml-2","text-sm","rounded"],[1,"flex","text-center","text-2xl","bg-gray-800","p-2","mt-auto"],["href","#",1,"flex-1","p-2","border-right","border-r-2","border-gray-700","transition","hover:text-indigo-400"],[1,"material-icons","text-base"],["href","#",1,"flex-1","p-2","rounded-br-2xl","transition","hover:text-indigo-400"],[1,"hidden"],[1,"text-2xl","font-bold"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter Title",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"a",2),c._uU(3,"Upload Videos"),c.qZA(),c.TgZ(4,"select",3),c.NdJ("change",function(u){return r.sort(u)}),c.TgZ(5,"option",4),c._uU(6,"Recent Uploads"),c.qZA(),c.TgZ(7,"option",5),c._uU(8,"Oldest Uploads"),c.qZA()()()(),c.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"a",9),c._UZ(13,"img",10),c.qZA(),c.TgZ(14,"div",11)(15,"a",12),c._uU(16," Game Highlighting Clip "),c.qZA(),c.TgZ(17,"a",13),c._uU(18," Copy Link "),c.qZA()(),c.TgZ(19,"div",14)(20,"a",15)(21,"span",16),c._uU(22,"build"),c.qZA()(),c.TgZ(23,"a",17)(24,"span",16),c._uU(25,"delete"),c.qZA()()()(),c.TgZ(26,"div",8)(27,"a",9),c._UZ(28,"img",10),c.qZA(),c.TgZ(29,"div",11)(30,"a",12),c._uU(31," Game Highlighting Clip "),c.qZA(),c.TgZ(32,"a",13),c._uU(33," Copy Link "),c.qZA()(),c.TgZ(34,"div",14)(35,"a",15)(36,"span",16),c._uU(37,"build"),c.qZA()(),c.TgZ(38,"a",17)(39,"span",16),c._uU(40,"delete"),c.qZA()()()(),c.TgZ(41,"div",8)(42,"a",9),c._UZ(43,"img",10),c.qZA(),c.TgZ(44,"div",11)(45,"a",12),c._uU(46," Game Highlighting Clip "),c.qZA(),c.TgZ(47,"a",13),c._uU(48," Copy Link "),c.qZA()(),c.TgZ(49,"div",14)(50,"a",15)(51,"span",16),c._uU(52,"build"),c.qZA()(),c.TgZ(53,"a",17)(54,"span",16),c._uU(55,"delete"),c.qZA()()()(),c.TgZ(56,"div",8)(57,"a",9),c._UZ(58,"img",10),c.qZA(),c.TgZ(59,"div",11)(60,"a",12),c._uU(61," Game Highlighting Clip "),c.qZA(),c.TgZ(62,"a",13),c._uU(63," Copy Link "),c.qZA()(),c.TgZ(64,"div",14)(65,"a",15)(66,"span",16),c._uU(67,"build"),c.qZA()(),c.TgZ(68,"a",17)(69,"span",16),c._uU(70,"delete"),c.qZA()()()(),c.TgZ(71,"div",8)(72,"a",9),c._UZ(73,"img",10),c.qZA(),c.TgZ(74,"div",11)(75,"a",12),c._uU(76," Game Highlighting Clip "),c.qZA(),c.TgZ(77,"a",13),c._uU(78," Copy Link "),c.qZA()(),c.TgZ(79,"div",14)(80,"a",15)(81,"span",16),c._uU(82,"build"),c.qZA()(),c.TgZ(83,"a",17)(84,"span",16),c._uU(85,"delete"),c.qZA()()()(),c.TgZ(86,"div",8)(87,"a",9),c._UZ(88,"img",10),c.qZA(),c.TgZ(89,"div",11)(90,"a",12),c._uU(91," Game Highlighting Clip "),c.qZA(),c.TgZ(92,"a",13),c._uU(93," Copy Link "),c.qZA()(),c.TgZ(94,"div",14)(95,"a",15)(96,"span",16),c._uU(97,"build"),c.qZA()(),c.TgZ(98,"a",17)(99,"span",16),c._uU(100,"delete"),c.qZA()()()()()(),c.TgZ(101,"div",18)(102,"p",19),c._uU(103,"Edit Video"),c.qZA(),c.TgZ(104,"form")(105,"div",20)(106,"label",21),c._uU(107,"Title"),c.qZA(),c._UZ(108,"input",22),c.qZA(),c.TgZ(109,"div",23)(110,"button",24),c._uU(111," Update "),c.qZA()()()()),2&t&&(c.xp6(5),c.Q6J("selected","1"===r.videoOrder),c.xp6(2),c.Q6J("selected","2"===r.videoOrder))},dependencies:[sc]}),n})(),data:{authOnly:!0}},{path:"upload",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-upload"]],decls:25,vars:0,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-6"],[1,"w-full","px-10","py-40","rounded","text-center","cursor-pointer","border","border-dashed","border-gray-400","transition","duration-500","hover:text-white","hover:bg-indigo-400","hover:border-indigo-400","hover:border-solid","text-xl"],[1,"mb-4","text-xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],[1,"border-8","cursor-pointer","border-green-400"],["src","assets/img/1.jpg"],[1,"border-8","cursor-pointer","border-transparent"],["src","assets/img/2.jpg"],["src","assets/img/3.jpg"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["type","text",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2),c._uU(3,"Upload Video"),c.qZA(),c.TgZ(4,"div",3)(5,"h5"),c._uU(6,"Drop your file here (mp4 only!)"),c.qZA()(),c.TgZ(7,"div")(8,"form")(9,"h2",4),c._uU(10,"Select a Thumbnail"),c.qZA(),c.TgZ(11,"div",5)(12,"div",6),c._UZ(13,"img",7),c.qZA(),c.TgZ(14,"div",8),c._UZ(15,"img",9),c.qZA(),c.TgZ(16,"div",8),c._UZ(17,"img",10),c.qZA()(),c.TgZ(18,"div",11)(19,"label",12),c._uU(20,"Title"),c.qZA(),c._UZ(21,"input",13),c.qZA(),c.TgZ(22,"div",14)(23,"button",15),c._uU(24," Publish "),c.qZA()()()()()())}}),n})(),data:{authOnly:!0}}];let aP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ig.forChild(oP),Ig]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Is,aP]}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[iP]}),n.\u0275inj=c.cJS({imports:[Bl,mC,sP,Pi.hO.initializeApp(iA_firebase),Jw,_R,uP]}),n})();(0,c.G48)(),Mf.Z.initializeApp(iA_firebase);let G1=!1;Mf.Z.auth().onAuthStateChanged(()=>{G1||Au().bootstrapModule(lP).catch(n=>console.error(n)),G1=!0})},5867:(ut,be,O)=>{O.d(be,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=O(9681);(0,c.registerVersion)("firebase","9.13.0","app")},127:(ut,be,O)=>{O.d(be,{Z:()=>c.Z});var c=O(3942);c.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(ut,be,O)=>{O.r(be);var c=O(5861),J=O(3942),R=O(2090),se=O(9681),oe=O(1877),de=O(655),ue=O(4859);const we=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new oe.Yd("@firebase/auth");function ot(y,...f){Je.logLevel<=oe.in.ERROR&&Je.error(`Auth (${se.SDK_VERSION}): ${y}`,...f)}function Se(y,...f){throw je(y,...f)}function _e(y,...f){return je(y,...f)}function Ie(y,f,g){const w=Object.assign(Object.assign({},tt()),{[f]:g});return new R.LL("auth","Firebase",w).create(f,{appName:y.name})}function Be(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Se(y,"argument-error"),Ie(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return me.create(y,...f)}function U(y,f,...g){if(!y)throw je(f,...g)}function ge(y){const f="INTERNAL ASSERTION FAILED: "+y;throw ot(f),new Error(f)}function Z(y,f){y||ge(f)}const Q=new Map;function re(y){Z(y instanceof Function,"Expected a class definition");let f=Q.get(y);return f?(Z(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Q.set(y,f),f)}function Oe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class on{constructor(f,g){this.shortDelay=f,this.longDelay=g,Z(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(y,f){Z(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class zt{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sr=new on(3e4,6e4);function Rt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function un(y,f,g,w){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(y,f,g,w,S={}){return di(y,S,(0,c.Z)(function*(){let N={},G={};w&&("GET"===f?G=w:N={body:JSON.stringify(w)});const ae=(0,R.xO)(Object.assign({key:y.config.apiKey},G)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),zt.fetch()(hi(y,y.config.apiHost,g,ae),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function di(y,f,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Yt),f);try{const S=new Qr(y),N=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const G=yield N.json();if("needConfirmation"in G)throw Jr(y,"account-exists-with-different-credential",G);if(N.ok&&!("errorMessage"in G))return G;{const ae=N.ok?G.errorMessage:G.error.message,[Ve,Qe]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Jr(y,"credential-already-in-use",G);if("EMAIL_EXISTS"===Ve)throw Jr(y,"email-already-in-use",G);if("USER_DISABLED"===Ve)throw Jr(y,"user-disabled",G);const mt=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ie(y,mt,Qe);Se(y,mt)}}catch(S){if(S instanceof R.ZR)throw S;Se(y,"network-request-failed")}})).apply(this,arguments)}function Br(y,f,g,w){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(y,f,g,w,S={}){const N=yield un(y,f,g,w,S);return"mfaPendingCredential"in N&&Se(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function hi(y,f,g,w){const S=`${f}${g}?${w}`;return y.config.emulator?pn(y.config,S):`${y.config.apiScheme}://${S}`}class Qr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(_e(this.auth,"network-request-failed")),Sr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jr(y,f,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=_e(y,f,w);return S.customData._tokenResponse=g,S}function Ke(){return(Ke=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function wr(y,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zn(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ci(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function hn(){return(hn=(0,c.Z)(function*(y,f=!1){const g=(0,R.m9)(y),w=yield g.getIdToken(f),S=lt(w);U(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,G=N?.sign_in_provider;return{claims:S,token:w,authTime:Ci(gt(S.auth_time)),issuedAtTime:Ci(gt(S.iat)),expirationTime:Ci(gt(S.exp)),signInProvider:G||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(y){return 1e3*Number(y)}function lt(y){var f;const[g,w,S]=y.split(".");if(void 0===g||void 0===w||void 0===S)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,R.tV)(w);return N?JSON.parse(N):(ot("Failed to decode base64 JWT payload"),null)}catch(N){return ot("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function lr(y,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof R.ZR&&jr(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function jr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class At{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,c.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(g=w)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class ps{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ci(this.lastLoginAt),this.creationTime=Ci(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(y){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(y){var f;const g=y.auth,w=yield y.getIdToken(),S=yield lr(y,zn(g,{idToken:w}));U(S?.users.length,g,"internal-error");const N=S.users[0];y._notifyReloadListener(N);const G=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?et(N.providerUserInfo):[],ae=xr(y.providerData,G),mt=!!y.isAnonymous&&!(y.email&&N.passwordHash||ae?.length),ft={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ae,metadata:new ps(N.createdAt,N.lastLoginAt),isAnonymous:mt};Object.assign(y,ft)})).apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(y){const f=(0,R.m9)(y);yield Jt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function xr(y,f){return[...y.filter(w=>!f.some(S=>S.providerId===w.providerId)),...f]}function et(y){return y.map(f=>{var{providerId:g}=f,w=(0,de._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Xe(){return(Xe=(0,c.Z)(function*(y,f){const g=yield di(y,{},(0,c.Z)(function*(){const w=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:N}=y.config,G=hi(y,S,"/v1/token",`key=${N}`),ae=yield y._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",zt.fetch()(G,{method:"POST",headers:ae,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function sn(y){const f=lt(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,c.Z)(function*(){return U(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:G}=yield function Ce(y,f){return Xe.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(S,N,Number(G))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:S,expirationTime:N}=g,G=new Et;return w&&(U("string"==typeof w,"internal-error",{appName:f}),G.refreshToken=w),S&&(U("string"==typeof S,"internal-error",{appName:f}),G.accessToken=S),N&&(U("number"==typeof N,"internal-error",{appName:f}),G.expirationTime=N),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return ge("not implemented")}}function _t(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Ft{constructor(f){var{uid:g,auth:w,stsTokenManager:S}=f,N=(0,de._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new At(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ps(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const w=yield lr(g,g.stsTokenManager.getToken(g.auth,f));return U(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function Ln(y){return hn.apply(this,arguments)}(this,f)}reload(){return function Xt(y){return Wn.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ft(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield Jt(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield lr(f,function ea(y,f){return Ke.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,S,N,G,ae,Ve,Qe,mt;const ft=null!==(w=g.displayName)&&void 0!==w?w:void 0,an=null!==(S=g.email)&&void 0!==S?S:void 0,oi=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Ra=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Py=null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,ic=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,og=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,Pd=null!==(mt=g.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:ag,emailVerified:Fy,isAnonymous:ju,providerData:Oa,stsTokenManager:hf}=g;U(ag&&hf,f,"internal-error");const ff=Et.fromJSON(this.name,hf);U("string"==typeof ag,f,"internal-error"),_t(ft,f.name),_t(an,f.name),U("boolean"==typeof Fy,f,"internal-error"),U("boolean"==typeof ju,f,"internal-error"),_t(oi,f.name),_t(Ra,f.name),_t(Py,f.name),_t(ic,f.name),_t(og,f.name),_t(Pd,f.name);const Uo=new Ft({uid:ag,auth:f,email:an,emailVerified:Fy,displayName:ft,isAnonymous:ju,photoURL:Ra,phoneNumber:oi,tenantId:Py,stsTokenManager:ff,createdAt:og,lastLoginAt:Pd});return Oa&&Array.isArray(Oa)&&(Uo.providerData=Oa.map($u=>Object.assign({},$u))),ic&&(Uo._redirectEventId=ic),Uo}static _fromIdTokenResponse(f,g,w=!1){return(0,c.Z)(function*(){const S=new Et;S.updateFromServerResponse(g);const N=new Ft({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:w});return yield Jt(N),N})()}}const L=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,c.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function q(y,f,g){return`firebase:${y}:${f}:${g}`}class ve{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:S,name:N}=this.auth;this.fullUserKey=q(this.userKey,S.apiKey,N),this.fullPersistenceKey=q("persistence",S.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ft._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new ve(re(L),f,w);const S=(yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let N=S[0]||re(L);const G=q(w,f.config.apiKey,f.name);let ae=null;for(const Qe of g)try{const mt=yield Qe._get(G);if(mt){const ft=Ft._fromJSON(f,mt);Qe!==N&&(ae=ft),N=Qe;break}}catch{}const Ve=S.filter(Qe=>Qe._shouldAllowMigration);return N._shouldAllowMigration&&Ve.length?(N=Ve[0],ae&&(yield N._set(G,ae.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(mt){if(mt!==N)try{yield mt._remove(G)}catch{}});return function(mt){return Qe.apply(this,arguments)}}())),new ve(N,f,w)):new ve(N,f,w)})()}}function Y(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(cn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(He(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ue(f))return"Blackberry";if($e(f))return"Webos";if(ct(f))return"Safari";if((f.includes("chrome/")||Wt(f))&&!f.includes("edge/"))return"Chrome";if(Zt(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function He(y=(0,R.z$)()){return/firefox\//i.test(y)}function ct(y=(0,R.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Wt(y=(0,R.z$)()){return/crios\//i.test(y)}function cn(y=(0,R.z$)()){return/iemobile/i.test(y)}function Zt(y=(0,R.z$)()){return/android/i.test(y)}function Ue(y=(0,R.z$)()){return/blackberry/i.test(y)}function $e(y=(0,R.z$)()){return/webos/i.test(y)}function Ut(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Hs(y=(0,R.z$)()){return Ut(y)||Zt(y)||$e(y)||Ue(y)||/windows phone/i.test(y)||cn(y)}function gs(y,f=[]){let g;switch(y){case"Browser":g=Y((0,R.z$)());break;case"Worker":g=`${Y((0,R.z$)())}-${y}`;break;default:g=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${w}`}class mo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=N=>new Promise((G,ae)=>{try{G(f(N))}catch(Ve){ae(Ve)}});w.onAbort=g,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){var w;if(g.auth.currentUser===f)return;const S=[];try{for(const N of g.queue)yield N(f),N.onAbort&&S.push(N.onAbort)}catch(N){S.reverse();for(const G of S)try{G()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class Lt{constructor(f,g,w){this.app=f,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=re(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,N;if(!w._deleted&&(w.persistenceManager=yield ve.create(w,f),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var w;const S=yield g.assertedPersistence.getCurrentUser();let N=S,G=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ae=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ve=N?._redirectEventId,Qe=yield g.tryRedirectSignIn(f);(!ae||ae===Ve)&&Qe?.user&&(N=Qe.user,G=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(G)try{yield g.beforeStateQueue.runMiddleware(N)}catch(ae){N=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ae))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){var w;try{yield Jt(f)}catch(S){if("auth/network-request-failed"!==(null===(w=S)||void 0===w?void 0:w.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const w=f?(0,R.m9)(f):null;return w&&U(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return f&&U(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,c.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&re(f)||g._popupRedirectResolver;U(w,g,"argument-error"),g.redirectPersistenceManager=yield ve.create(g,[re(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,S){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return U(G,this,"internal-error"),G.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,w,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function yn(y){return(0,R.m9)(y)}class Gs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ti(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ms(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class cr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,g){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function Bn(y,f){return eu.apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:resetPassword",Rt(y,f))})).apply(this,arguments)}function en(y,f){return yl.apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _l(y,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:update",Rt(y,f))})).apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithPassword",Rt(y,f))})).apply(this,arguments)}function _s(y,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:sendOobCode",Rt(y,f))})).apply(this,arguments)}function Cn(y,f){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(y,f){return _s(y,f)})).apply(this,arguments)}function ir(y,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(y,f){return _s(y,f)})).apply(this,arguments)}function tu(y,f){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(y,f){return _s(y,f)})).apply(this,arguments)}function wl(y,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(y,f){return _s(y,f)})).apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,f))})).apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,f))})).apply(this,arguments)}class El extends cr{constructor(f,g,w,S=null){super("password",w),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new El(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new El(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function ta(y,f){return qs.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Bh(y,f){return Yc.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return en(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function jh(y,f){return Il.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Yn(y,f){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithIdp",Rt(y,f))})).apply(this,arguments)}class Gi extends cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Gi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S}=g,N=(0,de._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const G=new Gi(w,S);return G.idToken=N.idToken||void 0,G.accessToken=N.accessToken||void 0,G.secret=N.secret,G.nonce=N.nonce,G.pendingToken=N.pendingToken||null,G}_getIdTokenResponse(f){return Yn(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Yn(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Yn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,R.xO)(g)}return f}}function Ap(y,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:sendVerificationCode",Rt(y,f))})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,f))})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(y,f){const g=yield Br(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,f));if(g.temporaryProof)throw Jr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Mp={USER_NOT_FOUND:"user-not-found"};function Xc(){return(Xc=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Mp)})).apply(this,arguments)}class ws extends cr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new ws({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new ws({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function bl(y,f){return vs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function xp(y,f){return Jc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function kp(y,f){return Xc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:N}=f;return w||g||S||N?new ws({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:N}):null}}class ru{constructor(f){var g,w,S,N,G,ae;const Ve=(0,R.zd)((0,R.pd)(f)),Qe=null!==(g=Ve.apiKey)&&void 0!==g?g:null,mt=null!==(w=Ve.oobCode)&&void 0!==w?w:null,ft=function ed(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);U(Qe&&mt&&ft,"argument-error"),this.apiKey=Qe,this.operation=ft,this.code=mt,this.continueUrl=null!==(N=Ve.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(G=Ve.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ae=Ve.tenantId)&&void 0!==ae?ae:null}static parseLink(f){const g=function td(y){const f=(0,R.zd)((0,R.pd)(y)).link,g=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,w=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(w?(0,R.zd)((0,R.pd)(w)).link:null)||w||g||f||y}(f);try{return new ru(g)}catch{return null}}}let Si=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return El._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=ru.parseLink(w);return U(S,"argument-error"),El._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Zi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class qi extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class zs extends qi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Gi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return zs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return zs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:N,nonce:G,providerId:ae}=f;if(!w&&!S&&!g&&!N||!ae)return null;try{return new zs(ae)._credential({idToken:g,accessToken:w,nonce:G,pendingToken:N})}catch{return null}}}let ra=(()=>{class y extends qi{constructor(){super("facebook.com")}static credential(g){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),iu=(()=>{class y extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Cl=(()=>{class y extends qi{constructor(){super("github.com")}static credential(g){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Is extends cr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Yn(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Yn(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Yn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S,pendingToken:N}=g;return w&&S&&N&&w===S?new Is(w,N):null}static _create(f,g){return new Is(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ei extends Zi{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ei.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ei.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Is.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Is._create(w,g)}catch{return null}}}let Hr=(()=>{class y extends qi{constructor(){super("twitter.com")}static credential(g,w){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function yo(y,f){return nd.apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signUp",Rt(y,f))})).apply(this,arguments)}class dr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,S=!1){return(0,c.Z)(function*(){const N=yield Ft._fromIdTokenResponse(f,w,S),G=Gh(w);return new dr({user:N,providerId:G,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const S=Gh(w);return new dr({user:f,providerId:S,_tokenResponse:w,operationType:g})})()}}function Gh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Dn(){return(Dn=(0,c.Z)(function*(y){var f;const g=yn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new dr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield yo(g,{returnSecureToken:!0}),S=yield dr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class su extends R.ZR{constructor(f,g,w,S){var N;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,su.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,S){return new su(f,g,w,S)}}function qh(y,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?su._fromErrorAndOperation(y,N,f,w):N})}function ti(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function ou(){return(ou=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y);yield qt(!0,g,f);const{providerUserInfo:w}=yield wr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=ti(w||[]);return g.providerData=g.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _o(y,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(y,f,g=!1){const w=yield lr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return dr._forOperation(y,"link",w)})).apply(this,arguments)}function qt(y,f,g){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(y,f,g){yield Jt(f);const S=!1===y?"provider-already-linked":"no-such-provider";U(ti(f.providerData).has(g)===y,f.auth,S)})).apply(this,arguments)}function Ws(y,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(y,f,g=!1){var w;const{auth:S}=y,N="reauthenticate";try{const G=yield lr(y,qh(S,N,f,y),g);U(G.idToken,S,"internal-error");const ae=lt(G.idToken);U(ae,S,"internal-error");const{sub:Ve}=ae;return U(y.uid===Ve,S,"user-mismatch"),dr._forOperation(y,N,G)}catch(G){throw"auth/user-not-found"===(null===(w=G)||void 0===w?void 0:w.code)&&Se(S,"user-mismatch"),G}})).apply(this,arguments)}function pi(y,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(y,f,g=!1){const w="signIn",S=yield qh(y,w,f),N=yield dr._fromIdTokenResponse(y,w,S);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function En(y,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(y,f){return pi(yn(y),f)})).apply(this,arguments)}function cu(y,f){return zh.apply(this,arguments)}function zh(){return(zh=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y);return yield qt(!1,g,f.providerId),_o(g,f)})).apply(this,arguments)}function du(y,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(y,f){return Ws((0,R.m9)(y),f)})).apply(this,arguments)}function Dl(y,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(y,f){return Br(y,"POST","/v1/accounts:signInWithCustomToken",Rt(y,f))})).apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(y,f){const g=yn(y),w=yield Dl(g,{token:f,returnSecureToken:!0}),S=yield dr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class De{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ht._fromServerResponse(f,g):Se(f,"internal-error")}}class Ht extends De{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ht(g)}}function fu(y,f,g){var w;U((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Tn(){return(Tn=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y),S={requestType:"PASSWORD_RESET",email:f};g&&fu(w,S,g),yield ir(w,S)})).apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(y,f,g){yield Bn((0,R.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(y,f){yield _l((0,R.m9)(y),{oobCode:f})})).apply(this,arguments)}function oa(y,f){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y),w=yield Bn(g,{oobCode:f}),S=w.requestType;switch(U(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,g,"internal-error");default:U(w.email,g,"internal-error")}let N=null;return w.mfaInfo&&(N=De._fromServerResponse(yn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function rd(){return(rd=(0,c.Z)(function*(y,f){const{data:g}=yield oa((0,R.m9)(y),f);return g.email})).apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(y,f,g){const w=yn(y),S=yield yo(w,{returnSecureToken:!0,email:f,password:g}),N=yield dr._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};U(g.handleCodeInApp,w,"argument-error"),g&&fu(w,S,g),yield tu(w,S)})).apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y),S=Si.credentialWithLink(f,g||Oe());return U(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),En(w,S)})).apply(this,arguments)}function Rp(y,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:createAuthUri",Rt(y,f))})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(y,f){const w={identifier:f,continueUri:pt()?Oe():"http://localhost"},{signinMethods:S}=yield Rp((0,R.m9)(y),w);return S||[]})).apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&fu(g.auth,S,f);const{email:N}=yield Cn(g.auth,S);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&fu(w.auth,N,g);const{email:G}=yield wl(w.auth,N);G!==y.email&&(yield y.reload())})).apply(this,arguments)}function _u(y,f){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(y,f){return un(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,R.m9)(y),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},G=yield lr(w,_u(w.auth,N));w.displayName=G.displayName||null,w.photoURL=G.photoUrl||null;const ae=w.providerData.find(({providerId:Ve})=>"password"===Ve);ae&&(ae.displayName=w.displayName,ae.photoURL=w.photoURL),yield w._updateTokensIfNecessary(G)})).apply(this,arguments)}function Qs(y,f,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(y,f,g){const{auth:w}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const G=yield lr(y,en(w,N));yield y._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class Gr{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class mn extends Gr{constructor(f,g,w,S){super(f,g,w),this.username=S}}class Fl extends Gr{constructor(f,g){super(f,"facebook.com",g)}}class Ll extends mn{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class sd extends Gr{constructor(f,g){super(f,"google.com",g)}}class Vl extends mn{constructor(f,g,w){super(f,"twitter.com",g,w)}}function wu(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Qn(y){var f,g;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const G=null===(g=null===(f=lt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new Gr(N,"anonymous"!==G&&"custom"!==G?G:null)}if(!w)return null;switch(w){case"facebook.com":return new Fl(N,S);case"github.com":return new Ll(N,S);case"google.com":return new sd(N,S);case"twitter.com":return new Vl(N,S,y.screenName||null);case"custom":case"anonymous":return new Gr(N,null);default:return new Gr(N,w,S)}}(g)}class Xs{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new Xs("enroll",f,g)}static _fromMfaPendingCredential(f){return new Xs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Xs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Xs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Eu{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=yn(f),S=g.customData._serverResponse,N=(S.mfaInfo||[]).map(ae=>De._fromServerResponse(w,ae));U(S.mfaPendingCredential,w,"internal-error");const G=Xs._fromMfaPendingCredential(S.mfaPendingCredential);return new Eu(G,N,function(){var ae=(0,c.Z)(function*(Ve){const Qe=yield Ve._process(w,G);delete S.mfaInfo,delete S.mfaPendingCredential;const mt=Object.assign(Object.assign({},S),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const ft=yield dr._fromIdTokenResponse(w,g.operationType,mt);return yield w._updateCurrentUser(ft.user),ft;case"reauthenticate":return U(g.user,w,"internal-error"),dr._forOperation(g.user,g.operationType,mt);default:Se(w,"internal-error")}});return function(Ve){return ae.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function bu(y,f){return un(y,"POST","/v2/accounts/mfaEnrollment:start",Rt(y,f))}class Wh{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>De._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Wh(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Xs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,c.Z)(function*(){const S=f,N=yield w.getSession(),G=yield lr(w.user,S._process(w.user.auth,N,g));return yield w.user._updateTokensIfNecessary(G),w.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){var w;const S="string"==typeof f?f:f.uid,N=yield g.user.getIdToken(),G=yield lr(g.user,function ld(y,f){return un(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(y,f))}(g.user.auth,{idToken:N,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ae})=>ae!==S),yield g.user._updateTokensIfNecessary(G);try{yield g.user.reload()}catch(ae){if("auth/user-token-expired"!==(null===(w=ae)||void 0===w?void 0:w.code))throw ae}})()}}const Eo=new WeakMap,eo="__sak";class Du{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(eo,"1"),this.storage.removeItem(eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ha=(()=>{class y extends Du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function da(){const y=(0,R.z$)();return ct(y)||Ut(y)}()&&function gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),N=this.localCache[w];S!==N&&g(w,N,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ae,Ve,Qe)=>{this.notifyListeners(ae,Qe)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(S);if(g.newValue!==ae)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const N=()=>{const ae=this.storage.getItem(S);!w&&this.localCache[S]===ae||this.notifyListeners(S,ae)},G=this.storage.getItem(S);!function Kn(){return(0,R.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,N=this;return(0,c.Z)(function*(){yield S().call(N,g,w),N.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,c.Z)(function*(){const N=yield w().call(S,g);return S.localCache[g]=JSON.stringify(N),N})()}_remove(g){var w=()=>super._remove,S=this;return(0,c.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),xi=(()=>{class y extends Du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let hd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(N=>N.isListeningto(g));if(w)return w;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const S=g,{eventId:N,eventType:G,data:ae}=S.data,Ve=w.handlersMap[G];if(!Ve?.size)return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:G});const Qe=Array.from(Ve).map(function(){var ft=(0,c.Z)(function*(an){return an(S.origin,ae)});return function(an){return ft.apply(this,arguments)}}()),mt=yield function pa(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);S.ports[0].postMessage({status:"done",eventId:N,eventType:G,response:mt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ga(y="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return y+g}class Ul{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var S=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let G,ae;return new Promise((Ve,Qe)=>{const mt=ga("",20);N.port1.start();const ft=setTimeout(()=>{Qe(new Error("unsupported_event"))},w);ae={messageChannel:N,onMessage(an){const oi=an;if(oi.data.eventId===mt)switch(oi.data.status){case"ack":clearTimeout(ft),G=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Ve(oi.data.response);break;default:clearTimeout(ft),clearTimeout(G),Qe(new Error("invalid_response"))}}},S.handlers.add(ae),N.port1.addEventListener("message",ae.onMessage),S.target.postMessage({eventType:f,eventId:mt,data:g},[N.port2])}).finally(()=>{ae&&S.removeMessageHandler(ae)})})()}}function kn(){return window}function Tu(){return typeof kn().WorkerGlobalScope<"u"&&"function"==typeof kn().importScripts}function ma(){return(ma=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cs="firebaseLocalStorageDb",Ds="firebaseLocalStorage",Bl="fbase_key";class no{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ya(y,f){return y.transaction([Ds],f?"readwrite":"readonly").objectStore(Ds)}function Co(){const y=indexedDB.open(Cs,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ds,{keyPath:Bl})}catch(S){g(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ds)?f(w):(w.close(),yield function pd(){const y=indexedDB.deleteDatabase(Cs);return new no(y).toPromise()}(),f(yield Co()))}))})}function Qi(y,f,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,c.Z)(function*(y,f,g){const w=ya(y,!0).put({[Bl]:f,value:g});return new no(w).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y,f){const g=ya(y,!1).get(f),w=yield new no(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ro(y,f){const g=ya(y,!0).delete(f);return new no(g).toPromise()}const Do=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Co()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const N=yield w._openDb();return yield g(N)}catch(N){if(S++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Tu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=hd._getInstance(function Au(){return Tu()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(S,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(S,N){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function to(){return ma.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ul(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=N[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Su(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Co();return yield Qi(g,eo,"1"),yield ro(g,eo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(N=>Qi(N,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const S=yield w._withRetries(N=>function xu(y,f){return _a.apply(this,arguments)}(N,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(S=>ro(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(G=>{const ae=ya(G,!1).getAll();return new no(ae).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:G,value:ae}of w)N.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(ae)&&(g.notifyListeners(G,ae),S.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!N.has(G)&&(g.notifyListeners(G,null),S.push(G));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function To(y,f){return un(y,"POST","/v2/accounts/mfaSignIn:start",Rt(y,f))}function Ts(){return(Ts=(0,c.Z)(function*(y){return(yield un(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ao(y){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=S=>{const N=_e("internal-error");N.customData=S,g(N)},w.type="text/javascript",w.charset="UTF-8",function So(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Nu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const va=1e12;class fn{constructor(f){this.auth=f,this.counter=va,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Op(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||va;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||va))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(f||va))||void 0===w||w.execute(),""})()}}class Op{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;U(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wy(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pp=Nu("rcb"),Iy=new on(3e4,6e4);class Kh{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=kn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return U(function F0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(kn().grecaptcha):new Promise((w,S)=>{const N=kn().setTimeout(()=>{S(_e(f,"network-request-failed"))},Iy.get());kn()[Pp]=()=>{kn().clearTimeout(N),delete kn()[Pp];const ae=kn().grecaptcha;if(!ae)return void S(_e(f,"internal-error"));const Ve=ae.render;ae.render=(Qe,mt)=>{const ft=Ve(Qe,mt);return this.counter++,ft},this.hostLanguage=g,w(ae)},Ao(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:Pp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),S(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=kn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hl{load(f){return(0,c.Z)(function*(){return new fn(f)})()}clearedOneInstance(){}}const by="recaptcha",Cy={theme:"light",type:"image"};class or{constructor(f,g=Object.assign({},Cy),w){this.parameters=g,this.type=by,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;U(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hl:new Kh,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(N=>{const G=ae=>{!ae||(f.tokenChangeListeners.delete(G),N(ae))};f.tokenChangeListeners.add(G),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=kn()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){U(pt()&&!Tu(),f.auth,"internal-error"),yield function ln(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Zr(y){return Ts.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=ws._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function ri(){return(ri=(0,c.Z)(function*(y,f,g){const w=yn(y),S=yield Ss(w,f,(0,R.m9)(g));return new mi(S,N=>En(w,N))})).apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y);yield qt(!1,w,"phone");const S=yield Ss(w.auth,f,(0,R.m9)(g));return new mi(S,N=>cu(w,N))})).apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y),S=yield Ss(w.auth,f,(0,R.m9)(g));return new mi(S,N=>du(w,N))})).apply(this,arguments)}function Ss(y,f,g){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(y,f,g){var w;const S=yield g.verify();try{let N;if(U("string"==typeof S,y,"argument-error"),U(g.type===by,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const G=N.session;if("phoneNumber"in N)return U("enroll"===G.type,y,"internal-error"),(yield bu(y,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{U("signin"===G.type,y,"internal-error");const ae=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return U(ae,y,"missing-multi-factor-info"),(yield To(y,{mfaPendingCredential:G.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Ap(y,{phoneNumber:N.phoneNumber,recaptchaToken:S});return G}}finally{g._reset()}})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y,f){yield _o((0,R.m9)(y),f)})).apply(this,arguments)}let Ia=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=yn(g)}verifyPhoneNumber(g,w){return Ss(this.auth,g,(0,R.m9)(w))}static credential(g,w){return ws._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?ws._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Mo(y,f){return f?re(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class As extends cr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Yn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Yn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Yn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function it(y){return pi(y.auth,new As(y),y.bypassAuthState)}function Ea(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),Ws(g,new As(y),y.bypassAuthState)}function xs(y){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),_o(g,new As(y),y.bypassAuthState)})).apply(this,arguments)}class ko{constructor(f,g,w,S,N=!1){this.auth=f,this.resolver=w,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(w,S){f.pendingPromise={resolve:w,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:N,tenantId:G,error:ae,type:Ve}=f;if(ae)return void g.reject(ae);const Qe={auth:g.auth,requestUri:w,sessionId:S,tenantId:G||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(Qe))}catch(mt){g.reject(mt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return it;case"linkViaPopup":case"linkViaRedirect":return xs;case"reauthViaPopup":case"reauthViaRedirect":return Ea;default:Se(this.auth,"internal-error")}}resolve(f){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jn=new on(2e3,1e4);function No(){return(No=(0,c.Z)(function*(y,f,g){const w=yn(y);Be(y,f,Zi);const S=Mo(w,g);return new Xi(w,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y);Be(w.auth,f,Zi);const S=Mo(w.auth,g);return new Xi(w.auth,"reauthViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y);Be(w.auth,f,Zi);const S=Mo(w.auth,g);return new Xi(w.auth,"linkViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}let Xi=(()=>{class y extends ko{constructor(g,w,S,N,G){super(g,w,N,G),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return U(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){Z(1===g.filter.length,"Popup operations only handle one event");const w=ga();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,jn.get())};g()}}return y.currentPopupAction=null,y})();const _i=new Map;class zl extends ko{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=_i.get(g.auth._key());if(!w){try{const N=(yield function Ro(y,f){return qr.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(N)}catch(S){w=()=>Promise.reject(S)}_i.set(g.auth._key(),w)}return g.bypassAuthState||_i.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const S=yield w.auth._redirectUserForId(f.eventId);if(S)return w.user=S,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function qr(){return(qr=(0,c.Z)(function*(y,f){const g=Nn(f),w=ts(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function es(y,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(y,f){return ts(y)._set(Nn(f),"true")})).apply(this,arguments)}function ks(y,f){_i.set(y._key(),f)}function ts(y){return re(y._redirectPersistence)}function Nn(y){return q("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,c.Z)(function*(y,f,g){const w=yn(y);Be(y,f,Zi);const S=Mo(w,g);return yield es(S,w),S._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y);Be(w.auth,f,Zi);const S=Mo(w.auth,g);yield es(S,w.auth);const N=yield ht(w);return S._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(y,f,g){const w=(0,R.m9)(y);Be(w.auth,f,Zi);const S=Mo(w.auth,g);yield qt(!1,w,f.providerId),yield es(S,w.auth);const N=yield ht(w);return S._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(y,f){return yield yn(y)._initializationPromise,vt(y,f,!1)})).apply(this,arguments)}function vt(y,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y,f,g=!1){const w=yn(y),S=Mo(w,f),G=yield new zl(w,S,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield w._persistUserIfCurrent(G.user),yield w._setRedirectUser(null,f)),G})).apply(this,arguments)}function ht(y){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(y){const f=ga(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class so{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ki(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mt(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!Mt(f)){const S=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ns(f))}saveEventToCache(f){this.cachedEventUids.add(Ns(f)),this.lastProcessedEventTime=Date.now()}}function Ns(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Mt({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Rs(y){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(y,f={}){return un(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oo=/^https?/;function Yh(){return(Yh=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Rs(y);for(const g of f)try{if(Vp(g))return}catch{}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Vp(y){const f=Oe(),{protocol:g,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const G=new URL(y);return""===G.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===w}if(!oo.test(g))return!1;if(Oo.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Up=new on(3e4,6e4);function Dy(){const y=kn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ni=null;function Qh(y){return Ni=Ni||function Jn(y){return new Promise((f,g)=>{var w,S,N;function G(){Dy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dy(),g(_e(y,"network-request-failed"))},timeout:Up.get()})}if(null!==(S=null===(w=kn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(N=kn().gapi)||void 0===N||!N.load){const ae=Nu("iframefcb");return kn()[ae]=()=>{gapi.load?G():g(_e(y,"network-request-failed"))},Ao(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Ve=>g(Ve))}G()}}).catch(f=>{throw Ni=null,f})}(y),Ni}const Bp=new on(5e3,15e3),Ty={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jp(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?pn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:se.SDK_VERSION},S=Xh.get(y.config.apiHost);S&&(w.eid=S);const N=y._getFrameworks();return N.length&&(w.fw=N.join(",")),`${g}?${(0,R.xO)(w).slice(1)}`}function Da(){return Da=(0,c.Z)(function*(y){const f=yield Qh(y),g=kn().gapi;return U(g,y,"internal-error"),f.open({where:document.body,url:jp(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ty,dontclear:!0},w=>new Promise(function(){var S=(0,c.Z)(function*(N,G){yield w.restyle({setHideOnLeave:!1});const ae=_e(y,"network-request-failed"),Ve=kn().setTimeout(()=>{G(ae)},Bp.get());function Qe(){kn().clearTimeout(Ve),N(w)}w.ping(Qe).then(Qe,()=>{G(ae)})});return function(N,G){return S.apply(this,arguments)}}()))}),Da.apply(this,arguments)}const gd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _d(y,f,g,w,S,N){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const G={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:se.SDK_VERSION,eventId:S};if(f instanceof Zi){f.setDefaultLanguage(y.languageCode),G.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(G.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,Qe]of Object.entries(N||{}))G[Ve]=Qe}if(f instanceof qi){const Ve=f.getScopes().filter(Qe=>""!==Qe);Ve.length>0&&(G.scopes=Ve.join(","))}y.tenantId&&(G.tid=y.tenantId);const ae=G;for(const Ve of Object.keys(ae))void 0===ae[Ve]&&delete ae[Ve];return`${function vd({config:y}){return y.emulator?pn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(ae).slice(1)}`}const Sa="webStorageSupport";class Ri extends class Sy{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ri(f)}_finalizeEnroll(f,g,w){return function Cu(y,f){return un(y,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(y,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function ku(y,f){return un(y,"POST","/v2/accounts/mfaSignIn:finalize",Rt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Po=(()=>{class y{constructor(){}static assertion(g){return Ri._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var tf="@firebase/auth",Zp="0.20.11";class V0{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{var S;f((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Aa(){return window}function xa(){return(xa=(0,c.Z)(function*(y,f,g){var w;const{BuildInfo:S}=Aa();Z(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Ma(f.sessionId),G={};return Ut()?G.ibi=S.packageName:Zt()?G.apn=S.packageName:Se(y,"operation-not-supported-in-this-environment"),S.displayName&&(G.appDisplayName=S.displayName),G.sessionId=N,_d(y,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,G)})).apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(y){const{BuildInfo:f}=Aa(),g={};Ut()?g.iosBundleId=f.packageName:Zt()?g.androidPackageName=f.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Rs(y,g)})).apply(this,arguments)}function Wp(){return(Wp=(0,c.Z)(function*(y,f,g){const{cordova:w}=Aa();let S=()=>{};try{yield new Promise((N,G)=>{let ae=null;function Ve(){var ft;N();const an=null===(ft=w.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof an&&an(),"function"==typeof g?.close&&g.close()}function Qe(){ae||(ae=window.setTimeout(()=>{G(_e(y,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===document?.visibilityState&&Qe()}f.addPassiveListener(Ve),document.addEventListener("resume",Qe,!1),Zt()&&document.addEventListener("visibilitychange",mt,!1),S=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",mt,!1),ae&&window.clearTimeout(ae)}})}finally{S()}})).apply(this,arguments)}function Ma(y){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(y){const f=Ql(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ql(y){if(Z(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(0,R.Pz)("authIdTokenMaxAge"),function B0(y){(0,se._registerComponent)(new ue.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:N,authDomain:G}=w.options;return((ae,Ve)=>{U(N&&!N.includes(":"),"invalid-api-key",{appName:ae.name}),U(!G?.includes(":"),"argument-error",{appName:ae.name});const Qe={apiKey:N,authDomain:G,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gs(y)},mt=new Lt(ae,Ve,Qe);return function Pe(y,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(re);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(mt,g),mt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ue.wA("auth-internal",f=>{const g=yn(f.getProvider("auth").getImmediate());return new V0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(tf,Zp,function U0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(tf,Zp,"esm2017")}("Browser");class rf extends so{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Yp(y){return sf.apply(this,arguments)}function sf(){return(sf=(0,c.Z)(function*(y){const f=yield Jl()._get(co(y));return f&&(yield Jl()._remove(co(y))),f})).apply(this,arguments)}function wd(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function Jl(){return re(ha)}function co(y){return q("authEvent",y.config.apiKey,y.name)}function Id(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function bd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Dd(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Vu(y=(0,R.z$)()){return!("file:"!==Dd()&&"ionic:"!==Dd()&&"capacitor:"!==Dd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ng(){try{const y=self.localStorage,f=ga();if(y)return y.setItem(f,"1"),y.removeItem(f),!function tg(y=(0,R.z$)()){return function Xp(){return(0,R.w1)()&&11===document?.documentMode}()||function eg(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch{return Td()&&(0,R.hl)()}return!1}function Td(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sd(){return(function G0(){return"http:"===Dd()||"https:"===Dd()}()||(0,R.ru)()||Vu())&&!function uf(){return(0,R.b$)()||(0,R.UG)()}()&&ng()&&!Td()}function Xl(){return Vu()&&typeof document<"u"}function Ad(){return(Ad=(0,c.Z)(function*(){return!!Xl()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Nr={LOCAL:"local",NONE:"none",SESSION:"session"},si=U,wi="persistence";function Uu(y){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(y){yield y._initializationPromise;const f=tc(),g=q(wi,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function tc(){var y;try{return(null===(y=function ec(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const xd=U;class br{constructor(){this.browserResolver=re(class Gp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xi,this._completeRedirectFn=vt,this._overrideRedirectResult=ks}_openPopup(f,g,w,S){var N=this;return(0,c.Z)(function*(){var G;Z(null===(G=N.eventManagers[f._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ae=_d(f,g,w,Oe(),S);return function uo(y,f,g,w=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),G=Math.max((window.screen.availWidth-w)/2,0).toString();let ae="";const Ve=Object.assign(Object.assign({},gd),{width:w.toString(),height:S.toString(),top:N,left:G}),Qe=(0,R.z$)().toLowerCase();g&&(ae=Wt(Qe)?"_blank":g),He(Qe)&&(f=f||"http://localhost",Ve.scrollbars="yes");const mt=Object.entries(Ve).reduce((an,[oi,Ra])=>`${an}${oi}=${Ra},`,"");if(function $r(y=(0,R.z$)()){var f;return Ut(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Qe)&&"_self"!==ae)return function Hp(y,f){const g=document.createElement("a");g.href=y,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",ae),new Wl(null);const ft=window.open(f||"",ae,mt);U(ft,y,"popup-blocked");try{ft.focus()}catch{}return new Wl(ft)}(f,ae,ga())})()}_openRedirect(f,g,w,S){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function gi(y){kn().location.href=y}(_d(f,g,w,Oe(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:N}=this.eventManagers[g];return S?Promise.resolve(S):(Z(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const w=yield function $p(y){return Da.apply(this,arguments)}(f),S=new so(f);return w.register("authEvent",N=>(U(N?.authEvent,f,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=w,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Sa,{type:Sa},S=>{var N;const G=null===(N=S?.[0])||void 0===N?void 0:N[Sa];void 0!==G&&g(!!G),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function vi(y){return Yh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Hs()||ct()||Ut()}}),this.cordovaResolver=re(class Ed{constructor(){this._redirectPersistence=xi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vt,this._overrideRedirectResult=ks}_initialize(f){var g=this;return(0,c.Z)(function*(){const w=f._key();let S=g.eventManagers.get(w);return S||(S=new rf(f),g.eventManagers.set(w,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,S){var N=this;return(0,c.Z)(function*(){!function H0(y){var f,g,w,S,N,G,ae,Ve,Qe,mt;const ft=Aa();U("function"==typeof(null===(f=ft?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=ft?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(N=null===(S=null===(w=ft?.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Ve=null===(ae=null===(G=ft?.cordova)||void 0===G?void 0:G.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(mt=null===(Qe=ft?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===mt?void 0:mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const G=yield N._initialize(f);yield G.initialized(),G.resetRedirect(),function hr(){_i.clear()}(),yield N._originValidation(f);const ae=function Kp(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:wd(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(f,w,S);yield function Lu(y,f){return Jl()._set(co(y),f)}(f,ae);const Ve=yield function Oi(y,f,g){return xa.apply(this,arguments)}(f,ae,g),Qe=yield function xy(y){const{cordova:f}=Aa();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let S=null;w?f.plugins.browsertab.openUrl(y):S=f.InAppBrowser.open(y,function rr(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ve);return function $0(y,f,g){return Wp.apply(this,arguments)}(f,G,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Fo(y){return Fu.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:N}=Aa(),G=setTimeout((0,c.Z)(function*(){yield Yp(f),g.onEvent(bd())}),500),ae=function(){var mt=(0,c.Z)(function*(ft){clearTimeout(G);const an=yield Yp(f);let oi=null;an&&ft?.url&&(oi=function af(y,f){var g,w;const S=function Rn(y){const f=Id(y),g=f.link?decodeURIComponent(f.link):void 0,w=Id(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Id(S).link||S||w||g||y}(f);if(S.includes("/__/auth/callback")){const N=Id(S),G=N.firebaseError?function ky(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,ae=null===(w=null===(g=G?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ve=ae?_e(ae):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(an,ft.url)),g.onEvent(oi||bd())});return function(an){return mt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ae);const Ve=S,Qe=`${N.packageName.toLowerCase()}://`;Aa().handleOpenURL=function(){var mt=(0,c.Z)(function*(ft){if(ft.toLowerCase().startsWith(Qe)&&ae({url:ft}),"function"==typeof Ve)try{Ve(ft)}catch(an){console.error(an)}});return function(ft){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xi,this._completeRedirectFn=vt,this._overrideRedirectResult=ks}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,S){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,w,S)})()}_openRedirect(f,g,w,S){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,w,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Xl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Z0(){return Ad.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Md(y){return y.unwrap()}function ig(y){return rc(y)}function rc(y){const{_tokenResponse:f}=y instanceof R.ZR?y.customData:y;if(!f)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ia.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=iu;break;case"facebook.com":w=ra;break;case"github.com":w=Cl;break;case"twitter.com":w=Hr;break;default:const{oauthIdToken:S,oauthAccessToken:N,oauthTokenSecret:G,pendingToken:ae,nonce:Ve}=f;return N||G||S||ae?ae?g.startsWith("saml.")?Is._create(g,ae):Gi._fromParams({providerId:g,signInMethod:g,pendingToken:ae,idToken:S,accessToken:N}):new zs(g).credential({idToken:S,accessToken:N,rawNonce:Ve}):null}return y instanceof R.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function ar(y,f){return f.catch(g=>{throw g instanceof R.ZR&&function lf(y,f){var g,w;const S=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new Ry(y,function An(y,f){var g;const w=(0,R.m9)(y),S=f;return U(f.customData.operationType,w,"argument-error"),U(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Eu._fromError(w,S)}(y,f));else if(S){const N=rc(f),G=f;N&&(G.credential=N,G.tenantId=S.tenantId||void 0,G.email=S.email||void 0,G.phoneNumber=S.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:ig(g),additionalUserInfo:wu(g),user:ns.getOrCreate(S)}})}function ka(y,f){return cf.apply(this,arguments)}function cf(){return(cf=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>ar(y,g.confirm(w))}})).apply(this,arguments)}class Ry{constructor(f,g){this.resolver=g,this.auth=function nc(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ar(Md(this.auth),this.resolver.resolveSignIn(f))}}class ns{constructor(f){this._delegate=f,this.multiFactor=function bo(y){const f=(0,R.m9)(y);return Eo.has(f)||Eo.set(f,Wh._fromUser(f)),Eo.get(f)}(f)}static getOrCreate(f){return ns.USER_MAP.has(f)||ns.USER_MAP.set(f,new ns(f)),ns.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return ar(g.auth,cu(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,c.Z)(function*(){return ka(w.auth,function _n(y,f,g){return yi.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return ar(g.auth,function Ou(y,f,g){return Ca.apply(this,arguments)}(g._delegate,f,br))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Uu(yn(g.auth)),function K(y,f,g){return function te(y,f,g){return Ee.apply(this,arguments)}(y,f,g)}(g._delegate,f,br)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return ar(g.auth,du(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return ka(this.auth,function wa(y,f,g){return Er.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ar(this.auth,function Lp(y,f,g){return ql.apply(this,arguments)}(this._delegate,f,br))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Uu(yn(g.auth)),function D(y,f,g){return function x(y,f,g){return F.apply(this,arguments)}(y,f,g)}(g._delegate,f,br)})()}sendEmailVerification(f){return function kl(y,f){return ca.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function kr(y,f){return ou.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function id(y,f){return Qs((0,R.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Ys(y,f){return Qs((0,R.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Fp(y,f){return Gl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ol(y,f){return Pl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Nl(y,f,g){return yu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ns.USER_MAP=new WeakMap;const Vo=U;let df=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Vo(S,"invalid-api-key",{appName:g.name}),Vo(S,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?br:void 0;this._delegate=w.initialize({options:{persistence:sg(S,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ns.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Xa(y,f,g){const w=yn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const S=!!g?.disableWarnings,N=Ti(f),{host:G,port:ae}=function Un(y){const f=Ti(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const N=S[1];return{host:N,port:ms(w.substr(N.length+1))}}{const[N,G]=w.split(":");return{host:N,port:ms(G)}}}(f);w.config.emulator={url:`${N}//${G}${null===ae?"":`:${ae}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:G,port:ae,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function ys(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function ni(y,f){return sa.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return oa(this._delegate,g)}confirmPasswordReset(g,w){return function gu(y,f,g){return vo.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,c.Z)(function*(){return ar(S._delegate,function aa(y,f,g){return Sn.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function mu(y,f){return la.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Yi(y,f){return"EMAIL_SIGNIN"===ru.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Vo(Sd(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Ne(y,f){return nt.apply(this,arguments)}(g._delegate,br);return w?ar(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Lo(y,f){yn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:N,error:G,complete:ae}=kd(g,w,S);return this._delegate.onAuthStateChanged(N,G,ae)}onIdTokenChanged(g,w,S){const{next:N,error:G,complete:ae}=kd(g,w,S);return this._delegate.onIdTokenChanged(N,G,ae)}sendSignInLinkToEmail(g,w){return function xl(y,f,g){return Ks.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function pu(y,f,g){return Tn.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,c.Z)(function*(){let S;switch(function rg(y,f){si(Object.values(Nr).includes(f),y,"invalid-persistence-type"),(0,R.b$)()?si(f!==Nr.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?si(f===Nr.NONE,y,"unsupported-persistence-type"):Td()?si(f===Nr.NONE||f===Nr.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):si(f===Nr.NONE||ng(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Nr.SESSION:S=xi;break;case Nr.LOCAL:S=(yield re(Do)._isAvailable())?Do:ha;break;case Nr.NONE:S=L;break;default:return Se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ar(this._delegate,function Zh(y){return Dn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ar(this._delegate,En(this._delegate,g))}signInWithCustomToken(g){return ar(this._delegate,function Tl(y,f){return ia.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return ar(this._delegate,function Ai(y,f,g){return En((0,R.m9)(y),Si.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return ar(this._delegate,function Np(y,f,g){return ua.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return ka(this._delegate,function at(y,f,g){return ri.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,c.Z)(function*(){return Vo(Sd(),w._delegate,"operation-not-supported-in-this-environment"),ar(w._delegate,function Zl(y,f,g){return No.apply(this,arguments)}(w._delegate,g,br))})()}signInWithRedirect(g){var w=this;return(0,c.Z)(function*(){return Vo(Sd(),w._delegate,"operation-not-supported-in-this-environment"),yield Uu(w._delegate),function dn(y,f,g){return function Pu(y,f,g){return C.apply(this,arguments)}(y,f,g)}(w._delegate,g,br)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Al(y,f){return rd.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Nr,y})();function kd(y,f,g){let w=y;"function"!=typeof y&&({next:w,error:f,complete:g}=y);const S=w;return{next:G=>S(G&&ns.getOrCreate(G)),error:f,complete:g}}function sg(y,f){const g=function Ps(y,f){const g=tc();if(!g)return[];const w=q(wi,y,f);switch(g.getItem(w)){case Nr.NONE:return[L];case Nr.LOCAL:return[Do,xi];case Nr.SESSION:return[xi];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Do)&&g.push(Do),typeof window<"u")for(const w of[ha,xi])g.includes(w)||g.push(w);return g.includes(L)||g.push(L),g}class Nd{constructor(){this.providerId="phone",this._delegate=new Ia(Md(J.Z.auth()))}static credential(f,g){return Ia.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Nd.PHONE_SIGN_IN_METHOD=Ia.PHONE_SIGN_IN_METHOD,Nd.PROVIDER_ID=Ia.PROVIDER_ID;const Rd=U;class Od{constructor(f,g,w=J.Z.app()){var S;Rd(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new or(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Oy(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new df(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Si,FacebookAuthProvider:ra,GithubAuthProvider:Cl,GoogleAuthProvider:iu,OAuthProvider:zs,SAMLAuthProvider:ei,PhoneAuthProvider:Nd,PhoneMultiFactorGenerator:Po,RecaptchaVerifier:Od,TwitterAuthProvider:Hr,Auth:df,AuthCredential:cr,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.24")}(J.Z)},9751:(ut,be,O)=>{O.d(be,{y:()=>he});var c=O(930),J=O(727),R=O(8822),se=O(9635),oe=O(2416),de=O(576),ue=O(2806);let he=(()=>{class W{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const we=new W;return we.source=this,we.operator=Ae,we}subscribe(Ae,we,tt){const me=function j(W){return W&&W instanceof c.Lv||function B(W){return W&&(0,de.m)(W.next)&&(0,de.m)(W.error)&&(0,de.m)(W.complete)}(W)&&(0,J.Nn)(W)}(Ae)?Ae:new c.Hp(Ae,we,tt);return(0,ue.x)(()=>{const{operator:pe,source:Je}=this;me.add(pe?pe.call(me,Je):Je?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(we){Ae.error(we)}}forEach(Ae,we){return new(we=fe(we))((tt,me)=>{const pe=new c.Hp({next:Je=>{try{Ae(Je)}catch(ot){me(ot),pe.unsubscribe()}},error:me,complete:tt});this.subscribe(pe)})}_subscribe(Ae){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Ae)}[R.L](){return this}pipe(...Ae){return(0,se.U)(Ae)(this)}toPromise(Ae){return new(Ae=fe(Ae))((we,tt)=>{let me;this.subscribe(pe=>me=pe,pe=>tt(pe),()=>we(me))})}}return W.create=Le=>new W(Le),W})();function fe(W){var Le;return null!==(Le=W??oe.v.Promise)&&void 0!==Le?Le:Promise}},7579:(ut,be,O)=>{O.d(be,{x:()=>ue});var c=O(9751),J=O(727);const se=(0,O(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=O(8737),de=O(2806);let ue=(()=>{class fe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const W=new he(this,this);return W.operator=j,W}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(j)}})}error(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:W}=this;for(;W.length;)W.shift().error(j)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:W,isStopped:Le,observers:Ae}=this;return W||Le?J.Lc:(this.currentObservers=null,Ae.push(j),new J.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:W,thrownError:Le,isStopped:Ae}=this;W?j.error(Le):Ae&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return fe.create=(B,j)=>new he(B,j),fe})();class he extends ue{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===W||W.call(j,B)}error(B){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===W||W.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,W;return null!==(W=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==W?W:J.Lc}}},930:(ut,be,O)=>{O.d(be,{Hp:()=>tt,Lv:()=>W});var c=O(576),J=O(727),R=O(2416),se=O(7849),oe=O(5032);const de=fe("C",void 0,void 0);function fe(Se,_e,Ie){return{kind:Se,value:_e,error:Ie}}var B=O(3410),j=O(2806);class W extends J.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,J.Nn)(_e)&&_e.add(this)):this.destination=ot}static create(_e,Ie,Be){return new tt(_e,Ie,Be)}next(_e){this.isStopped?Je(function he(Se){return fe("N",Se,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Je(function ue(Se){return fe("E",void 0,Se)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Je(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ae(Se,_e){return Le.call(Se,_e)}class we{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(_e)}catch(Be){me(Be)}}error(_e){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(_e)}catch(Be){me(Be)}else me(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Ie){me(Ie)}}}class tt extends W{constructor(_e,Ie,Be){let je;if(super(),(0,c.m)(_e)||!_e)je={next:_e??void 0,error:Ie??void 0,complete:Be??void 0};else{let U;this&&R.v.useDeprecatedNextContext?(U=Object.create(_e),U.unsubscribe=()=>this.unsubscribe(),je={next:_e.next&&Ae(_e.next,U),error:_e.error&&Ae(_e.error,U),complete:_e.complete&&Ae(_e.complete,U)}):je=_e}this.destination=new we(je)}}function me(Se){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Se):(0,se.h)(Se)}function Je(Se,_e){const{onStoppedNotification:Ie}=R.v;Ie&&B.z.setTimeout(()=>Ie(Se,_e))}const ot={closed:!0,next:oe.Z,error:function pe(Se){throw Se},complete:oe.Z}},727:(ut,be,O)=>{O.d(be,{Lc:()=>de,w0:()=>oe,Nn:()=>ue});var c=O(576);const R=(0,O(3888).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((W,Le)=>`${Le+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=O(8737);class oe{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:W}=this;if((0,c.m)(W))try{W()}catch(Ae){B=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ae of Le)try{he(Ae)}catch(we){B=B??[],we instanceof R?B=[...B,...we.errors]:B.push(we)}}if(B)throw new R(B)}}add(B){var j;if(B&&B!==this)if(this.closed)he(B);else{if(B instanceof oe){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,se.P)(j,B),B instanceof oe&&B._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const de=oe.EMPTY;function ue(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,c.m)(fe.remove)&&(0,c.m)(fe.add)&&(0,c.m)(fe.unsubscribe)}function he(fe){(0,c.m)(fe)?fe():fe.unsubscribe()}},2416:(ut,be,O)=>{O.d(be,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,be,O)=>{O.d(be,{E:()=>J});const J=new(O(9751).y)(oe=>oe.complete())},8996:(ut,be,O)=>{O.d(be,{D:()=>_e});var c=O(8421),J=O(5363),R=O(9468),de=O(9751),he=O(2202),fe=O(576),B=O(9672);function W(Ie,Be){if(!Ie)throw new Error("Iterable cannot be null");return new de.y(je=>{(0,B.f)(je,Be,()=>{const U=Ie[Symbol.asyncIterator]();(0,B.f)(je,Be,()=>{U.next().then(ge=>{ge.done?je.complete():je.next(ge.value)})},0,!0)})})}var Le=O(3670),Ae=O(8239),we=O(1144),tt=O(6495),me=O(2206),pe=O(4532),Je=O(3260);function _e(Ie,Be){return Be?function Se(Ie,Be){if(null!=Ie){if((0,Le.c)(Ie))return function se(Ie,Be){return(0,c.Xf)(Ie).pipe((0,R.R)(Be),(0,J.Q)(Be))}(Ie,Be);if((0,we.z)(Ie))return function ue(Ie,Be){return new de.y(je=>{let U=0;return Be.schedule(function(){U===Ie.length?je.complete():(je.next(Ie[U++]),je.closed||this.schedule())})})}(Ie,Be);if((0,Ae.t)(Ie))return function oe(Ie,Be){return(0,c.Xf)(Ie).pipe((0,R.R)(Be),(0,J.Q)(Be))}(Ie,Be);if((0,me.D)(Ie))return W(Ie,Be);if((0,tt.T)(Ie))return function j(Ie,Be){return new de.y(je=>{let U;return(0,B.f)(je,Be,()=>{U=Ie[he.h](),(0,B.f)(je,Be,()=>{let ge,Z;try{({value:ge,done:Z}=U.next())}catch(Q){return void je.error(Q)}Z?je.complete():je.next(ge)},0,!0)}),()=>(0,fe.m)(U?.return)&&U.return()})}(Ie,Be);if((0,Je.L)(Ie))return function ot(Ie,Be){return W((0,Je.Q)(Ie),Be)}(Ie,Be)}throw(0,pe.z)(Ie)}(Ie,Be):(0,c.Xf)(Ie)}},8421:(ut,be,O)=>{O.d(be,{Xf:()=>Le});var c=O(655),J=O(1144),R=O(8239),se=O(9751),oe=O(3670),de=O(2206),ue=O(4532),he=O(6495),fe=O(3260),B=O(576),j=O(7849),W=O(8822);function Le(Se){if(Se instanceof se.y)return Se;if(null!=Se){if((0,oe.c)(Se))return function Ae(Se){return new se.y(_e=>{const Ie=Se[W.L]();if((0,B.m)(Ie.subscribe))return Ie.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,J.z)(Se))return function we(Se){return new se.y(_e=>{for(let Ie=0;Ie<Se.length&&!_e.closed;Ie++)_e.next(Se[Ie]);_e.complete()})}(Se);if((0,R.t)(Se))return function tt(Se){return new se.y(_e=>{Se.then(Ie=>{_e.closed||(_e.next(Ie),_e.complete())},Ie=>_e.error(Ie)).then(null,j.h)})}(Se);if((0,de.D)(Se))return pe(Se);if((0,he.T)(Se))return function me(Se){return new se.y(_e=>{for(const Ie of Se)if(_e.next(Ie),_e.closed)return;_e.complete()})}(Se);if((0,fe.L)(Se))return function Je(Se){return pe((0,fe.Q)(Se))}(Se)}throw(0,ue.z)(Se)}function pe(Se){return new se.y(_e=>{(function ot(Se,_e){var Ie,Be,je,U;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,c.KL)(Se);!(Be=yield Ie.next()).done;)if(_e.next(Be.value),_e.closed)return}catch(ge){je={error:ge}}finally{try{Be&&!Be.done&&(U=Ie.return)&&(yield U.call(Ie))}finally{if(je)throw je.error}}_e.complete()})})(Se,_e).catch(Ie=>_e.error(Ie))})}},6451:(ut,be,O)=>{O.d(be,{T:()=>de});var c=O(8189),J=O(8421),R=O(515),se=O(3269),oe=O(8996);function de(...ue){const he=(0,se.yG)(ue),fe=(0,se._6)(ue,1/0),B=ue;return B.length?1===B.length?(0,J.Xf)(B[0]):(0,c.J)(fe)((0,oe.D)(B,he)):R.E}},5403:(ut,be,O)=>{O.d(be,{x:()=>J});var c=O(930);function J(se,oe,de,ue,he){return new R(se,oe,de,ue,he)}class R extends c.Lv{constructor(oe,de,ue,he,fe,B){super(oe),this.onFinalize=fe,this.shouldUnsubscribe=B,this._next=de?function(j){try{de(j)}catch(W){oe.error(W)}}:super._next,this._error=he?function(j){try{he(j)}catch(W){oe.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(ut,be,O)=>{O.d(be,{U:()=>R});var c=O(4482),J=O(5403);function R(se,oe){return(0,c.e)((de,ue)=>{let he=0;de.subscribe((0,J.x)(ue,fe=>{ue.next(se.call(oe,fe,he++))}))})}},8189:(ut,be,O)=>{O.d(be,{J:()=>R});var c=O(5577),J=O(4671);function R(se=1/0){return(0,c.z)(J.y,se)}},5577:(ut,be,O)=>{O.d(be,{z:()=>he});var c=O(4004),J=O(8421),R=O(4482),se=O(9672),oe=O(5403),ue=O(576);function he(fe,B,j=1/0){return(0,ue.m)(B)?he((W,Le)=>(0,c.U)((Ae,we)=>B(W,Ae,Le,we))((0,J.Xf)(fe(W,Le))),j):("number"==typeof B&&(j=B),(0,R.e)((W,Le)=>function de(fe,B,j,W,Le,Ae,we,tt){const me=[];let pe=0,Je=0,ot=!1;const Se=()=>{ot&&!me.length&&!pe&&B.complete()},_e=Be=>pe<W?Ie(Be):me.push(Be),Ie=Be=>{Ae&&B.next(Be),pe++;let je=!1;(0,J.Xf)(j(Be,Je++)).subscribe((0,oe.x)(B,U=>{Le?.(U),Ae?_e(U):B.next(U)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;me.length&&pe<W;){const U=me.shift();we?(0,se.f)(B,we,()=>Ie(U)):Ie(U)}Se()}catch(U){B.error(U)}}))};return fe.subscribe((0,oe.x)(B,_e,()=>{ot=!0,Se()})),()=>{tt?.()}}(W,Le,fe,j)))}},5363:(ut,be,O)=>{O.d(be,{Q:()=>se});var c=O(9672),J=O(4482),R=O(5403);function se(oe,de=0){return(0,J.e)((ue,he)=>{ue.subscribe((0,R.x)(he,fe=>(0,c.f)(he,oe,()=>he.next(fe),de),()=>(0,c.f)(he,oe,()=>he.complete(),de),fe=>(0,c.f)(he,oe,()=>he.error(fe),de)))})}},3099:(ut,be,O)=>{O.d(be,{B:()=>oe});var c=O(8421),J=O(7579),R=O(930),se=O(4482);function oe(ue={}){const{connector:he=(()=>new J.x),resetOnError:fe=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=ue;return W=>{let Le,Ae,we,tt=0,me=!1,pe=!1;const Je=()=>{Ae?.unsubscribe(),Ae=void 0},ot=()=>{Je(),Le=we=void 0,me=pe=!1},Se=()=>{const _e=Le;ot(),_e?.unsubscribe()};return(0,se.e)((_e,Ie)=>{tt++,!pe&&!me&&Je();const Be=we=we??he();Ie.add(()=>{tt--,0===tt&&!pe&&!me&&(Ae=de(Se,j))}),Be.subscribe(Ie),!Le&&tt>0&&(Le=new R.Hp({next:je=>Be.next(je),error:je=>{pe=!0,Je(),Ae=de(ot,fe,je),Be.error(je)},complete:()=>{me=!0,Je(),Ae=de(ot,B),Be.complete()}}),(0,c.Xf)(_e).subscribe(Le))})(W)}}function de(ue,he,...fe){if(!0===he)return void ue();if(!1===he)return;const B=new R.Hp({next:()=>{B.unsubscribe(),ue()}});return he(...fe).subscribe(B)}},9468:(ut,be,O)=>{O.d(be,{R:()=>J});var c=O(4482);function J(R,se=0){return(0,c.e)((oe,de)=>{de.add(R.schedule(()=>oe.subscribe(de),se))})}},8505:(ut,be,O)=>{O.d(be,{b:()=>oe});var c=O(576),J=O(4482),R=O(5403),se=O(4671);function oe(de,ue,he){const fe=(0,c.m)(de)||ue||he?{next:de,error:ue,complete:he}:de;return fe?(0,J.e)((B,j)=>{var W;null===(W=fe.subscribe)||void 0===W||W.call(fe);let Le=!0;B.subscribe((0,R.x)(j,Ae=>{var we;null===(we=fe.next)||void 0===we||we.call(fe,Ae),j.next(Ae)},()=>{var Ae;Le=!1,null===(Ae=fe.complete)||void 0===Ae||Ae.call(fe),j.complete()},Ae=>{var we;Le=!1,null===(we=fe.error)||void 0===we||we.call(fe,Ae),j.error(Ae)},()=>{var Ae,we;Le&&(null===(Ae=fe.unsubscribe)||void 0===Ae||Ae.call(fe)),null===(we=fe.finalize)||void 0===we||we.call(fe)}))}):se.y}},4408:(ut,be,O)=>{O.d(be,{o:()=>oe});var c=O(727);class J extends c.w0{constructor(ue,he){super()}schedule(ue,he=0){return this}}const R={setInterval(de,ue,...he){const{delegate:fe}=R;return fe?.setInterval?fe.setInterval(de,ue,...he):setInterval(de,ue,...he)},clearInterval(de){const{delegate:ue}=R;return(ue?.clearInterval||clearInterval)(de)},delegate:void 0};var se=O(8737);class oe extends J{constructor(ue,he){super(ue,he),this.scheduler=ue,this.work=he,this.pending=!1}schedule(ue,he=0){var fe;if(this.closed)return this;this.state=ue;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,he)),this.pending=!0,this.delay=he,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(j,this.id,he),this}requestAsyncId(ue,he,fe=0){return R.setInterval(ue.flush.bind(ue,this),fe)}recycleAsyncId(ue,he,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return he;null!=he&&R.clearInterval(he)}execute(ue,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ue,he);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,he){let B,fe=!1;try{this.work(ue)}catch(j){fe=!0,B=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ue,scheduler:he}=this,{actions:fe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(fe,this),null!=ue&&(this.id=this.recycleAsyncId(he,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,be,O)=>{O.d(be,{v:()=>R});var c=O(6063);class J{constructor(oe,de=J.now){this.schedulerActionCtor=oe,this.now=de}schedule(oe,de=0,ue){return new this.schedulerActionCtor(this,oe).schedule(ue,de)}}J.now=c.l.now;class R extends J{constructor(oe,de=J.now){super(oe,de),this.actions=[],this._active=!1}flush(oe){const{actions:de}=this;if(this._active)return void de.push(oe);let ue;this._active=!0;do{if(ue=oe.execute(oe.state,oe.delay))break}while(oe=de.shift());if(this._active=!1,ue){for(;oe=de.shift();)oe.unsubscribe();throw ue}}}},4986:(ut,be,O)=>{O.d(be,{P:()=>se,z:()=>R});var c=O(4408);const R=new(O(7565).v)(c.o),se=R},6063:(ut,be,O)=>{O.d(be,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ut,be,O)=>{O.d(be,{z:()=>c});const c={setTimeout(J,R,...se){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(J,R,...se):setTimeout(J,R,...se)},clearTimeout(J){const{delegate:R}=c;return(R?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(ut,be,O)=>{O.d(be,{h:()=>J});const J=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,be,O)=>{O.d(be,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,be,O)=>{O.d(be,{_6:()=>de,jO:()=>se,yG:()=>oe});var c=O(576),J=O(3532);function R(ue){return ue[ue.length-1]}function se(ue){return(0,c.m)(R(ue))?ue.pop():void 0}function oe(ue){return(0,J.K)(R(ue))?ue.pop():void 0}function de(ue,he){return"number"==typeof R(ue)?ue.pop():he}},8737:(ut,be,O)=>{function c(J,R){if(J){const se=J.indexOf(R);0<=se&&J.splice(se,1)}}O.d(be,{P:()=>c})},3888:(ut,be,O)=>{function c(J){const se=J(oe=>{Error.call(oe),oe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(be,{d:()=>c})},2806:(ut,be,O)=>{O.d(be,{O:()=>se,x:()=>R});var c=O(2416);let J=null;function R(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const de=!J;if(de&&(J={errorThrown:!1,error:null}),oe(),de){const{errorThrown:ue,error:he}=J;if(J=null,ue)throw he}}else oe()}function se(oe){c.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=oe)}},9672:(ut,be,O)=>{function c(J,R,se,oe=0,de=!1){const ue=R.schedule(function(){se(),de?J.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(J.add(ue),!de)return ue}O.d(be,{f:()=>c})},4671:(ut,be,O)=>{function c(J){return J}O.d(be,{y:()=>c})},1144:(ut,be,O)=>{O.d(be,{z:()=>c});const c=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(ut,be,O)=>{O.d(be,{D:()=>J});var c=O(576);function J(R){return Symbol.asyncIterator&&(0,c.m)(R?.[Symbol.asyncIterator])}},576:(ut,be,O)=>{function c(J){return"function"==typeof J}O.d(be,{m:()=>c})},3670:(ut,be,O)=>{O.d(be,{c:()=>R});var c=O(8822),J=O(576);function R(se){return(0,J.m)(se[c.L])}},6495:(ut,be,O)=>{O.d(be,{T:()=>R});var c=O(2202),J=O(576);function R(se){return(0,J.m)(se?.[c.h])}},8239:(ut,be,O)=>{O.d(be,{t:()=>J});var c=O(576);function J(R){return(0,c.m)(R?.then)}},3260:(ut,be,O)=>{O.d(be,{L:()=>se,Q:()=>R});var c=O(655),J=O(576);function R(oe){return(0,c.FC)(this,arguments,function*(){const ue=oe.getReader();try{for(;;){const{value:he,done:fe}=yield(0,c.qq)(ue.read());if(fe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{ue.releaseLock()}})}function se(oe){return(0,J.m)(oe?.getReader)}},3532:(ut,be,O)=>{O.d(be,{K:()=>J});var c=O(576);function J(R){return R&&(0,c.m)(R.schedule)}},4482:(ut,be,O)=>{O.d(be,{A:()=>J,e:()=>R});var c=O(576);function J(se){return(0,c.m)(se?.lift)}function R(se){return oe=>{if(J(oe))return oe.lift(function(de){try{return se(de,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,be,O)=>{function c(){}O.d(be,{Z:()=>c})},9635:(ut,be,O)=>{O.d(be,{U:()=>R,z:()=>J});var c=O(4671);function J(...se){return R(se)}function R(se){return 0===se.length?c.y:1===se.length?se[0]:function(de){return se.reduce((ue,he)=>he(ue),de)}}},7849:(ut,be,O)=>{O.d(be,{h:()=>R});var c=O(2416),J=O(3410);function R(se){J.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw se;oe(se)})}},4532:(ut,be,O)=>{function c(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(be,{z:()=>c})},655:(ut,be,O)=>{function se(Z,Q){var re={};for(var ne in Z)Object.prototype.hasOwnProperty.call(Z,ne)&&Q.indexOf(ne)<0&&(re[ne]=Z[ne]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ne=Object.getOwnPropertySymbols(Z);Pe<ne.length;Pe++)Q.indexOf(ne[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Z,ne[Pe])&&(re[ne[Pe]]=Z[ne[Pe]])}return re}function he(Z,Q,re,ne){return new(re||(re=Promise))(function(Oe,pt){function Kt(on){try{We(ne.next(on))}catch(pn){pt(pn)}}function Bt(on){try{We(ne.throw(on))}catch(pn){pt(pn)}}function We(on){on.done?Oe(on.value):function Pe(Oe){return Oe instanceof re?Oe:new re(function(pt){pt(Oe)})}(on.value).then(Kt,Bt)}We((ne=ne.apply(Z,Q||[])).next())})}function me(Z){return this instanceof me?(this.v=Z,this):new me(Z)}function pe(Z,Q,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ne=re.apply(Z,Q||[]),Oe=[];return Pe={},pt("next"),pt("throw"),pt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function pt(zt){ne[zt]&&(Pe[zt]=function(Yt){return new Promise(function(Sr,Rt){Oe.push([zt,Yt,Sr,Rt])>1||Kt(zt,Yt)})})}function Kt(zt,Yt){try{!function Bt(zt){zt.value instanceof me?Promise.resolve(zt.value.v).then(We,on):pn(Oe[0][2],zt)}(ne[zt](Yt))}catch(Sr){pn(Oe[0][3],Sr)}}function We(zt){Kt("next",zt)}function on(zt){Kt("throw",zt)}function pn(zt,Yt){zt(Yt),Oe.shift(),Oe.length&&Kt(Oe[0][0],Oe[0][1])}}function ot(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,Q=Z[Symbol.asyncIterator];return Q?Q.call(Z):(Z=function W(Z){var Q="function"==typeof Symbol&&Symbol.iterator,re=Q&&Z[Q],ne=0;if(re)return re.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ne>=Z.length&&(Z=void 0),{value:Z&&Z[ne++],done:!Z}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),re={},ne("next"),ne("throw"),ne("return"),re[Symbol.asyncIterator]=function(){return this},re);function ne(Oe){re[Oe]=Z[Oe]&&function(pt){return new Promise(function(Kt,Bt){!function Pe(Oe,pt,Kt,Bt){Promise.resolve(Bt).then(function(We){Oe({value:We,done:Kt})},pt)}(Kt,Bt,(pt=Z[Oe](pt)).done,pt.value)})}}}O.d(be,{FC:()=>pe,KL:()=>ot,_T:()=>se,mG:()=>he,qq:()=>me})},4650:(ut,be,O)=>{O.d(be,{$8M:()=>ku,$Z:()=>CC,AFp:()=>vh,ALo:()=>ol,AaK:()=>he,AsE:()=>Ic,BQk:()=>Vf,CHM:()=>fu,CRH:()=>Lv,CZH:()=>Vc,CqO:()=>Gg,D6c:()=>xh,DdM:()=>JI,EJc:()=>sp,EpF:()=>oI,F$t:()=>Kg,F4k:()=>B_,FYo:()=>S,FiY:()=>Ne,G48:()=>Ur,GfV:()=>Ve,Gpc:()=>j,Hsn:()=>uI,JOm:()=>Bo,KtG:()=>pu,LFG:()=>dn,LSH:()=>Ed,Lbi:()=>TE,Lck:()=>KI,MAs:()=>Bg,MMx:()=>as,NdJ:()=>Zg,O4$:()=>Fl,OlP:()=>fn,Oqu:()=>om,PXZ:()=>OE,Q6J:()=>jg,QGY:()=>Hg,QP$:()=>Wt,Qsj:()=>N,R0b:()=>li,RDi:()=>jp,Rgc:()=>hh,SBq:()=>f,Sil:()=>AE,Suo:()=>uE,TTD:()=>qi,TgZ:()=>mc,VKq:()=>_r,W1O:()=>Fm,WLB:()=>XI,X6Q:()=>l0,XFs:()=>Ke,Xpm:()=>Ce,Xts:()=>uf,Y36:()=>bf,YKP:()=>Sv,YNc:()=>iI,Yjl:()=>ve,Yz7:()=>Yt,Z0I:()=>Hi,ZZ4:()=>Ah,_Bn:()=>Ui,_UZ:()=>Lf,_Vd:()=>Na,_c5:()=>eb,_uU:()=>eh,aQg:()=>iy,c2e:()=>UD,cJS:()=>Rt,cg1:()=>dv,dDg:()=>Eh,dqk:()=>sn,eFA:()=>FE,ekj:()=>zr,eoX:()=>RE,f3M:()=>C,g9A:()=>Kv,h0i:()=>nl,hGG:()=>hl,hij:()=>wc,iGM:()=>Za,ifc:()=>lt,ip1:()=>DE,jDz:()=>ah,kL8:()=>nh,kcU:()=>sd,lG2:()=>q,lcZ:()=>Ha,lqb:()=>br,lri:()=>NE,n5z:()=>Ji,n_E:()=>al,oAB:()=>Ft,oxw:()=>Fr,q4F:()=>Qe,qLn:()=>pf,qOj:()=>Hd,qZA:()=>Kd,rWj:()=>Uc,sBO:()=>cl,sIi:()=>Gd,s_b:()=>vr,soG:()=>zm,tb:()=>SE,tp0:()=>vt,uIk:()=>F_,vHH:()=>we,vpe:()=>go,wAp:()=>wt,xp6:()=>vw,ynx:()=>Yd,z2F:()=>Ym,zSh:()=>Uu,zs3:()=>uc});var c=O(7579),J=O(727),R=O(9751),se=O(6451),oe=O(3099);function de(i){for(let s in i)if(i[s]===de)return s;throw Error("Could not find renamed property on target object.")}function ue(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=de({__forward_ref__:de});function j(i){return i.__forward_ref__=j,i.toString=function(){return he(this())},i}function W(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===j}class we extends Error{constructor(s,a){super(function tt(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i,s){throw new we(-201,!1)}function Bt(i,s){null==i&&function We(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Rt(i){return{providers:i.providers||[],imports:i.imports||[]}}function un(i){return di(i,hi)||di(i,Jr)}function Hi(i){return null!==un(i)}function di(i,s){return i.hasOwnProperty(s)?i[s]:null}function $s(i){return i&&(i.hasOwnProperty(Qr)||i.hasOwnProperty(ea))?i[Qr]:null}const hi=de({\u0275prov:de}),Qr=de({\u0275inj:de}),Jr=de({ngInjectableDef:de}),ea=de({ngInjectorDef:de});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let wr;function zn(i){const s=wr;return wr=i,s}function Xr(i,s,a){const l=un(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ke.Optional?null:void 0!==s?s:void _e(he(i))}function Mn(i){return{toString:i}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),lt=(()=>{return(i=lt||(lt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",lt;var i})();const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jr={},At=[],ps=de({\u0275cmp:de}),Jt=de({\u0275dir:de}),Di=de({\u0275pipe:de}),Xt=de({\u0275mod:de}),Wn=de({\u0275fac:de}),xr=de({__NG_ELEMENT_ID__:de});let et=0;function Ce(i){return Mn(()=>{const a=!0===i.standalone,l={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||At,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||lt.Emulated,id:"c"+et++,styles:i.styles||At,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,_=i.features;return h.inputs=L(i.inputs,l),h.outputs=L(i.outputs),_&&_.forEach(I=>I(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Et).filter(_t):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(ct).filter(_t):null,h})}function Et(i){return Y(i)||He(i)}function _t(i){return null!==i}function Ft(i){return Mn(()=>({type:i.type,bootstrap:i.bootstrap||At,declarations:i.declarations||At,imports:i.imports||At,exports:i.exports||At,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function L(i,s){if(null==i)return jr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,s&&(s[h]=p)}return a}const q=Ce;function ve(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Y(i){return i[ps]||null}function He(i){return i[Jt]||null}function ct(i){return i[Di]||null}function Wt(i){const s=Y(i)||He(i)||ct(i);return null!==s&&s.standalone}function cn(i,s){const a=i[Xt]||null;if(!a&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return a}function ir(i){return Array.isArray(i)&&"object"==typeof i[1]}function Mr(i){return Array.isArray(i)&&!0===i[1]}function tu(i){return 0!=(8&i.flags)}function na(i){return 2==(2&i.flags)}function wl(i){return 1==(1&i.flags)}function Ir(i){return null!==i.template}function Bh(i){return 0!=(256&i[2])}function Si(i,s){return i.hasOwnProperty(Wn)?i[Wn]:null}class Zi{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function qi(){return zs}function zs(i){return i.type.prototype.ngOnChanges&&(i.setInput=iu),ra}function ra(){const i=Hh(this),s=i?.current;if(s){const a=i.previous;if(a===jr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function iu(i,s,a,l){const h=Hh(i)||function Is(i,s){return i[Cl]=s}(i,{previous:jr,current:null}),p=h.current||(h.current={}),_=h.previous,I=this.declaredInputs[a],E=_[I];p[I]=new Zi(E&&E.currentValue,s,_===jr),i[l]=s}qi.ngInherit=!0;const Cl="__ngSimpleChanges__";function Hh(i){return i[Cl]||null}function Dn(i){for(;Array.isArray(i);)i=i[0];return i}function ti(i,s){return Dn(s[i])}function kr(i,s){return Dn(s[i.index])}function _o(i,s){return i.data[s]}function Wi(i,s){return i[s]}function qt(i,s){const a=s[i];return ir(a)?a:a[0]}function Ws(i){return 64==(64&i[2])}function pi(i,s){return null==s?null:i[s]}function lu(i){i[18]=0}function En(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Dt={lFrame:Ol(null),bindingsEnabled:!0};function Ki(){return Dt.bindingsEnabled}function De(){return Dt.lFrame.lView}function Ht(){return Dt.lFrame.tView}function fu(i){return Dt.lFrame.contextLView=i,i[8]}function pu(i){return Dt.lFrame.contextLView=null,i}function Tn(){let i=gu();for(;null!==i&&64===i.type;)i=i.parent;return i}function gu(){return Dt.lFrame.currentTNode}function ni(i,s){const a=Dt.lFrame;a.currentTNode=i,a.isParent=s}function sa(){return Dt.lFrame.isParent}function oa(){Dt.lFrame.isParent=!1}function Sn(){const i=Dt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ks(){return Dt.lFrame.bindingIndex++}function Yi(i){const s=Dt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Rp(i,s){const a=Dt.lFrame;a.bindingIndex=a.bindingRootIndex=i,mu(s)}function mu(i){Dt.lFrame.currentDirectiveIndex=i}function kl(){return Dt.lFrame.currentQueryIndex}function ca(i){Dt.lFrame.currentQueryIndex=i}function Nl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function yu(i,s,a){if(a&Ke.SkipSelf){let h=s,p=i;for(;!(h=h.parent,null!==h||a&Ke.Host||(h=Nl(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;s=h,i=p}const l=Dt.lFrame=Rl();return l.currentTNode=s,l.lView=i,!0}function _u(i){const s=Rl(),a=i[1];Dt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Rl(){const i=Dt.lFrame,s=null===i?null:i.child;return null===s?Ol(i):s}function Ol(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Pl(){const i=Dt.lFrame;return Dt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const id=Pl;function Ys(){const i=Pl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Qn(){return Dt.lFrame.selectedIndex}function Gr(i){Dt.lFrame.selectedIndex=i}function mn(){const i=Dt.lFrame;return _o(i.tView,i.selectedIndex)}function Fl(){Dt.lFrame.currentNamespace="svg"}function sd(){!function Vl(){Dt.lFrame.currentNamespace=null}()}function Iu(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Js(i,s,a){Io(i,s,3,a)}function wo(i,s,a,l){(3&i[2])===a&&Io(i,s,a,l)}function ad(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Io(i,s,a,l){const p=l??-1,_=s.length-1;let I=0;for(let E=void 0!==l?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(I=s[E],null!=l&&I>=l)break}else s[E]<0&&(i[18]+=65536),(I<p||-1==p)&&(ud(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function ud(i,s,a,l){const h=a[l]<0,p=a[l+1],I=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(I)}finally{}}}else try{p.call(I)}finally{}}class bs{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function bo(i,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],_=a[l++],I=a[l++];i.setAttribute(s,_,I,p)}else{const p=h,_=a[++l];Du(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),l++}}return l}function eo(i){return 3===i||4===i||6===i}function Du(i){return 64===i.charCodeAt(0)}function da(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||cd(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function cd(i,s,a,l,h){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const I=i[p++];if("number"==typeof I){if(I===s){_=-1;break}if(I>s){_=p-1;break}}}for(;p<i.length;){const I=i[p];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==h&&(i[p+1]=h));if(l===i[p+1])return void(i[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==h&&i.splice(p++,0,h)}function dd(i){return-1!==i}function sr(i){return 32767&i}function fa(i,s){let a=function ha(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let xi=!0;function pa(i){const s=xi;return xi=i,s}let kn=0;const gi={};function to(i,s){const a=Su(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ma(l.data,i),ma(s,null),ma(l.blueprint,null));const h=Au(i,s),p=i.injectorIndex;if(dd(h)){const _=sr(h),I=fa(h,s),E=I[1].data;for(let T=0;T<8;T++)s[p+T]=I[_+T]|E[_+T]}return s[p+8]=h,p}function ma(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Su(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Au(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=To(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Cs(i,s,a){!function Tu(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(xr)&&(l=a[xr]),null==l&&(l=a[xr]=kn++);const h=255&l;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function Ds(i,s,a){if(a&Ke.Optional||void 0!==i)return i;_e()}function Bl(i,s,a,l){if(a&Ke.Optional&&void 0===l&&(l=null),0==(a&(Ke.Self|Ke.Host))){const h=i[9],p=zn(void 0);try{return h?h.get(s,l,a&Ke.Optional):Xr(s,l,a&Ke.Optional)}finally{zn(p)}}return Ds(l,0,a)}function no(i,s,a,l=Ke.Default,h){if(null!==i){if(1024&s[2]){const _=function Do(i,s,a,l,h){let p=i,_=s;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const I=ya(p,_,a,l|Ke.Self,gi);if(I!==gi)return I;let E=p.parent;if(!E){const T=_[21];if(T){const M=T.get(a,gi,l);if(M!==gi)return M}E=To(_),_=_[15]}p=E}return h}(i,s,a,l,gi);if(_!==gi)return _}const p=ya(i,s,a,l,gi);if(p!==gi)return p}return Bl(s,a,l,h)}function ya(i,s,a,l,h){const p=function jl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(xr)?i[xr]:void 0;return"number"==typeof s?s>=0?255&s:$l:s}(a);if("function"==typeof p){if(!yu(s,i,l))return l&Ke.Host?Ds(h,0,l):Bl(s,a,l,h);try{const _=p(l);if(null!=_||l&Ke.Optional)return _;_e()}finally{id()}}else if("number"==typeof p){let _=null,I=Su(i,s),E=-1,T=l&Ke.Host?s[16][6]:null;for((-1===I||l&Ke.SkipSelf)&&(E=-1===I?Au(i,s):s[I+8],-1!==E&&_a(l,!1)?(_=s[1],I=sr(E),s=fa(E,s)):I=-1);-1!==I;){const M=s[1];if(xu(p,I,M.data)){const P=pd(I,s,a,_,l,T);if(P!==gi)return P}E=s[I+8],-1!==E&&_a(l,s[1].data[I+8]===T)&&xu(p,I,s)?(_=M,I=sr(E),s=fa(E,s)):I=-1}}return h}function pd(i,s,a,l,h,p){const _=s[1],I=_.data[i+8],M=Co(I,_,a,null==l?na(I)&&xi:l!=_&&0!=(3&I.type),h&Ke.Host&&p===I);return null!==M?Qi(s,_,M,I):gi}function Co(i,s,a,l,h){const p=i.providerIndexes,_=s.data,I=1048575&p,E=i.directiveStart,M=p>>20,H=h?I+M:i.directiveEnd;for(let X=l?I:I+M;X<H;X++){const ce=_[X];if(X<E&&a===ce||X>=E&&ce.type===a)return X}if(h){const X=_[E];if(X&&Ir(X)&&X.type===a)return E}return null}function Qi(i,s,a,l){let h=i[a];const p=s.data;if(function Xs(i){return i instanceof bs}(h)){const _=h;_.resolving&&function Je(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new we(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}(p[a]));const I=pa(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?zn(_.injectImpl):null;yu(i,l,Ke.Default);try{h=i[a]=_.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function od(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(l){const _=zs(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==E&&zn(E),pa(I),_.resolving=!1,id()}}return h}function xu(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function _a(i,s){return!(i&Ke.Self||i&Ke.Host&&s)}class ro{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return no(this._tNode,this._lView,s,l,a)}}function $l(){return new ro(Tn(),De())}function Ji(i){return Mn(()=>{const s=i.prototype.constructor,a=s[Wn]||Mu(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const p=h[Wn]||Mu(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Mu(i){return Le(i)?()=>{const s=Mu(W(i));return s&&s()}:Si(i)}function To(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function ku(i){return function fd(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(eo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(Tn(),i)}const Ts="__parameters__";function xo(i,s,a){return Mn(()=>{const l=function Nu(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return I.annotation=_,I;function I(E,T,M){const P=E.hasOwnProperty(Ts)?E[Ts]:Object.defineProperty(E,Ts,{value:[]})[Ts];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _n(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),_n(l,s)):s!==i&&s.push(l)}return s}function yi(i,s){i.forEach(a=>Array.isArray(a)?yi(a,s):s(a))}function wa(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Er(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ss(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function it(i,s,a){let l=xs(i,s);return l>=0?i[1|l]=a:(l=~l,function Gl(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Ea(i,s){const a=xs(i,s);if(a>=0)return i[1|a]}function xs(i,s){return function ko(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=i[p<<a];if(s===_)return p<<a;_>s?h=p:l=p+1}return~(h<<a)}(i,s,1)}const _i={},zl="__NG_DI_FLAG__",Ro="ngTempTokenPath",es=/\n/gm,hr="__source";let ks;function ts(i){const s=ks;return ks=i,s}function Nn(i,s=Ke.Default){if(void 0===ks)throw new we(-203,!1);return null===ks?Xr(i,void 0,s):ks.get(i,s&Ke.Optional?null:void 0,s)}function dn(i,s=Ke.Default){return(function fs(){return wr}()||Nn)(W(i),s)}function C(i,s=Ke.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),dn(i,s)}function D(i){const s=[];for(let a=0;a<i.length;a++){const l=W(i[a]);if(Array.isArray(l)){if(0===l.length)throw new we(900,!1);let h,p=Ke.Default;for(let _=0;_<l.length;_++){const I=l[_],E=F(I);"number"==typeof E?-1===E?h=I.token:p|=E:h=I}s.push(dn(h,p))}else s.push(dn(l))}return s}function x(i,s){return i[zl]=s,i.prototype[zl]=s,i}function F(i){return i[zl]}const Ne=x(xo("Optional"),8),vt=x(xo("SkipSelf"),4);let Xh;function jp(i){Xh=i}class _d{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ri(i){return i instanceof _d?i.changingThisBreaksApplicationSecurity:i}const Aa=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Rn=(()=>((Rn=Rn||{})[Rn.NONE=0]="NONE",Rn[Rn.HTML=1]="HTML",Rn[Rn.STYLE=2]="STYLE",Rn[Rn.SCRIPT=3]="SCRIPT",Rn[Rn.URL=4]="URL",Rn[Rn.RESOURCE_URL=5]="RESOURCE_URL",Rn))();function Ed(i){const s=function Vu(){const i=De();return i&&i[12]}();return s?s.sanitize(Rn.URL,i)||"":function Po(i,s){const a=function tf(i){return i instanceof _d&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Ri(i):function Yl(i){return(i=String(i)).match(Aa)?i:"unsafe:"+i}(me(i))}const uf=new fn("ENVIRONMENT_INITIALIZER"),Xp=new fn("INJECTOR",-1),eg=new fn("INJECTOR_DEF_TYPES");class tg{get(s,a=_i){if(a===_i){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return a}}function ng(...i){return{\u0275providers:Td(0,i)}}function Td(i,...s){const a=[],l=new Set;let h;return yi(s,p=>{const _=p;Xl(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&Sd(h,a),a}function Sd(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];yi(h,p=>{s.push(p)})}}function Xl(i,s,a,l){if(!(i=W(i)))return!1;let h=null,p=$s(i);const _=!p&&Y(i);if(p||_){if(_&&!_.standalone)return!1;h=i}else{const E=i.ngModule;if(p=$s(E),!p)return!1;h=E}const I=l.has(h);if(_){if(I)return!1;if(l.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of E)Xl(T,s,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!I){let T;l.add(h);try{yi(p.imports,M=>{Xl(M,s,a,l)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&Sd(T,s)}if(!I){const T=Si(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:At},{provide:eg,useValue:h,multi:!0},{provide:uf,useValue:()=>dn(h),multi:!0})}const E=p.providers;null==E||I||yi(E,M=>{s.push(M)})}}return h!==i&&void 0!==i.providers}const Ad=de({provide:String,useValue:de});function ec(i){return null!==i&&"object"==typeof i&&Ad in i}function wi(i){return"function"==typeof i}const Uu=new fn("Set Injector scope."),Bu={},Ps={};let tc;function xd(){return void 0===tc&&(tc=new tg),tc}class br{}class Md extends br{constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vo(s,_=>this.processProvider(_)),this.records.set(Xp,ar(void 0,this)),h.has("environment")&&this.records.set(br,ar(void 0,this));const p=this.records.get(Uu);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(eg.multi,At,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=ts(this),l=zn(void 0);try{return s()}finally{ts(a),zn(l)}}get(s,a=_i,l=Ke.Default){this.assertNotDestroyed();const h=ts(this),p=zn(void 0);try{if(!(l&Ke.SkipSelf)){let I=this.records.get(s);if(void 0===I){const E=function Ry(i){return"function"==typeof i||"object"==typeof i&&i instanceof fn}(s)&&un(s);I=E&&this.injectableDefInScope(E)?ar(nc(s),Bu):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(l&Ke.Self?xd():this.parent).get(s,a=l&Ke.Optional&&a===_i?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ro]=_[Ro]||[]).unshift(he(s)),h)throw _;return function K(i,s,a,l){const h=i[Ro];throw s[hr]&&h.unshift(s[hr]),i.message=function te(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let I=s[_];p.push(_+":"+("string"==typeof I?JSON.stringify(I):he(I)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(es,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[Ro]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{zn(p),ts(h)}}resolveInjectorInitializers(){const s=ts(this),a=zn(void 0);try{const l=this.get(uf.multi,At,Ke.Self);for(const h of l)h()}finally{ts(s),zn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(he(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(s){let a=wi(s=W(s))?s:W(s&&s.provide);const l=function lf(i){return ec(i)?ar(void 0,i.useValue):ar(rc(i),Bu)}(s);if(wi(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=ar(void 0,Bu,!0),h.factory=()=>D(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Bu&&(a.value=Ps,a.value=a.factory()),"object"==typeof a.value&&a.value&&function cf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=W(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function nc(i){const s=un(i),a=null!==s?s.factory:Si(i);if(null!==a)return a;if(i instanceof fn)throw new we(204,!1);if(i instanceof Function)return function ig(i){const s=i.length;if(s>0)throw Ss(s,"?"),new we(204,!1);const a=function Ar(i){const s=i&&(i[hi]||i[Jr]);if(s){const a=function Br(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new we(204,!1)}function rc(i,s,a){let l;if(wi(i)){const h=W(i);return Si(h)||nc(h)}if(ec(i))l=()=>W(i.useValue);else if(function si(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...D(i.deps||[]));else if(function Nr(i){return!(!i||!i.useExisting)}(i))l=()=>dn(W(i.useExisting));else{const h=W(i&&(i.useClass||i.provide));if(!function ka(i){return!!i.deps}(i))return Si(h)||nc(h);l=()=>new h(...D(i.deps))}return l}function ar(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function ns(i){return!!i.\u0275providers}function Vo(i,s){for(const a of i)Array.isArray(a)?Vo(a,s):ns(a)?Vo(a.\u0275providers,s):s(a)}class kd{}class Od{resolveComponentFactory(s){throw function sg(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Na=(()=>{class i{}return i.NULL=new Od,i})();function Oy(){return y(Tn(),De())}function y(i,s){return new f(kr(i,s))}let f=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Oy,i})();function g(i){return i instanceof f?i.nativeElement:i}class S{}let N=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function G(){const i=De(),a=qt(Tn().index,i);return(ir(a)?a:i)[11]}(),i})(),ae=(()=>{class i{}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:()=>null}),i})();class Ve{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Qe=new Ve("14.2.7"),mt={};function Vy(i){return i.ngOriginalError}class pf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Vy(s);for(;a&&Vy(a);)a=Vy(a);return a||null}}const Uy=new Map;let Bb=0;const dg="__ngContext__";function Rr(i,s){ir(s)?(i[dg]=s[20],function $b(i){Uy.set(i[20],i)}(s)):i[dg]=s}function Pa(i){return i instanceof Function?i():i}var Bo=(()=>((Bo=Bo||{})[Bo.Important=1]="Important",Bo[Bo.DashCase=2]="DashCase",Bo))();function Gy(i,s){return undefined(i,s)}function Vd(i){const s=i[3];return Mr(s)?s[3]:s}function pg(i){return nw(i[13])}function gg(i){return nw(i[4])}function nw(i){for(;null!==i&&!Mr(i);)i=i[4];return i}function Ud(i,s,a,l,h){if(null!=l){let p,_=!1;Mr(l)?p=l:ir(l)&&(_=!0,l=l[0]);const I=Dn(l);0===i&&null!==a?null==h?lw(s,a,I):jo(s,a,I,h||null,!0):1===i&&null!==a?jo(s,a,I,h||null,!0):2===i?function nC(i,s,a){const l=_g(i,s);l&&function tC(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,I,_):3===i&&s.destroyNode(I),null!=p&&function hA(i,s,a,l,h){const p=a[7];p!==Dn(a)&&Ud(s,i,l,p,h);for(let I=10;I<a.length;I++){const E=a[I];oc(E[1],E,i,s,l,p)}}(s,i,p,a,h)}}function mg(i,s,a){return i.createElement(s,a)}function ow(i,s){const a=i[9],l=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,En(h,-1)),a.splice(l,1)}function Wy(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&ow(h,l),s>0&&(i[a-1][4]=l[4]);const p=Er(i,10+s);!function zy(i,s){oc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function yf(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&oc(i,s,a,3,null,null),function cA(i){let s=i[13];if(!s)return yg(i[1],i);for(;s;){let a=null;if(ir(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)ir(s)&&yg(s[1],s),s=s[3];null===s&&(s=i),ir(s)&&yg(s[1],s),a=s&&s[4]}s=a}}(s)}}function yg(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Yy(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof bs)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const I=h[p[_]],E=p[_+1];try{E.call(I)}finally{}}else try{p.call(h)}finally{}}}}(i,s),function Ky(i,s){const a=i.cleanup,l=s[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],I="function"==typeof _?_(s):Dn(s[_]),E=l[h=a[p+2]],T=a[p+3];"boolean"==typeof T?I.removeEventListener(a[p],E,T):T>=0?l[h=T]():l[h=-T].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Mr(s[3])){a!==s[3]&&ow(a,s);const l=s[19];null!==l&&l.detachView(i)}!function Hb(i){Uy.delete(i[20])}(s)}}function aw(i,s,a){return function uw(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return kr(l,a)}(i,s.parent,a)}function jo(i,s,a,l,h){i.insertBefore(s,a,l,h)}function lw(i,s,a){i.appendChild(s,a)}function cw(i,s,a,l,h){null!==l?jo(i,s,a,l,h):lw(i,s,a)}function _g(i,s){return i.parentNode(s)}function pr(i,s,a){return Qy(i,s,a)}let Qy=function hw(i,s,a){return 40&i.type?kr(i,a):null};function vf(i,s,a,l){const h=aw(i,l,s),p=s[11],I=pr(l.parent||s[6],l,s);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)cw(p,h,a[E],I,!1);else cw(p,h,a,I,!1)}function vg(i,s){if(null!==s){const a=s.type;if(3&a)return kr(s,i);if(4&a)return fw(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return vg(i,l);{const h=i[s.index];return Mr(h)?fw(-1,h):Dn(h)}}if(32&a)return Gy(s,i)()||Dn(i[s.index]);{const l=Jy(i,s);return null!==l?Array.isArray(l)?l[0]:vg(Vd(i[16]),l):vg(i,s.next)}}return null}function Jy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function fw(i,s){const a=10+i+1;if(a<s.length){const l=s[a],h=l[1].firstChild;if(null!==h)return vg(l,h)}return s[7]}function Xy(i,s,a,l,h,p,_){for(;null!=a;){const I=l[a.index],E=a.type;if(_&&0===s&&(I&&Rr(Dn(I),l),a.flags|=4),64!=(64&a.flags))if(8&E)Xy(i,s,a.child,l,h,p,!1),Ud(s,i,h,I,p);else if(32&E){const T=Gy(a,l);let M;for(;M=T();)Ud(s,i,h,M,p);Ud(s,i,h,I,p)}else 16&E?wf(i,s,l,a,h,p):Ud(s,i,h,I,p);a=_?a.projectionNext:a.next}}function oc(i,s,a,l,h,p){Xy(a,l,i.firstChild,s,h,p,!1)}function wf(i,s,a,l,h,p){const _=a[16],E=_[6].projection[l.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Ud(s,i,h,E[T],p);else Xy(i,s,E,_[3],h,p,!0)}function ac(i,s,a){i.setAttribute(s,"style",a)}function If(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function rC(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=s.length;if(h+p===l||i.charCodeAt(h+p)<=32)return h}a=h+1}}const e_="ng-template";function t_(i,s,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==rC(h.toLowerCase(),s,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function mw(i){return 4===i.type&&i.value!==e_}function sC(i,s,a){return s===(4!==i.type||a?i.value:e_)}function oC(i,s,a){let l=4;const h=i.attrs||[],p=function fA(i){for(let s=0;s<i.length;s++)if(eo(i[s]))return s;return i.length}(h);let _=!1;for(let I=0;I<s.length;I++){const E=s[I];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!sC(i,E,a)||""===E&&1===s.length){if(Fs(l))return!1;_=!0}}else{const T=8&l?E:s[++I];if(8&l&&null!==i.attrs){if(!t_(i.attrs,T,a)){if(Fs(l))return!1;_=!0}continue}const P=aC(8&l?"class":E,h,mw(i),a);if(-1===P){if(Fs(l))return!1;_=!0;continue}if(""!==T){let H;H=P>p?"":h[P+1].toLowerCase();const X=8&l?H:null;if(X&&-1!==rC(X,T,0)||2&l&&T!==H){if(Fs(l))return!1;_=!0}}}}else{if(!_&&!Fs(l)&&!Fs(E))return!1;if(_&&Fs(E))continue;_=!1,l=E|1&l}}return Fs(l)||_}function Fs(i){return 0==(1&i)}function aC(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let p=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function yw(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function uC(i,s,a=!1){for(let l=0;l<s.length;l++)if(oC(i,s[l],a))return!0;return!1}function lC(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let h=0;h<i.length;h++)if(i[h]!==l[h])continue e;return!0}}return!1}function _w(i,s){return i?":not("+s.trim()+")":s}function Ig(i){let s=i[0],a=1,l=2,h="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const I=i[++a];h+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Fs(_)&&(s+=_w(p,h),h=""),l=_,p=p||!Fs(l);a++}return""!==h&&(s+=_w(p,h)),s}const Vt={};function vw(i){ww(Ht(),De(),Qn()+i,!1)}function ww(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Js(s,p,a)}else{const p=i.preOrderHooks;null!==p&&wo(s,p,0,a)}Gr(a)}function Eg(i,s=null,a=null,l){const h=Iw(i,s,a,l);return h.resolveInjectorInitializers(),h}function Iw(i,s=null,a=null,l,h=new Set){const p=[a||At,ng(i)];return l=l||("object"==typeof i?void 0:he(i)),new Md(p,s||xd(),l||null,h)}let uc=(()=>{class i{static create(a,l){if(Array.isArray(a))return Eg({name:""},l,a,"");{const h=a.name??"";return Eg({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=_i,i.NULL=new tg,i.\u0275prov=Yt({token:i,providedIn:"any",factory:()=>dn(Xp)}),i.__NG_ELEMENT_ID__=-1,i})();function bf(i,s=Ke.Default){const a=De();return null===a?dn(i,s):no(Tn(),a,W(i),s)}function CC(){throw new Error("invalid")}function cc(i,s){return i<<17|s<<2}function jt(i){return i>>17&32767}function u_(i){return 2|i}function La(i){return(131068&i)>>2}function gr(i,s){return-131069&i|s<<2}function Bd(i){return 1|i}function Uw(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=i.data[p];ca(h),_.contentQueries(2,s[p],p)}}}function dc(i,s,a,l,h,p,_,I,E,T,M){const P=s.blueprint.slice();return P[0]=h,P[2]=76|l,(null!==M||i&&1024&i[2])&&(P[2]|=1024),lu(P),P[3]=P[15]=i,P[8]=a,P[10]=_||i&&i[10],P[11]=I||i&&i[11],P[12]=E||i&&i[12]||null,P[9]=T||i&&i[9]||null,P[6]=p,P[20]=function jb(){return Bb++}(),P[21]=M,P[16]=2==s.type?i[16]:P,P}function Zu(i,s,a,l,h){let p=i.data[s];if(null===p)p=function Af(i,s,a,l,h){const p=gu(),_=sa(),E=i.data[s]=function OC(i,s,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(i,s,a,l,h),function Np(){return Dt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function vo(){const i=Dt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ni(p,!0),p}function qu(i,s,a,l){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function Sg(i,s,a){_u(s);try{const l=i.viewQuery;null!==l&&Kw(1,l,a);const h=i.template;null!==h&&v_(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Uw(i,s),i.staticViewQueries&&Kw(2,i.viewQuery,a);const p=i.components;null!==p&&function kC(i,s){for(let a=0;a<s.length;a++)$C(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ys()}}function Ag(i,s,a,l){const h=s[2];if(128!=(128&h)){_u(s);try{lu(s),function xl(i){return Dt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&v_(i,s,a,2,l);const _=3==(3&h);if(_){const T=i.preOrderCheckHooks;null!==T&&Js(s,T,null)}else{const T=i.preOrderHooks;null!==T&&wo(s,T,0,null),ad(s,0)}if(function jC(i){for(let s=pg(i);null!==s;s=gg(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(512&h[2])&&En(p,1),h[2]|=512}}}(s),function NA(i){for(let s=pg(i);null!==s;s=gg(s))for(let a=10;a<s.length;a++){const l=s[a],h=l[1];Ws(l)&&Ag(h,l,h.template,l[8])}}(s),null!==i.contentQueries&&Uw(i,s),_){const T=i.contentCheckHooks;null!==T&&Js(s,T)}else{const T=i.contentHooks;null!==T&&wo(s,T,1),ad(s,1)}!function __(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Gr(~h);else{const p=h,_=a[++l],I=a[++l];Rp(_,p),I(2,s[p])}}}finally{Gr(-1)}}(i,s);const I=i.components;null!==I&&function MC(i,s){for(let a=0;a<s.length;a++)RA(i,s[a])}(s,I);const E=i.viewQuery;if(null!==E&&Kw(2,E,l),_){const T=i.viewCheckHooks;null!==T&&Js(s,T)}else{const T=i.viewHooks;null!==T&&wo(s,T,2),ad(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,En(s[3],-1))}finally{Ys()}}}function v_(i,s,a,l,h){const p=Qn(),_=2&l;try{Gr(-1),_&&s.length>22&&ww(i,s,22,!1),a(l,h)}finally{Gr(p)}}function hc(i,s,a){if(tu(s)){const h=s.directiveEnd;for(let p=s.directiveStart;p<h;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function xg(i,s,a){!Ki()||(function Zw(i,s,a,l){const h=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||to(a,s),Rr(l,s);const _=a.initialInputs;for(let I=h;I<p;I++){const E=i.data[I],T=Ir(E);T&&Ww(s,a,E);const M=Qi(s,i,I,a);Rr(M,s),null!==_&&C_(0,I-h,M,E,0,_),T&&(qt(a.index,s)[8]=M)}}(i,s,a,kr(a,s)),128==(128&a.flags)&&function qw(i,s,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,_=function Ml(){return Dt.lFrame.currentDirectiveIndex}();try{Gr(p);for(let I=l;I<h;I++){const E=i.data[I],T=s[I];mu(I),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&LC(E,T)}}finally{Gr(-1),mu(_)}}(i,s,a))}function w_(i,s,a=kr){const l=s.localNames;if(null!==l){let h=s.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],I=-1===_?a(s,i):i[_];i[h++]=I}}}function Bw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=I_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function I_(i,s,a,l,h,p,_,I,E,T){const M=22+l,P=M+h,H=function NC(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Vt);return a}(M,P),X="function"==typeof T?T():T;return H[1]={type:i,blueprint:H,template:a,queries:null,viewQuery:I,declTNode:s,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function jw(i,s,a,l){const h=HC(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&Mf(i).push(l,h.length-1))}function $w(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,h):a[l]=[s,h]}return a}function xf(i,s){const l=s.directiveEnd,h=i.data,p=s.attrs,_=[];let I=null,E=null;for(let T=s.directiveStart;T<l;T++){const M=h[T],P=M.inputs,H=null===p||mw(s)?null:D_(P,p);_.push(H),I=$w(P,T,I),E=$w(M.outputs,T,E)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=I,s.outputs=E}function Mg(i,s){const a=qt(s,i);16&a[2]||(a[2]|=32)}function kg(i,s,a,l){let h=!1;if(Ki()){const p=function VC(i,s,a){const l=i.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];uC(a,_.selectors,!1)&&(h||(h=[]),Cs(to(a,s),i,_.type),Ir(_)?(UC(i,a),h.unshift(_)):h.push(_))}return h}(i,s,a),_=null===l?null:{"":-1};if(null!==p){h=!0,BC(a,i.data.length,p.length);for(let M=0;M<p.length;M++){const P=p[M];P.providersResolver&&P.providersResolver(P)}let I=!1,E=!1,T=qu(i,s,p.length,null);for(let M=0;M<p.length;M++){const P=p[M];a.mergedAttrs=da(a.mergedAttrs,P.hostAttrs),zw(i,a,s,T,P),b_(T,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const H=P.type.prototype;!I&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),T++}xf(i,a)}_&&function kA(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new we(-301,!1);l.push(s[h],p)}}}(a,l,_)}return a.mergedAttrs=da(a.mergedAttrs,a.attrs),h}function E_(i,s,a,l,h,p){const _=p.hostBindings;if(_){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const E=~s.index;(function Gw(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=E&&I.push(E),I.push(l,h,_)}}function LC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function UC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function b_(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ir(s)&&(a[""]=i)}}function BC(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function zw(i,s,a,l,h){i.data[l]=h;const p=h.factory||(h.factory=Si(h.type)),_=new bs(p,Ir(h),bf);i.blueprint[l]=_,a[l]=_,E_(i,s,0,l,qu(i,a,h.hostVars,Vt),h)}function Ww(i,s,a){const l=kr(s,i),h=Bw(a),p=i[10],_=S_(i,dc(i,h,null,a.onPush?32:16,l,s,p,p.createRenderer(l,a),null,null,null));i[s.index]=_}function Ho(i,s,a,l,h,p){const _=kr(i,s);!function Ng(i,s,a,l,h,p,_){if(null==p)i.removeAttribute(s,h,a);else{const I=null==_?me(p):_(p,l||"",h);i.setAttribute(s,h,I,a)}}(s[11],_,p,i.value,a,l,h)}function C_(i,s,a,l,h,p){const _=p[s];if(null!==_){const I=l.setInput;for(let E=0;E<_.length;){const T=_[E++],M=_[E++],P=_[E++];null!==I?l.setInput(a,P,T,M):a[M]=P}}}function D_(i,s){let a=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Rg(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function RA(i,s){const a=qt(s,i);if(Ws(a)){const l=a[1];48&a[2]?Ag(l,a,l.template,a[8]):a[5]>0&&T_(a)}}function T_(i){for(let l=pg(i);null!==l;l=gg(l))for(let h=10;h<l.length;h++){const p=l[h];if(Ws(p))if(512&p[2]){const _=p[1];Ag(_,p,_.template,p[8])}else p[5]>0&&T_(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=qt(a[l],i);Ws(h)&&h[5]>0&&T_(h)}}function $C(i,s){const a=qt(s,i),l=a[1];(function OA(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Sg(l,a,a[8])}function S_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function A_(i){for(;i;){i[2]|=32;const s=Vd(i);if(Bh(i)&&!s)return i;i=s}return null}function x_(i,s,a,l=!0){const h=s[10];h.begin&&h.begin();try{Ag(i,s,i.template,a)}catch(_){throw l&&M_(s,_),_}finally{h.end&&h.end()}}function Kw(i,s,a){ca(0),s(i,a)}function HC(i){return i[7]||(i[7]=[])}function Mf(i){return i.cleanup||(i.cleanup=[])}function M_(i,s){const a=i[9],l=a?a.get(pf,null):null;l&&l.handleError(s)}function Og(i,s,a,l,h){for(let p=0;p<a.length;){const _=a[p++],I=a[p++],E=s[_],T=i.data[_];null!==T.setInput?T.setInput(E,h,l,I):E[I]=h}}function Go(i,s,a){const l=ti(s,i);!function rw(i,s,a){i.setValue(s,a)}(i[11],l,a)}function kf(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const I=s[_];"number"==typeof I?p=I:1==p?h=fe(h,I):2==p&&(l=fe(l,I+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function Nf(i,s,a,l,h=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(Dn(p)),Mr(p))for(let I=10;I<p.length;I++){const E=p[I],T=E[1].firstChild;null!==T&&Nf(E[1],E,T,l)}const _=a.type;if(8&_)Nf(i,s,a.child,l);else if(32&_){const I=Gy(a,s);let E;for(;E=I();)l.push(E)}else if(16&_){const I=Jy(s,a);if(Array.isArray(I))l.push(...I);else{const E=Vd(s[16]);Nf(E[1],E,I,l,!0)}}a=h?a.projectionNext:a.next}return l}class $d{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Nf(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Mr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Wy(s,l),Er(a,l))}this._attachedToViewContainer=!1}yf(this._lView[1],this._lView)}onDestroy(s){jw(this._lView[1],this._lView,null,s)}markForCheck(){A_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){x_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sw(i,s){oc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=s}}class Qw extends $d{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;x_(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class zu extends Na{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Y(s);return new Rf(a,this.ngModule)}}function Jw(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class GC{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const h=this.injector.get(s,mt,l);return h!==mt||a===mt?h:this.parentInjector.get(s,a,l)}}class Rf extends kd{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function cC(i){return i.map(Ig).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Jw(this.componentDef.inputs)}get outputs(){return Jw(this.componentDef.outputs)}create(s,a,l,h){let p=(h=h||this.ngModule)instanceof br?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new GC(s,p):s,I=_.get(S,null);if(null===I)throw new we(407,!1);const E=_.get(ae,null),T=I.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=l?function RC(i,s,a){return i.selectRootElement(s,a===lt.ShadowDom)}(T,l,this.componentDef.encapsulation):mg(I.createRenderer(null,this.componentDef),M,function k_(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),H=this.componentDef.onPush?288:272,X=I_(0,null,null,1,0,null,null,null,null,null),ce=dc(null,X,null,H,null,null,I,T,E,_,null);let Fe,Ze;_u(ce);try{const st=function dt(i,s,a,l,h,p){const _=a[1];a[22]=i;const E=Zu(_,22,2,"#host",null),T=E.mergedAttrs=s.hostAttrs;null!==T&&(kf(E,T,!0),null!==i&&(bo(h,i,T),null!==E.classes&&If(h,i,E.classes),null!==E.styles&&ac(h,i,E.styles)));const M=l.createRenderer(i,s),P=dc(a,Bw(s),null,s.onPush?32:16,a[22],E,l,M,p||null,null,null);return _.firstCreatePass&&(Cs(to(E,a),_,s.type),UC(_,E),BC(E,a.length,1)),S_(a,P),a[22]=P}(P,this.componentDef,ce,I,T);if(P)if(l)bo(T,P,["ng-version",Qe.full]);else{const{attrs:yt,classes:Te}=function dC(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===h?""!==p&&s.push(p,i[++l]):8===h&&a.push(p);else{if(!Fs(h))break;h=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);yt&&bo(T,P,yt),Te&&Te.length>0&&If(T,P,Te.join(" "))}if(Ze=_o(X,22),void 0!==a){const yt=Ze.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const Tt=a[Te];yt.push(null!=Tt?Array.from(Tt):null)}}Fe=function N_(i,s,a,l){const h=a[1],p=function FC(i,s,a){const l=Tn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),zw(i,l,s,qu(i,s,1,null),a),xf(i,l));const h=Qi(s,i,l.directiveStart,l);Rr(h,s);const p=kr(l,s);return p&&Rr(p,s),h}(h,a,s);if(i[8]=a[8]=p,null!==l)for(const I of l)I(p,s);if(s.contentQueries){const I=Tn();s.contentQueries(1,p,I.directiveStart)}const _=Tn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Gr(_.index),E_(a[1],_,0,_.directiveStart,_.directiveEnd,s),LC(s,p)),p}(st,this.componentDef,ce,[Ot]),Sg(X,ce,null)}finally{Ys()}return new ZC(this.componentType,Fe,y(Ze,ce),ce,Ze)}}class ZC extends class df{}{constructor(s,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Qw(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const p=this._rootLView;Og(p[1],p,h,s,a),Mg(p,this._tNode.index)}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ot(){const i=Tn();Iu(De()[1],i)}function Hd(i){let s=function Of(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(Ir(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new we(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const _=i;_.inputs=R_(i.inputs),_.declaredInputs=R_(i.declaredInputs),_.outputs=R_(i.outputs);const I=h.hostBindings;I&&zC(i,I);const E=h.viewQuery,T=h.contentQueries;if(E&&O_(i,E),T&&qC(i,T),ue(i.inputs,h.inputs),ue(i.declaredInputs,h.declaredInputs),ue(i.outputs,h.outputs),Ir(h)&&h.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const I=p[_];I&&I.ngInherit&&I(i),I===Hd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Pf(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=da(h.hostAttrs,a=da(a,h.hostAttrs))}}(l)}function R_(i){return i===jr?{}:i===At?[]:i}function O_(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function qC(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,p)=>{s(l,h,p),a(l,h,p)}:s}function zC(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}let mr=null;function Li(){if(!mr){const i=sn.Symbol;if(i&&i.iterator)mr=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(mr=l)}}}return mr}function Gd(i){return!!Or(i)&&(Array.isArray(i)||!(i instanceof Map)&&Li()in i)}function Or(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function is(i,s,a){return i[s]=a}function Pr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Zo(i,s,a,l){const h=Pr(i,s,a);return Pr(i,s+1,l)||h}function F_(i,s,a,l){const h=De();return Pr(h,Ks(),s)&&(Ht(),Ho(mn(),h,i,s,a,l)),F_}function fc(i,s,a,l,h,p){const I=Zo(i,function Ai(){return Dt.lFrame.bindingIndex}(),a,h);return Yi(2),I?s+me(a)+l+me(h)+p:Vt}function iI(i,s,a,l,h,p,_,I){const E=De(),T=Ht(),M=i+22,P=T.firstCreatePass?function YC(i,s,a,l,h,p,_,I,E){const T=s.consts,M=Zu(s,i,4,_||null,pi(T,I));kg(s,a,M,pi(T,E)),Iu(s,M);const P=M.tViews=I_(2,M,l,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,M),P.queries=s.queries.embeddedTView(M)),M}(M,T,E,s,a,l,h,p,_):T.data[M];ni(P,!1);const H=E[11].createComment("");vf(T,E,H,P),Rr(H,E),S_(E,E[M]=Rg(H,E,H,P)),wl(P)&&xg(T,E,P),null!=_&&w_(E,P,I)}function Bg(i){return Wi(function Al(){return Dt.lFrame.contextLView}(),22+i)}function jg(i,s,a){const l=De();return Pr(l,Ks(),s)&&function Fi(i,s,a,l,h,p,_,I){const E=kr(s,a);let M,T=s.inputs;!I&&null!=T&&(M=T[l])?(Og(i,a,M,l,h),na(s)&&Mg(a,s.index)):3&s.type&&(l=function Hw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,s.value||"",l):h,p.setProperty(E,l,h))}(Ht(),mn(),l,i,s,l[11],a,!1),jg}function $g(i,s,a,l,h){const _=h?"class":"style";Og(i,a,s.inputs[_],_,l)}function mc(i,s,a,l){const h=De(),p=Ht(),_=22+i,I=h[11],E=h[_]=mg(I,s,function wu(){return Dt.lFrame.currentNamespace}()),T=p.firstCreatePass?function sI(i,s,a,l,h,p,_){const I=s.consts,T=Zu(s,i,2,h,pi(I,p));return kg(s,a,T,pi(I,_)),null!==T.attrs&&kf(T,T.attrs,!1),null!==T.mergedAttrs&&kf(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,p,h,0,s,a,l):p.data[_];ni(T,!0);const M=T.mergedAttrs;null!==M&&bo(I,E,M);const P=T.classes;null!==P&&If(I,E,P);const H=T.styles;return null!==H&&ac(I,E,H),64!=(64&T.flags)&&vf(p,h,E,T),0===function du(){return Dt.lFrame.elementDepthCount}()&&Rr(E,h),function hu(){Dt.lFrame.elementDepthCount++}(),wl(T)&&(xg(p,h,T),hc(p,T,h)),null!==l&&w_(h,T),mc}function Kd(){let i=Tn();sa()?oa():(i=i.parent,ni(i,!1));const s=i;!function Dl(){Dt.lFrame.elementDepthCount--}();const a=Ht();return a.firstCreatePass&&(Iu(a,i),tu(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Cu(i){return 0!=(16&i.flags)}(s)&&$g(a,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ld(i){return 0!=(32&i.flags)}(s)&&$g(a,s,De(),s.stylesWithoutHost,!1),Kd}function Lf(i,s,a,l){return mc(i,s,a,l),Kd(),Lf}function Yd(i,s,a){const l=De(),h=Ht(),p=i+22,_=h.firstCreatePass?function V_(i,s,a,l,h){const p=s.consts,_=pi(p,l),I=Zu(s,i,8,"ng-container",_);return null!==_&&kf(I,_,!0),kg(s,a,I,pi(p,h)),null!==s.queries&&s.queries.elementStart(s,I),I}(p,h,l,s,a):h.data[p];ni(_,!0);const I=l[p]=l[11].createComment("");return vf(h,l,I,_),Rr(I,l),wl(_)&&(xg(h,l,_),hc(h,_,l)),null!=a&&w_(l,_),Yd}function Vf(){let i=Tn();const s=Ht();return sa()?oa():(i=i.parent,ni(i,!1)),s.firstCreatePass&&(Iu(s,i),tu(i)&&s.queries.elementEnd(i)),Vf}function oI(){return De()}function Hg(i){return!!i&&"function"==typeof i.then}function B_(i){return!!i&&"function"==typeof i.subscribe}const Gg=B_;function Zg(i,s,a,l){const h=De(),p=Ht(),_=Tn();return function qg(i,s,a,l,h,p,_,I){const E=wl(l),M=i.firstCreatePass&&Mf(i),P=s[8],H=HC(s);let X=!0;if(3&l.type||I){const Ze=kr(l,s),st=I?I(Ze):Ze,yt=H.length,Te=I?nn=>I(Dn(nn[l.index])):l.index;let Tt=null;if(!I&&E&&(Tt=function j_(i,s,a,l){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const I=s[7],E=h[p+2];return I.length>E?I[E]:null}"string"==typeof _&&(p+=2)}return null}(i,s,h,l.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=p,Tt.__ngLastListenerFn__=p,X=!1;else{p=Dr(l,s,P,p,!1);const nn=a.listen(st,h,p);H.push(p,nn),M&&M.push(h,Te,yt,yt+1)}}else p=Dr(l,s,P,p,!1);const ce=l.outputs;let Fe;if(X&&null!==ce&&(Fe=ce[h])){const Ze=Fe.length;if(Ze)for(let st=0;st<Ze;st+=2){const Fn=s[Fe[st]][Fe[st+1]].subscribe(p),pl=H.length;H.push(p,Fn),M&&M.push(h,l.index,pl,-(pl+1))}}}(p,h,h[11],_,i,s,0,l),Zg}function zg(i,s,a,l){try{return!1!==a(l)}catch(h){return M_(i,h),!1}}function Dr(i,s,a,l,h){return function p(_){if(_===Function)return l;A_(2&i.flags?qt(i.index,s):s);let E=zg(s,0,l,_),T=p.__ngNextListenerFn__;for(;T;)E=zg(s,0,T,_)&&E,T=T.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function Fr(i=1){return function Qs(i){return(Dt.lFrame.contextLView=function vu(i,s){for(;i>0;)s=s[15],i--;return s}(i,Dt.lFrame.contextLView))[8]}(i)}function Wg(i,s){let a=null;const l=function wg(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===l?uC(i,p,!0):lC(l,p))return h}else a=h}return a}function Kg(i){const s=De()[16][6];if(!s.projection){const l=s.projection=Ss(i?i.length:1,null),h=l.slice();let p=s.child;for(;null!==p;){const _=i?Wg(p,i):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function uI(i,s=0,a){const l=De(),h=Ht(),p=Zu(h,22+i,16,null,a||null);null===p.projection&&(p.projection=s),oa(),64!=(64&p.flags)&&function pw(i,s,a){wf(s[11],0,s,a,aw(i,a,s),pr(a.parent||s[6],a,s))}(h,l,p)}function z_(i,s,a,l,h){const p=i[a+1],_=null===s;let I=l?jt(p):La(p),E=!1;for(;0!==I&&(!1===E||_);){const M=i[I+1];QC(i[I],s)&&(E=!0,i[I+1]=l?Bd(M):u_(M)),I=l?jt(M):La(M)}E&&(i[a+1]=l?u_(p):Bd(p))}function QC(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&xs(i,s)>=0}function zr(i,s){return function os(i,s,a,l){const h=De(),p=Ht(),_=Yi(2);p.firstUpdatePass&&function Jd(i,s,a,l){const h=i.data;if(null===h[a+1]){const p=h[Qn()],_=function J_(i,s){return s>=i.expandoStartIndex}(i,a);(function _I(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!_&&(s=!1),s=function X_(i,s,a,l){const h=function la(i){const s=Dt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=Xd(a=vc(null,i,s,a,l),s.attrs,l),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(a=vc(h,i,s,a,l),null===p){let E=function ev(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==La(l))return i[jt(l)]}(i,s,l);void 0!==E&&Array.isArray(E)&&(E=vc(null,i,s,E[1],l),E=Xd(E,s.attrs,l),function tv(i,s,a,l){i[jt(a?s.classBindings:s.styleBindings)]=l}(i,s,l,E))}else p=function nm(i,s,a){let l;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)l=Xd(l,i[p].hostAttrs,a);return Xd(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,l),function Z_(i,s,a,l,h,p){let _=p?s.classBindings:s.styleBindings,I=jt(_),E=La(_);i[l]=a;let M,T=!1;if(Array.isArray(a)){const P=a;M=P[1],(null===M||xs(P,M)>0)&&(T=!0)}else M=a;if(h)if(0!==E){const H=jt(i[I+1]);i[l+1]=cc(H,I),0!==H&&(i[H+1]=gr(i[H+1],l)),i[I+1]=function xw(i,s){return 131071&i|s<<17}(i[I+1],l)}else i[l+1]=cc(I,0),0!==I&&(i[I+1]=gr(i[I+1],l)),I=l;else i[l+1]=cc(E,0),0===I?I=l:i[E+1]=gr(i[E+1],l),E=l;T&&(i[l+1]=u_(i[l+1])),z_(i,M,l,!0),z_(i,M,l,!1),function q_(i,s,a,l,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&xs(p,s)>=0&&(a[l+1]=Bd(a[l+1]))}(s,M,i,l,p),_=cc(I,E),p?s.classBindings=_:s.styleBindings=_}(h,p,s,a,_,l)}}(p,i,_,l),s!==Vt&&Pr(h,_,s)&&function sm(i,s,a,l,h,p,_,I){if(!(3&s.type))return;const E=i.data,T=E[I+1];jf(function rs(i){return 1==(1&i)}(T)?nv(E,s,a,h,La(T),_):void 0)||(jf(p)||function Fa(i){return 2==(2&i)}(T)&&(p=nv(E,null,a,h,I,_)),function gw(i,s,a,l,h){if(s)h?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Bo.DashCase;null==h?i.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Bo.Important),i.setStyle(a,l,h,p))}}(l,_,ti(Qn(),a),h,p))}(p,p.data[Qn()],h,h[11],i,h[_+1]=function yI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(Ri(i)))),i}(s,a),l,_)}(i,s,null,!0),zr}function vc(i,s,a,l,h){let p=null;const _=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<_&&(p=s[I],l=Xd(l,p.hostAttrs,h),p!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function Xd(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),it(i,_,!!a||s[++p]))}return void 0===i?null:i}function nv(i,s,a,l,h,p){const _=null===s;let I;for(;h>0;){const E=i[h],T=Array.isArray(E),M=T?E[1]:E,P=null===M;let H=a[h+1];H===Vt&&(H=P?At:void 0);let X=P?Ea(H,l):M===l?H:void 0;if(T&&!jf(X)&&(X=Ea(E,l)),jf(X)&&(I=X,_))return I;const ce=i[h+1];h=_?jt(ce):La(ce)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(I=Ea(E,l))}return I}function jf(i){return void 0!==i}function eh(i,s=""){const a=De(),l=Ht(),h=i+22,p=l.firstCreatePass?Zu(l,h,1,s,null):l.data[h],_=a[h]=function qy(i,s){return i.createText(s)}(a[11],s);vf(l,a,_,p),ni(p,!1)}function om(i){return wc("",i,""),om}function wc(i,s,a){const l=De(),h=function ho(i,s,a,l){return Pr(i,Ks(),a)?s+me(a)+l:Vt}(l,i,s,a);return h!==Vt&&Go(l,Qn(),h),wc}function Ic(i,s,a,l,h){const p=De(),_=fc(p,i,s,a,l,h);return _!==Vt&&Go(p,Qn(),_),Ic}const Xu=void 0;var cv=["en",[["a","p"],["AM","PM"],Xu],[["AM","PM"],Xu,Xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xu,"{1} 'at' {0}",Xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AI(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let th={};function dv(i){const s=function qf(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Zf(s);if(a)return a;const l=s.split("-")[0];if(a=Zf(l),a)return a;if("en"===l)return cv;throw new we(701,!1)}function nh(i){return dv(i)[wt.PluralCase]}function Zf(i){return i in th||(th[i]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[i]),th[i]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const wn="en-US";let fv=wn;function Jf(i,s,a,l,h){if(i=W(i),Array.isArray(i))for(let p=0;p<i.length;p++)Jf(i[p],s,a,l,h);else{const p=Ht(),_=De();let I=wi(i)?i:W(i.provide),E=rc(i);const T=Tn(),M=1048575&T.providerIndexes,P=T.directiveStart,H=T.providerIndexes>>20;if(wi(i)||!i.multi){const X=new bs(E,h,bf),ce=oh(I,s,h?M:M+H,P);-1===ce?(Cs(to(T,_),p,I),ja(p,i,s.length),s.push(I),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(X),_.push(X)):(a[ce]=X,_[ce]=X)}else{const X=oh(I,s,M+H,P),ce=oh(I,s,M,M+H),Fe=X>=0&&a[X],Ze=ce>=0&&a[ce];if(h&&!Ze||!h&&!Fe){Cs(to(T,_),p,I);const st=function WI(i,s,a,l,h){const p=new bs(i,a,bf);return p.multi=[],p.index=s,p.componentProviders=0,zI(p,h,l&&!a),p}(h?Xf:vD,a.length,h,l,E);!h&&Ze&&(a[ce].providerFactory=st),ja(p,i,s.length,0),s.push(I),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(st),_.push(st)}else ja(p,i,X>-1?X:ce,zI(a[h?ce:X],E,!h&&l));!h&&l&&Ze&&a[ce].componentProviders++}}}function ja(i,s,a,l){const h=wi(s),p=function rg(i){return!!i.useClass}(s);if(h||p){const E=(p?W(s.useClass):s).prototype.ngOnDestroy;if(E){const T=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const M=T.indexOf(a);-1===M?T.push(a,[l,E]):T[M+1].push(l,E)}else T.push(a,E)}}}function zI(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function oh(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function vD(i,s,a,l){return Dm(this.multi,[])}function Xf(i,s,a,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=Qi(a,a[1],this.providerFactory.index,l);p=I.slice(0,_),Dm(h,p);for(let E=_;E<I.length;E++)p.push(I[E])}else p=[],Dm(h,p);return p}function Dm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Ui(i,s=[]){return a=>{a.providersResolver=(l,h)=>function Cm(i,s,a){const l=Ht();if(l.firstCreatePass){const h=Ir(i);Jf(a,l.data,l.blueprint,h,!0),Jf(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class nl{}class Sv{}function KI(i,s){return new Tm(i,s??null)}class Tm extends nl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zu(this);const l=cn(s);this._bootstrapComponents=Pa(l.bootstrap),this._r3Injector=Iw(s,a,[{provide:nl,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ie extends Sv{constructor(s){super(),this.moduleType=s}create(s){return new Tm(this.moduleType,s)}}class Sm extends nl{constructor(s,a,l){super(),this.componentFactoryResolver=new zu(this),this.instance=null;const h=new Md([...s,{provide:nl,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],a||xd(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function as(i,s,a=null){return new Sm(i,s,a).injector}let wD=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Td(0,a.type),h=l.length>0?as([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Yt({token:i,providedIn:"environment",factory:()=>new i(dn(br))}),i})();function ah(i){i.getStandaloneInjector=s=>s.get(wD).getOrCreateStandaloneInjector(i)}function JI(i,s,a){const l=Sn()+i,h=De();return h[l]===Vt?is(h,l,a?s.call(a):s()):function Zd(i,s){return i[s]}(h,l)}function _r(i,s,a,l){return lh(De(),Sn(),i,s,a,l)}function XI(i,s,a,l,h){return function ch(i,s,a,l,h,p,_){const I=s+a;return Zo(i,I,h,p)?is(i,I+2,_?l.call(_,h,p):l(h,p)):Us(i,I+2)}(De(),Sn(),i,s,a,l,h)}function Us(i,s){const a=i[s];return a===Vt?void 0:a}function lh(i,s,a,l,h,p){const _=s+a;return Pr(i,_,h)?is(i,_+1,p?l.call(p,h):l(h)):Us(i,_+1)}function ol(i,s){const a=Ht();let l;const h=i+22;a.firstCreatePass?(l=function Wo(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const p=l.factory||(l.factory=Si(l.type)),_=zn(bf);try{const I=pa(!1),E=p();return pa(I),function Ug(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,De(),h,E),E}finally{zn(_)}}function Ha(i,s,a){const l=i+22,h=De(),p=Wi(h,l);return function Nc(i,s){return i[1].data[s].pure}(h,l)?lh(h,Sn(),s,p.transform,a,p):p.transform(a)}function km(i){return s=>{setTimeout(i,void 0,s)}}const go=class np extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,p=a||(()=>null),_=l;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=km(p),h&&(h=km(h)),_&&(_=km(_)));const I=super.subscribe({next:h,error:p,complete:_});return s instanceof J.w0&&s.add(I),I}};function Nm(){return this._results[Li()]()}class al{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Li(),l=al.prototype;l[a]||(l[a]=Nm)}get changes(){return this._changes||(this._changes=new go)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=_n(s);(this._changesDetected=!function ri(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],p=s[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hh=(()=>{class i{}return i.__NG_ELEMENT_ID__=nE,i})();const TD=hh,SD=class extends TD{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,h=dc(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),Sg(l,h,s),new $d(h)}};function nE(){return rp(Tn(),De())}function rp(i,s){return 4&i.type?new SD(s,i,y(i,s)):null}let vr=(()=>{class i{}return i.__NG_ELEMENT_ID__=rE,i})();function rE(){return sE(Tn(),De())}const bn=vr,iE=class extends bn{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const s=Au(this._hostTNode,this._hostLView);if(dd(s)){const a=fa(s,this._hostLView),l=sr(s);return new ro(a[1].data[l+8],a)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Nv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const _=s.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(s,a,l,h,p){const _=s&&!function mi(i){return"function"==typeof i}(s);let I;if(_)I=a;else{const P=a||{};I=P.index,l=P.injector,h=P.projectableNodes,p=P.environmentInjector||P.ngModuleRef}const E=_?s:new Rf(Y(s)),T=l||this.parentInjector;if(!p&&null==E.ngModule){const H=(_?T:this.parentInjector).get(br,null);H&&(p=H)}const M=E.create(T,h,void 0,p);return this.insert(M.hostView,I),M}insert(s,a){const l=s._lView,h=l[1];if(function uu(i){return Mr(i[3])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const P=l[3],H=new iE(P,P[6],P[3]);H.detach(H.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function Xb(i,s,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=s),l<p-10?(s[4]=a[h],wa(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function eC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const I=s[19];null!==I&&I.insertView(i),s[2]|=64}(h,l,_,p);const I=fw(p,_),E=l[11],T=_g(E,_[7]);return null!==T&&function iw(i,s,a,l,h,p){l[0]=h,l[6]=s,oc(i,l,a,1,h,p)}(h,_[6],E,l,T,I),s.attachToViewContainerRef(),wa(Ga(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Nv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Wy(this._lContainer,a);l&&(Er(Ga(this._lContainer),a),yf(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Wy(this._lContainer,a);return l&&null!=Er(Ga(this._lContainer),a)?new $d(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Nv(i){return i[8]}function Ga(i){return i[8]||(i[8]=[])}function sE(i,s){let a;const l=s[i.index];if(Mr(l))a=l;else{let h;if(8&i.type)h=Dn(l);else{const p=s[11];h=p.createComment("");const _=kr(i,s);jo(p,_g(p,_),h,function dw(i,s){return i.nextSibling(s)}(p,_),!1)}s[i.index]=a=Rg(l,s,h,i),S_(s,a)}return new iE(a,i,s)}class Om{constructor(s){this.queryList=s,this.matches=null}clone(){return new Om(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Pm(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Uv(s,a).matches&&this.queries[a].setDirty()}}class Vr{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Ov{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Ov(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Pv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Pv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(s,a,AD(a,p)),this.matchTNodeWithReadOption(s,a,Co(a,s,p,!1,!1))}else l===hh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Co(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===f||h===vr||h===hh&&4&a.type)this.addMatch(a.index,-2);else{const p=Co(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function AD(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function xD(i,s,a,l){return-1===a?function oE(i,s){return 11&i.type?y(i,s):4&i.type?rp(i,s):null}(s,i):-2===a?function MD(i,s,a){return a===f?y(s,i):a===hh?rp(s,i):a===vr?sE(s,i):void 0}(i,s,l):Qi(i,i[1],a,s)}function aE(i,s,a,l){const h=s[19].queries[l];if(null===h.matches){const p=i.data,_=a.matches,I=[];for(let E=0;E<_.length;E+=2){const T=_[E];I.push(T<0?null:xD(s,p[T],_[E+1],a.metadata.read))}h.matches=I}return h.matches}function Fv(i,s,a,l){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const _=aE(i,s,h,a);for(let I=0;I<p.length;I+=2){const E=p[I];if(E>0)l.push(_[I/2]);else{const T=p[I+1],M=s[-E];for(let P=10;P<M.length;P++){const H=M[P];H[17]===H[3]&&Fv(H[1],H,T,l)}if(null!==M[9]){const P=M[9];for(let H=0;H<P.length;H++){const X=P[H];Fv(X[1],X,T,l)}}}}}return l}function Za(i){const s=De(),a=Ht(),l=kl();ca(l+1);const h=Uv(a,l);if(i.dirty&&function au(i){return 4==(4&i[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?Fv(a,s,l,[]):aE(a,s,h,l);i.reset(p,g),i.notifyOnChanges()}return!0}return!1}function uE(i,s,a,l){const h=Ht();if(h.firstCreatePass){const p=Tn();(function Vv(i,s,a){null===i.queries&&(i.queries=new Ov),i.queries.track(new Pv(s,a))})(h,new Vr(s,a,l),p.index),function ph(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Ko(i,s,a){const l=new al(4==(4&a));jw(i,s,l,l.destroy),null===s[19]&&(s[19]=new Pm),s[19].queries.push(new Om(l))}(h,De(),a)}function Lv(){return function lE(i,s){return i[19].queries[s].queryList}(De(),kl())}function Uv(i,s){return i.queries.getByIndex(s)}function Fm(i,s){return rp(i,s)}function Zm(...i){}const DE=new fn("Application Initializer");let Vc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Zm,this.reject=Zm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Hg(p))a.push(p);else if(Gg(p)){const _=new Promise((I,E)=>{p.subscribe({complete:I,error:E})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(dn(DE,8))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vh=new fn("AppId",{providedIn:"root",factory:function wh(){return`${qm()}${qm()}${qm()}`}});function qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kv=new fn("Platform Initializer"),TE=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SE=new fn("appBootstrapListener");let UD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const zm=new fn("LocaleId",{providedIn:"root",factory:()=>C(zm,Ke.Optional|Ke.SkipSelf)||function BD(){return typeof $localize<"u"&&$localize.locale||wn}()}),sp=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yv{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let AE=(()=>{class i{compileModuleSync(a){return new ie(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Pa(cn(a).declarations).reduce((_,I)=>{const E=Y(I);return E&&_.push(new Rf(E)),_},[]);return new Yv(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const xE=(()=>Promise.resolve(0))();function Xv(i){typeof Zone>"u"?xE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class li{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new go(!1),this.onMicrotaskEmpty=new go(!1),this.onStable=new go(!1),this.onError=new go(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function HD(){let i=sn.requestAnimationFrame,s=sn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function n0(i){const s=()=>{!function ME(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(sn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wm(i),i.isCheckStableRunning=!0,t0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,I)=>{try{return kE(i),a.invokeTask(h,p,_,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),r0(i)}},onInvoke:(a,l,h,p,_,I,E)=>{try{return kE(i),a.invoke(h,p,_,I,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),r0(i)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Wm(i),t0(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!li.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(li.isInAngularZone())throw new we(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,s,e0,Zm,Zm);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const e0={};function t0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function kE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function r0(i){i._nesting--,t0(i)}class GD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new go,this.onMicrotaskEmpty=new go,this.onStable=new go,this.onError=new go}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const NE=new fn(""),Uc=new fn("");let s0,Eh=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s0||(function ZD(i){s0=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{li.assertNotInAngularZone(),Xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(dn(li),dn(RE),dn(Uc))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})(),RE=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return s0?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ya=null;const ci=new fn("AllowMultipleToken"),o0=new fn("PlatformDestroyListeners");class OE{constructor(s,a){this.name=s,this.token=a}}function FE(i,s,a=[]){const l=`Platform: ${s}`,h=new fn(l);return(p=[])=>{let _=a0();if(!_||_.injector.get(ci,!1)){const I=[...a,...p,{provide:h,useValue:!0}];i?i(I):function zD(i){if(Ya&&!Ya.get(ci,!1))throw new we(400,!1);Ya=i;const s=i.get(VE);(function PE(i){const s=i.get(Kv,null);s&&s.forEach(a=>a())})(i)}(function LE(i=[],s){return uc.create({name:s,providers:[{provide:Uu,useValue:"platform"},{provide:o0,useValue:new Set([()=>Ya=null])},...i]})}(I,l))}return function KD(i){const s=a0();if(!s)throw new we(401,!1);return s}()}}function a0(){return Ya?.get(VE)??null}let VE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function BE(i,s){let a;return a="noop"===i?new GD:("zone.js"===i?void 0:i)||new li(s),a}(l?.ngZone,function UE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:li,useValue:h}];return h.run(()=>{const _=uc.create({providers:p,parent:this.injector,name:a.moduleType.name}),I=a.create(_),E=I.injector.get(pf,null);if(!E)throw new we(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{E.handleError(M)}});I.onDestroy(()=>{ap(this._modules,I),T.unsubscribe()})}),function jE(i,s,a){try{const l=a();return Hg(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(E,h,()=>{const T=I.injector.get(Vc);return T.runInitializers(),T.donePromise.then(()=>(function pv(i){Bt(i,"Expected localeId to be defined"),"string"==typeof i&&(fv=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(zm,wn)||wn),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,l=[]){const h=$E({},l);return function Jo(i,s,a){const l=new ie(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(Ym);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new we(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(o0,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(dn(uc))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function $E(i,s){return Array.isArray(s)?s.reduce($E,i):{...i,...s}}let Ym=(()=>{class i{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new R.y(I=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{li.assertNotInAngularZone(),Xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{li.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(p,_.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof kd;if(!this._injector.get(Vc).done)throw!h&&Wt(a),new we(405,false);let _;_=h?a:this._injector.get(Na).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const I=function Km(i){return i.isBoundToModule}(_)?void 0:this._injector.get(nl),T=_.create(uc.NULL,[],l||_.selector,I),M=T.location.nativeElement,P=T.injector.get(NE,null);return P?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),ap(this.components,T),P?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;ap(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(SE,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ap(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(dn(li),dn(br),dn(pf))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ap(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let u0=!0,ZE=!1;function l0(){return ZE=!0,u0}function Ur(){if(ZE)throw new Error("Cannot enable prod mode after platform setup.");u0=!1}let cl=(()=>{class i{}return i.__NG_ELEMENT_ID__=WE,i})();function WE(i){return function YD(i,s,a){if(na(i)&&!a){const l=qt(i.index,s);return new $d(l,l)}return 47&i.type?new $d(s[16],s):null}(Tn(),De(),16==(16&i))}class Th{constructor(){}supports(s){return Gd(s)}create(s){return new $c(s)}}const jc=(i,s)=>s;class $c{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jc}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<ny(l,h,p)?a:l,I=ny(_,h,p),E=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const T=I-h,M=E-h;if(T!=M){for(let H=0;H<T;H++){const X=H<p.length?p[H]:p[H]=0,ce=X+H;M<=ce&&ce<T&&(p[H]=X+1)}p[_.previousIndex]=M-T}}I!==E&&s(_,I,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Gd(s))throw new we(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)p=s[I],_=this._trackByFn(I,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,I)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,I),l=!0),a=a._next}else h=0,function Xw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Li()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,I=>{_=this._trackByFn(h,I),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,I,_,h)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new YE(a,l),p,h),s}_verifyReinsertion(s,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class YE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class QE{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new XD,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ny(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class cp{constructor(){}supports(s){return s instanceof Map||Or(s)}create(){return new eT}}class eT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Or(s)))throw new we(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new JE(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class JE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sh(){return new Ah([new Th])}let Ah=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Sh()),deps:[[i,new vt,new Ne]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new we(901,!1)}}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:Sh}),i})();function p0(){return new iy([new cp])}let iy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||p0()),deps:[[i,new vt,new Ne]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new we(901,!1)}}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:p0}),i})();const eb=FE(null,"core",[]);let hl=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(dn(Ym))},i.\u0275mod=Ft({type:i}),i.\u0275inj=Rt({}),i})();function xh(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ut,be,O)=>{O.d(be,{Z:()=>we});var c=O(2090),J=O(4859),R=O(9681),se=O(1877);class oe{constructor(me,pe){this._delegate=me,this.firebase=pe,(0,R._addComponent)(me,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(me,pe=R._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(me);return!ot.isInitialized()&&"EXPLICIT"===(null===(Je=ot.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:pe})}_removeServiceInstance(me,pe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(pe)}_addComponent(me){(0,R._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,R._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function fe(){const tt=function he(tt){const me={},pe={__esModule:!0,initializeApp:function Se(je,U={}){const ge=R.initializeApp(je,U);if((0,c.r3)(me,ge.name))return me[ge.name];const Z=new tt(ge,pe);return me[ge.name]=Z,Z},app:ot,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ie(je){const U=je.name,ge=U.replace("-compat","");if(R._registerComponent(je)&&"PUBLIC"===je.type){const Z=(Q=ot())=>{if("function"!=typeof Q[ge])throw ue.create("invalid-app-argument",{appName:U});return Q[ge]()};void 0!==je.serviceProps&&(0,c.ZB)(Z,je.serviceProps),pe[ge]=Z,tt.prototype[ge]=function(...Q){return this._getService.bind(this,U).apply(this,je.multipleInstances?Q:[])}}return"PUBLIC"===je.type?pe[ge]:null},removeApp:function Je(je){delete me[je]},useAsService:function Be(je,U){return"serverAuth"===U?null:U},modularAPIs:R}};function ot(je){if(!(0,c.r3)(me,je=je||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return me[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function _e(){return Object.keys(me).map(je=>me[je])}}),ot.App=tt,pe}(oe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(pe){(0,c.ZB)(tt,pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),j=new se.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=B;!function Ae(tt){(0,R.registerVersion)("@firebase/app-compat","0.1.38",tt)}()},9681:(ut,be,O)=>{O.r(be),O.d(be,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>$s,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Yt,_apps:()=>on,_clearComponents:()=>Hi,_components:()=>pn,_getProvider:()=>Rt,_registerComponent:()=>Sr,_removeServiceInstance:()=>un,deleteApp:()=>ea,getApp:()=>Qr,getApps:()=>Jr,initializeApp:()=>hi,onLog:()=>fs,registerVersion:()=>wr,setLogLevel:()=>zn});var c=O(5861),J=O(4859),R=O(1877),se=O(2090),oe=O(8766);class de{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function ue(et){return"VERSION"===et.getComponent()?.type}(Xe)){const Et=Xe.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Xe=>Xe).join(" ")}}const he="@firebase/app",B=new R.Yd("@firebase/app"),Bt="[DEFAULT]",We={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,pn=new Map;function zt(et,Ce){try{et.container.addComponent(Ce)}catch(Xe){B.debug(`Component ${Ce.name} failed to register with FirebaseApp ${et.name}`,Xe)}}function Yt(et,Ce){et.container.addOrOverwriteComponent(Ce)}function Sr(et){const Ce=et.name;if(pn.has(Ce))return B.debug(`There were multiple attempts to register component ${Ce}.`),!1;pn.set(Ce,et);for(const Xe of on.values())zt(Xe,et);return!0}function Rt(et,Ce){const Xe=et.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),et.container.getProvider(Ce)}function un(et,Ce,Xe=Bt){Rt(et,Ce).clearInstance(Xe)}function Hi(){pn.clear()}const Ar=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Br{constructor(Ce,Xe,Et){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const $s="9.13.0";function hi(et,Ce={}){let Xe=et;"object"!=typeof Ce&&(Ce={name:Ce});const Et=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},Ce),_t=Et.name;if("string"!=typeof _t||!_t)throw Ar.create("bad-app-name",{appName:String(_t)});if(Xe||(Xe=(0,se.aH)()),!Xe)throw Ar.create("no-options");const Ft=on.get(_t);if(Ft){if((0,se.vZ)(Xe,Ft.options)&&(0,se.vZ)(Et,Ft.config))return Ft;throw Ar.create("duplicate-app",{appName:_t})}const $=new J.H0(_t);for(const q of pn.values())$.addComponent(q);const L=new Br(Xe,Et,$);return on.set(_t,L),L}function Qr(et=Bt){const Ce=on.get(et);if(!Ce&&et===Bt)return hi();if(!Ce)throw Ar.create("no-app",{appName:et});return Ce}function Jr(){return Array.from(on.values())}function ea(et){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(et){const Ce=et.name;on.has(Ce)&&(on.delete(Ce),yield Promise.all(et.container.getProviders().map(Xe=>Xe.delete())),et.isDeleted=!0)})).apply(this,arguments)}function wr(et,Ce,Xe){var Et;let _t=null!==(Et=We[et])&&void 0!==Et?Et:et;Xe&&(_t+=`-${Xe}`);const Ft=_t.match(/\s|\//),$=Ce.match(/\s|\//);if(Ft||$){const L=[`Unable to register library "${_t}" with version "${Ce}":`];return Ft&&L.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Ft&&$&&L.push("and"),$&&L.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void B.warn(L.join(" "))}Sr(new J.wA(`${_t}-version`,()=>({library:_t,version:Ce}),"VERSION"))}function fs(et,Ce){if(null!==et&&"function"!=typeof et)throw Ar.create("invalid-log-argument");(0,R.Am)(et,Ce)}function zn(et){(0,R.Ub)(et)}const Mn="firebase-heartbeat-store";let Ln=null;function hn(){return Ln||(Ln=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(et,Ce)=>{0===Ce&&et.createObjectStore(Mn)}}).catch(et=>{throw Ar.create("idb-open",{originalErrorMessage:et.message})})),Ln}function lt(){return(lt=(0,c.Z)(function*(et){var Ce;try{return(yield hn()).transaction(Mn).objectStore(Mn).get(Vn(et))}catch(Xe){if(Xe instanceof se.ZR)B.warn(Xe.message);else{const Et=Ar.create("idb-get",{originalErrorMessage:null===(Ce=Xe)||void 0===Ce?void 0:Ce.message});B.warn(Et.message)}}})).apply(this,arguments)}function sn(et,Ce){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(et,Ce){var Xe;try{const _t=(yield hn()).transaction(Mn,"readwrite");return yield _t.objectStore(Mn).put(Ce,Vn(et)),_t.done}catch(Et){if(Et instanceof se.ZR)B.warn(Et.message);else{const _t=Ar.create("idb-set",{originalErrorMessage:null===(Xe=Et)||void 0===Xe?void 0:Xe.message});B.warn(_t.message)}}})).apply(this,arguments)}function Vn(et){return`${et.name}!${et.options.appId}`}class ps{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Xt(Xe),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const Et=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Jt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==_t&&!Ce._heartbeatsCache.heartbeats.some(Ft=>Ft.date===_t))return Ce._heartbeatsCache.heartbeats.push({date:_t,agent:Et}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Ft=>{const $=new Date(Ft.date).valueOf();return Date.now()-$<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Xe=Jt(),{heartbeatsToSend:Et,unsentEntries:_t}=function Di(et,Ce=1024){const Xe=[];let Et=et.slice();for(const _t of et){const Ft=Xe.find($=>$.agent===_t.agent);if(Ft){if(Ft.dates.push(_t.date),Wn(Xe)>Ce){Ft.dates.pop();break}}else if(Xe.push({agent:_t.agent,dates:[_t.date]}),Wn(Xe)>Ce){Xe.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Et}}(Ce._heartbeatsCache.heartbeats),Ft=(0,se.L)(JSON.stringify({version:2,heartbeats:Et}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Xe,_t.length>0?(Ce._heartbeatsCache.heartbeats=_t,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Ft})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function gt(et){return lt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Xe=this;return(0,c.Z)(function*(){var Et;if(yield Xe._canUseIndexedDBPromise){const Ft=yield Xe.read();return sn(Xe.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Ft.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Xe=this;return(0,c.Z)(function*(){var Et;if(yield Xe._canUseIndexedDBPromise){const Ft=yield Xe.read();return sn(Xe.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...Ce.heartbeats]})}})()}}function Wn(et){return(0,se.L)(JSON.stringify({version:2,heartbeats:et})).length}!function xr(et){Sr(new J.wA("platform-logger",Ce=>new de(Ce),"PRIVATE")),Sr(new J.wA("heartbeat",Ce=>new ps(Ce),"PRIVATE")),wr(he,"0.8.3",et),wr(he,"0.8.3","esm2017"),wr("fire-js","")}("")},4859:(ut,be,O)=>{O.d(be,{H0:()=>he,wA:()=>R});var c=O(5861),J=O(2090);class R{constructor(B,j,W){this.name=B,this.instanceFactory=j,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class oe{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const W=new J.BH;if(this.instancesDeferred.set(j,W),this.isInitialized(j)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:j});Le&&W.resolve(Le)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const W=this.normalizeInstanceIdentifier(B?.identifier),Le=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(Ae){if(Le)return null;throw Ae}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ue(fe){return"EAGER"===fe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,W]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:Le});W.resolve(Ae)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,c.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...j.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,W=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:W,options:j});for(const[Ae,we]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(Ae)&&we.resolve(Le);return Le}onInit(B,j){var W;const Le=this.normalizeInstanceIdentifier(j),Ae=null!==(W=this.onInitCallbacks.get(Le))&&void 0!==W?W:new Set;Ae.add(B),this.onInitCallbacks.set(Le,Ae);const we=this.instances.get(Le);return we&&B(we,Le),()=>{Ae.delete(B)}}invokeOnInitCallbacks(B,j){const W=this.onInitCallbacks.get(j);if(W)for(const Le of W)try{Le(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let W=this.instances.get(B);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=B,fe===se?void 0:fe),options:j}),this.instances.set(B,W),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(W,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,W)}catch{}var fe;return W||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new oe(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,be,O)=>{O.d(be,{Am:()=>fe,Ub:()=>he,Yd:()=>ue,in:()=>J});const c=[];var J=(()=>{return(B=J||(J={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",J;var B})();const R={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},se=J.INFO,oe={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},de=(B,j,...W)=>{if(j<B.logLevel)return;const Le=(new Date).toISOString(),Ae=oe[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${Le}]  ${B.name}:`,...W)};class ue{constructor(j){this.name=j,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in J))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...j),this._logHandler(this,J.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...j),this._logHandler(this,J.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,J.INFO,...j),this._logHandler(this,J.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,J.WARN,...j),this._logHandler(this,J.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...j),this._logHandler(this,J.ERROR,...j)}}function he(B){c.forEach(j=>{j.setLogLevel(B)})}function fe(B,j){for(const W of c){let Le=null;j&&j.level&&(Le=R[j.level]),W.userLogHandler=null===B?null:(Ae,we,...tt)=>{const me=tt.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");we>=(Le??Ae.logLevel)&&B({level:J[we].toLowerCase(),message:me,args:tt,type:Ae.name})}}}},8766:(ut,be,O)=>{O.d(be,{Lj:()=>Se,X3:()=>ot});var c=O(5861);let R,se;const ue=new WeakMap,he=new WeakMap,fe=new WeakMap,B=new WeakMap,j=new WeakMap;let Ae={get(U,ge,Z){if(U instanceof IDBTransaction){if("done"===ge)return he.get(U);if("objectStoreNames"===ge)return U.objectStoreNames||fe.get(U);if("store"===ge)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return pe(U[ge])},set:(U,ge,Z)=>(U[ge]=Z,!0),has:(U,ge)=>U instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in U};function me(U){return"function"==typeof U?function tt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ge){return U.apply(Je(this),ge),pe(ue.get(this))}:function(...ge){return pe(U.apply(Je(this),ge))}:function(ge,...Z){const Q=U.call(Je(this),ge,...Z);return fe.set(Q,ge.sort?ge.sort():[ge]),pe(Q)}}(U):(U instanceof IDBTransaction&&function Le(U){if(he.has(U))return;const ge=new Promise((Z,Q)=>{const re=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Pe),U.removeEventListener("abort",Pe)},ne=()=>{Z(),re()},Pe=()=>{Q(U.error||new DOMException("AbortError","AbortError")),re()};U.addEventListener("complete",ne),U.addEventListener("error",Pe),U.addEventListener("abort",Pe)});he.set(U,ge)}(U),((U,ge)=>ge.some(Z=>U instanceof Z))(U,function oe(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ae):U)}function pe(U){if(U instanceof IDBRequest)return function W(U){const ge=new Promise((Z,Q)=>{const re=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Pe)},ne=()=>{Z(pe(U.result)),re()},Pe=()=>{Q(U.error),re()};U.addEventListener("success",ne),U.addEventListener("error",Pe)});return ge.then(Z=>{Z instanceof IDBCursor&&ue.set(Z,U)}).catch(()=>{}),j.set(ge,U),ge}(U);if(B.has(U))return B.get(U);const ge=me(U);return ge!==U&&(B.set(U,ge),j.set(ge,U)),ge}const Je=U=>j.get(U);function ot(U,ge,{blocked:Z,upgrade:Q,blocking:re,terminated:ne}={}){const Pe=indexedDB.open(U,ge),Oe=pe(Pe);return Q&&Pe.addEventListener("upgradeneeded",pt=>{Q(pe(Pe.result),pt.oldVersion,pt.newVersion,pe(Pe.transaction))}),Z&&Pe.addEventListener("blocked",()=>Z()),Oe.then(pt=>{ne&&pt.addEventListener("close",()=>ne()),re&&pt.addEventListener("versionchange",()=>re())}).catch(()=>{}),Oe}function Se(U,{blocked:ge}={}){const Z=indexedDB.deleteDatabase(U);return ge&&Z.addEventListener("blocked",()=>ge()),pe(Z).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Be=new Map;function je(U,ge){if(!(U instanceof IDBDatabase)||ge in U||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const Z=ge.replace(/FromIndex$/,""),Q=ge!==Z,re=Ie.includes(Z);if(!(Z in(Q?IDBIndex:IDBObjectStore).prototype)||!re&&!_e.includes(Z))return;const ne=function(){var Pe=(0,c.Z)(function*(Oe,...pt){const Kt=this.transaction(Oe,re?"readwrite":"readonly");let Bt=Kt.store;return Q&&(Bt=Bt.index(pt.shift())),(yield Promise.all([Bt[Z](...pt),re&&Kt.done]))[0]});return function(pt){return Pe.apply(this,arguments)}}();return Be.set(ge,ne),ne}!function we(U){Ae=U(Ae)}(U=>({...U,get:(ge,Z,Q)=>je(ge,Z)||U.get(ge,Z,Q),has:(ge,Z)=>!!je(ge,Z)||U.has(ge,Z)}))},5861:(ut,be,O)=>{function c(R,se,oe,de,ue,he,fe){try{var B=R[he](fe),j=B.value}catch(W){return void oe(W)}B.done?se(j):Promise.resolve(j).then(de,ue)}function J(R){return function(){var se=this,oe=arguments;return new Promise(function(de,ue){var he=R.apply(se,oe);function fe(j){c(he,de,ue,fe,B,"next",j)}function B(j){c(he,de,ue,fe,B,"throw",j)}fe(void 0)})}}O.d(be,{Z:()=>J})}},ut=>{ut(ut.s=2194)}]);